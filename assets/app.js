var define,requireModule,require,requirejs;(function(){var registry={},seen={},state={};var FAILED=false;define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}};function reify(deps,name,seen){var length=deps.length;var reified=new Array(length);var dep;var exports;for(var i=0,l=length;i<l;i++){dep=deps[i];if(dep==="exports"){exports=reified[i]=seen}else{reified[i]=require(resolve(dep,name))}}return{deps:reified,exports:exports}}requirejs=require=requireModule=function(name){if(state[name]!==FAILED&&seen.hasOwnProperty(name)){return seen[name]}if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name];var reified;var module;var loaded=false;seen[name]={};try{reified=reify(mod.deps,name,seen[name]);module=mod.callback.apply(this,reified.deps);loaded=true}finally{if(!loaded){state[name]=FAILED}}return reified.exports?seen[name]:seen[name]=module};function resolve(child,name){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var nameParts=name.split("/");var parentBase;if(nameParts.length===1){parentBase=nameParts}else{parentBase=nameParts.slice(0,-1)}for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}requirejs.entries=requirejs._eak_seen=registry;requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=registry={};seen=state={}}})();define("ember-flows-generator/app",["ember/resolver","ember/load-initializers","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Resolver=__dependency1__["default"];var loadInitializers=__dependency2__["default"];Ember.MODEL_FACTORY_INJECTIONS=true;var App=Ember.Application.extend({LOG_ACTIVE_GENERATION:true,LOG_MODULE_RESOLVER:true,LOG_VIEW_LOOKUPS:true,modulePrefix:"ember-flows-generator",Resolver:Resolver});loadInitializers(App,"ember-flows-generator");__exports__["default"]=App});define("ember-flows-generator/components/code-editor",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Component.extend({classNames:["code-editor"],editor:undefined,code:"",didInsertElement:function(){var parent=this.$()[0];var editor=CodeMirror(parent,{mode:"text/javascript",tabSize:2,value:this.get("code")});this.set("editor",editor);editor.on("changes",function(editor){this.set("code",editor.getValue())}.bind(this))}})});define("ember-flows-generator/components/tree-node",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Component.extend({tagName:"li",classNames:["tree-node"],classNameBindings:["focused"],dragging:false,dragproxy:function(){var dragproxy=document.createElement("div");dragproxy.className="dragproxy";dragproxy.innerHTML=this.get("node.value.name");return dragproxy}.property(),focused:function(){return this.get("currentNode")==this.get("node")}.property("currentNode"),actions:{focus:function(node){this.sendAction("focus",node)}},mouseDown:function(e){if(e.target!==this.$("> .target")[0]){return}e.preventDefault();var dragproxy=this.get("dragproxy");document.body.appendChild(dragproxy);var dims=dragproxy.getBoundingClientRect();var mouseMoveHandler=function(e){e.preventDefault();this.set("dragging",true);document.body.classList.add("dragging");dragproxy.style.top=e.pageY-dims.height/2+"px";dragproxy.style.left=e.pageX-dims.width/2+"px"}.bind(this);var mouseUpHandler=function(e){e.preventDefault();document.body.removeEventListener("mousemove",mouseMoveHandler);document.body.removeEventListener("mouseup",mouseUpHandler);document.body.classList.remove("dragging");document.body.removeChild(dragproxy);dragproxy.style.top="";dragproxy.style.left="";this.set("dragging",false)}.bind(this);document.body.addEventListener("mousemove",mouseMoveHandler);document.body.addEventListener("mouseup",mouseUpHandler)}})});define("ember-flows-generator/controllers/canvas",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Controller.extend()});define("ember-flows-generator/controllers/details",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Controller.extend()});define("ember-flows-generator/controllers/index",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Controller.extend()});define("ember-flows-generator/controllers/router",["exports"],function(__exports__){"use strict";function buildSubTree(routeTree,route){var handlers=route.handlers;var subTree=routeTree;var item;for(var i=0;i<handlers.length;i++){item=handlers[i];var handler=item.handler;if(subTree[handler]===undefined){subTree[handler]={value:{name:handler}};if(i===handlers.length-1){subTree[handler].value.type="route"}else{subTree[handler].children={};subTree[handler].value.type="resource"}}subTree=subTree[handler].children}}function arrayizeChildren(routeTree){var obj={value:routeTree.value};if(routeTree.children){var childrenArray=[];for(var i in routeTree.children){var route=routeTree.children[i];childrenArray.push(arrayizeChildren(route))}obj.children=childrenArray}return Ember.Object.create(obj)}__exports__["default"]=Ember.Controller.extend({flipped:false,code:"var Router = Ember.Router.extend({\n  rootURL: ENV.rootURL,\n  location: 'auto'\n});\n\nRouter.map(function() {\n  this.route('asdf');\n});\n\nexport default Router;",changeCount:0,routeTree:function(){var compiler,transpiledCode,router;var code=this.get("code");this.incrementProperty("changeCount");try{compiler=new ModuleTranspiler.Compiler(code,"router"+this.get("changeCount"),{imports:[]});transpiledCode=compiler.toAMD();transpiledCode=loopProtect.rewriteLoops(transpiledCode);eval(transpiledCode);router=require("router"+this.get("changeCount")).default}catch(e){return e}var routeNames=router.create().router.recognizer.names;var routeTree={};var route=undefined;for(var routeName in routeNames){if(!routeNames.hasOwnProperty(routeName)){continue}route=routeNames[routeName];buildSubTree.call(this,routeTree,route)}this.set("currentRoute",undefined);return arrayizeChildren({children:routeTree}).children[0]}.property("code"),routeTreeError:function(){return this.get("routeTree")instanceof Error}.property("routeTree"),currentRoute:undefined,actions:{flip:function(){this.toggleProperty("flipped")},focus:function(route){this.set("currentRoute",route)}}})});define("ember-flows-generator/controllers/state",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Controller.extend({flipped:false,code:"Ember.Object.extend();",actions:{flip:function(){this.toggleProperty("flipped")}}})});define("ember-flows-generator/controllers/stepper",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Controller.extend()});define("ember-flows-generator/initializers/loop-protect",["exports"],function(__exports__){"use strict";__exports__["default"]={name:"loop-protect",initialize:function(container,app){loopProtect.method="loopProtect.protect"}}});define("ember-flows-generator/main",["exports"],function(__exports__){"use strict";__exports__["default"]=function bootApp(prefix,attributes){var App=require(prefix+"/app")["default"];var initializersRegExp=new RegExp(prefix+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(key){return initializersRegExp.test(key)}).forEach(function(moduleName){var module=require(moduleName,null,null,true);if(!module){throw new Error(moduleName+" must export an initializer.")}App.initializer(module["default"])});return App.create(attributes||{})}});define("ember-flows-generator/router",["exports"],function(__exports__){"use strict";var Router=Ember.Router.extend({rootURL:ENV.rootURL,location:"hash"});Router.map(function(){this.route("state");this.route("stepper");this.route("router");this.route("canvas");this.route("details")});__exports__["default"]=Router});define("ember-flows-generator/routes/index",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Route.extend({})});define("ember-flows-generator/templates/application",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile('<header class="main">\n  <h1>{{#link-to \'index\'}}ember-flows{{/link-to}}</h1>\n  <a class="button" href="https://github.com/nathanhammond/ember-flows-generator"><img src="img/fork.svg" width="12" alt="Fork" /></a>\n  <div class="buttons"><button>IMPORT</button><button>EXPORT</button></div>\n</header>\n{{outlet}}\n')});define("ember-flows-generator/templates/canvas",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile("<header>\n  <h1>{{#link-to 'canvas'}}Canvas{{/link-to}}</h1>\n</header>\n<div class=\"body\">\n</div>\n")});define("ember-flows-generator/templates/components/tree-node",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile('<span class="target" {{action \'focus\' node}}>{{node.value.name}}</span>\n{{#if node.children}}\n  <ul>\n    {{#each node in node.children}}\n      {{tree-node node=node currentNode=currentNode focus="focus"}}\n    {{/each}}\n  </ul>\n{{/if}}\n')});define("ember-flows-generator/templates/details",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile('<header>\n  <h1>{{#link-to \'details\'}}Details{{/link-to}}</h1>\n</header>\n<div class="body">\n  <form>\n    <label for="route-name">Route Name {{input type="text" id="route-name" name="route-name" value=routeName}}</label>\n    <label for="entry-node">{{input type="checkbox" id="entry-node" name="entry-node" checked=entryNode}} Entry Node</label>\n  </form>\n\n  <h2>Actions</h2>\n  <ul>\n    <li>Action Name - Action Description - Linked</li>\n  </ul>\n  <form>\n    <h3>Add</h3>\n    <label for="action-name">Action Name {{input type="text" id="action-name" name="action-name" value=actionName}}</label>\n    <label for="action-description">Action Description {{input type="text" id="action-description" name="action-description" value=actionName}}</label>\n\n    <button>Add Action</button>\n  </form>\n</div>\n')});define("ember-flows-generator/templates/error",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile("<h1>Sorry, Something went wrong</h1>\n{{message}}\n<pre>\n{{stack}}\n</pre>\n")});define("ember-flows-generator/templates/index",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile("{{render 'state'}}\n<div class=\"resize horizontal\"></div>\n<section class=\"workspace\">\n  {{render 'canvas'}}\n  <div class=\"resize vertical\"></div>\n  {{render 'details'}}\n  <div class=\"resize vertical\"></div>\n  {{render 'stepper'}}\n</section>\n<div class=\"resize horizontal\"></div>\n{{render 'router'}}\n")});define("ember-flows-generator/templates/loading",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile("<h1>Loading...</h1>\n")});define("ember-flows-generator/templates/router",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile('<header>\n  <h1>{{#link-to \'router\'}}ROUTER{{/link-to}}</h1>\n  <div class="card">\n    <button class="side front" {{action "flip"}}>NODES</button>\n    <button class="side back" {{action "flip"}}>CODE</button>\n  </div>\n</header>\n<div class="body card">\n  <div class="side front">\n      {{#unless routeTreeError}}\n        <ul>\n          {{tree-node node=routeTree currentNode=currentRoute focus="focus"}}\n        </ul>\n      {{else}}\n        There is an error in your route file.\n      {{/unless}}\n  </div>\n  <div class="side back">\n    {{code-editor code=code}}\n  </div>\n</div>\n')});define("ember-flows-generator/templates/state",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile('<header>\n  <h1>{{#link-to \'state\'}}STATE{{/link-to}}</h1>\n  <div class="card">\n    <button class="side front" {{action "flip"}}>CALC</button>\n    <button class="side back" {{action "flip"}}>CODE</button>\n  </div>\n</header>\n<div class="body card">\n  <div class="side front"></div>\n  <div class="side back">\n    {{code-editor code=code}}\n  </div>\n</div>\n')});define("ember-flows-generator/templates/stepper",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.Handlebars.compile("<header>\n  <h1>{{#link-to 'stepper'}}Stepper{{/link-to}}</h1>\n</header>\n<div class=\"body\">\n  <form>\n    <button>PLAY</button>\n  </form>\n</div>\n")});define("ember-flows-generator/views/application",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({classNames:["application"],resizing:false,mouseDown:function(e){if(!e.target.classList.contains("resize")){return}e.preventDefault();this.set("resizing",true);var elem=e.target;var dimension=elem.classList.contains("horizontal")?"width":"height";elem.classList.add("active");document.body.classList.add("resizing","resizing-"+dimension);var mouseMoveHandler=function(e){e.preventDefault();var measure,cursor;if(dimension=="width"){measure="right";cursor=e.pageX}else{measure="bottom";cursor=e.pageY}var previous=elem.previousElementSibling;var next=elem.nextElementSibling;var previousrect=previous.getBoundingClientRect();var nextrect=next.getBoundingClientRect();var newpreviousdimension=previousrect[dimension]-(previousrect[measure]-cursor);var newnextdimension=nextrect[dimension]+(previousrect[measure]-cursor);previous.style[dimension]=newpreviousdimension+"px";next.style[dimension]=newnextdimension+"px"}.bind(this);var mouseUpHandler=function(e){e.preventDefault();document.body.removeEventListener("mousemove",mouseMoveHandler);document.body.removeEventListener("mouseup",mouseUpHandler);var sections=[].slice.call(elem.parentNode.childNodes).filter(function(element){return element.nodeType===Node.ELEMENT_NODE&&element.tagName.toLowerCase()==="section"});var dimensions=[];sections.forEach(function(section){dimensions.push(section.getBoundingClientRect()[dimension])});var sum=dimensions.reduce(function(a,b){return a+b});var cumulative=0;sections.forEach(function(section,index){if(index===dimensions.length-1){section.style[dimension]=100-cumulative+"%"}else{cumulative+=dimensions[index]/sum*100;section.style[dimension]=dimensions[index]/sum*100+"%"}});elem.classList.remove("active");document.body.classList.remove("resizing","resizing-"+dimension);this.set("resizing",false)}.bind(this);document.body.addEventListener("mousemove",mouseMoveHandler);document.body.addEventListener("mouseup",mouseUpHandler)}})});define("ember-flows-generator/views/canvas",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"section",classNames:["canvas"]})});define("ember-flows-generator/views/details",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"section",classNames:["details"]})});define("ember-flows-generator/views/index",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"main",classNames:["index"]})});define("ember-flows-generator/views/router",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"section",classNames:["router"],classNameBindings:["flipped"],flipped:Ember.computed.alias("controller.flipped")})});define("ember-flows-generator/views/state",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"section",classNames:["state"],classNameBindings:["flipped"],flipped:Ember.computed.alias("controller.flipped")})});define("ember-flows-generator/views/stepper",["exports"],function(__exports__){"use strict";__exports__["default"]=Ember.View.extend({tagName:"section",classNames:["stepper"]})});(function(window,undefined){var readyList,rootjQuery,core_strundefined=typeof undefined,document=window.document,location=window.location,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="1.9.1",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()},completed=function(event){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready()}},detach=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false)}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed)}};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return num==null?this.toArray():num<0?this[this.length+num]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.ready.promise().done(fn);return this},slice:function(){return this.pushStack(core_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}if(!document.body){return setTimeout(jQuery.ready)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){if(obj==null){return String(obj)}return typeof obj==="object"||typeof obj==="function"?class2type[core_toString.call(obj)]||"object":typeof obj},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)},parseJSON:function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(data===null){return data}if(typeof data==="string"){data=jQuery.trim(data);if(data){if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return new Function("return "+data)()}}}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:core_trim&&!core_trim.call("﻿ ")?function(text){return text==null?"":core_trim.call(text)}:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{core_push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return-1},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}return core_concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach();jQuery.ready()}})()}}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||type!=="function"&&(length===0||typeof length==="number"&&length>0&&length-1 in obj)}rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});jQuery.support=function(){var support,all,a,input,select,fragment,opt,eventName,isSupported,i,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length){return{}}select=document.createElement("select");
opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={getSetAttribute:div.className!=="t",leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:!!input.value,optSelected:opt.selected,enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:document.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","t");input.setAttribute("name","t");fragment=document.createDocumentFragment();fragment.appendChild(input);support.appendChecked=input.checked;support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false});div.cloneNode(true).click()}for(i in{submit:true,change:true,focusin:true}){div.setAttribute(eventName="on"+i,"t");support[i+"Bubbles"]=eventName in window||div.attributes[eventName].expando===false}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";jQuery(function(){var container,marginDiv,tds,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];if(!body){return}container=document.createElement("div");container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";body.appendChild(container).appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=tds[0].offsetHeight===0;tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&tds[0].offsetHeight===0;div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=div.offsetWidth===4;support.doesNotIncludeMarginInBodyOffset=body.offsetTop!==1;if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!==core_strundefined){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=div.offsetWidth===3;div.style.display="block";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=div.offsetWidth!==3;if(support.inlineBlockNeedsLayout){body.style.zoom=1}}body.removeChild(container);container=div=tds=marginDiv=null});all=select=fragment=opt=a=input=null;return support}();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return}var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&getByName&&data===undefined){return}if(!id){if(isNode){elem[internalKey]=id=core_deletedIds.pop()||jQuery.guid++}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret}function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return}var i,l,thisCache,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase))}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return}}if(isNode){jQuery.cleanData([elem],true)}else if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}}jQuery.extend({cache:{},expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,true)},_removeData:function(elem,name){return internalRemoveData(elem,name,true)},acceptData:function(elem){if(elem.nodeType&&elem.nodeType!==1&&elem.nodeType!==9){return false}var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==true&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({data:function(key,value){var attrs,name,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attrs=elem.attributes;for(;i<attrs.length;i++){name=attrs[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}return jQuery.access(this,function(value){if(value===undefined){return elem?dataAttr(elem,key,jQuery.data(elem,key)):null}this.each(function(){jQuery.data(this,key,value)})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}hooks.cur=fn;if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var nodeHook,boolHook,rclass=/[\t\r\n]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i,rboolean=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,getSetInput=jQuery.support.input;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}elem.className=jQuery.trim(cur)}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}elem.className=value?jQuery.trim(cur):""}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.match(core_rnotwhite)||[];while(className=classNames[i++]){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else if(type===core_strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false},val:function(value){var ret,hooks,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attr:function(elem,name,value){var hooks,notxml,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===core_strundefined){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&notxml&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&notxml&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{if(typeof elem.getAttribute!==core_strundefined){ret=elem.getAttribute(name)}return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(rboolean.test(name)){if(!getSetAttribute&&ruseDefault.test(name)){elem[jQuery.camelCase("default-"+name)]=elem[propName]=false}else{elem[propName]=false}}else{jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName)}}},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return elem[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={get:function(elem,name){var prop=jQuery.prop(elem,name),attr=typeof prop==="boolean"&&elem.getAttribute(name),detail=typeof prop==="boolean"?getSetInput&&getSetAttribute?attr!=null:ruseDefault.test(name)?elem[jQuery.camelCase("default-"+name)]:!!attr:elem.getAttributeNode(name);return detail&&detail.value!==false?name.toLowerCase():undefined},set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name)}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true}return name}};if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={get:function(elem,name){var ret=elem.getAttributeNode(name);return jQuery.nodeName(elem,"input")?elem.defaultValue:ret&&ret.specified?ret.value:undefined},set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value}else{return nodeHook&&nodeHook.set(elem,value,name)}}}}if(!getSetAttribute){nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&(name==="id"||name==="name"||name==="coords"?ret.value!=="":ret.specified)?ret.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name))}ret.value=value+="";return name==="value"||value===elem.getAttribute(name)?value:undefined}};jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name)}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})})}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret==null?undefined:ret}})});jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined},set:function(elem,value){return elem.style.cssText=value+""}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}})});var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==core_strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events")}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=true;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},special:{load:{noBubble:true},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==document.activeElement&&this.focus){try{this.focus();return false}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===document.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(event){if(event.result!==undefined){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===core_strundefined){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;
if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"submitBubbles",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"changeBubbles",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox"){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});(function(window,undefined){var i,cachedruns,Expr,getText,isXML,compile,hasDuplicate,outermostContext,setDocument,document,docElem,documentIsXML,rbuggyQSA,rbuggyMatches,matches,contains,sortOrder,expando="sizzle"+-new Date,preferredDoc=window.document,support={},dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),strundefined=typeof undefined,MAX_NEGATIVE=1<<31,arr=[],pop=arr.pop,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i}}return-1},whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rsibling=/[\x20\t\r\n\f]*[+~]/,rnative=/^[^{]+\{\s*\[native code/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,runescape=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,funescape=function(_,escaped){var high="0x"+escaped-65536;return high!==high?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)};try{slice.call(preferredDoc.documentElement.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];while(elem=this[i++]){results.push(elem)}return results}}function isNative(fn){return rnative.test(fn+"")}function createCache(){var cache,keys=[];return cache=function(key,value){if(keys.push(key+=" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key]=value}}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return false}finally{div=null}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];if(!selector||typeof selector!=="string"){return results}if((nodeType=context.nodeType)!==1&&nodeType!==9){return[]}if(!documentIsXML&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else if((m=match[3])&&support.getByClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}if(support.qsa&&!rbuggyQSA.test(selector)){old=true;nid=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if(old=context.getAttribute("id")){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;documentIsXML=isXML(doc);support.tagNameNoComments=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.attributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"});support.getByClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false}div.lastChild.className="e";return div.getElementsByClassName("e").length===2});support.getByName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=doc.getElementsByName&&doc.getElementsByName(expando).length===2+doc.getElementsByName(expando+0).length;support.getIdNotName=!doc.getElementById(expando);docElem.removeChild(div);return pass});Expr.attrHandle=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"})?{}:{href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}};if(support.getIdNotName){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.tagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["NAME"]=support.getByName&&function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name)}};Expr.find["CLASS"]=support.getByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&!documentIsXML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[":focus"];if(support.qsa=isNative(doc.querySelectorAll)){assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){div.innerHTML="<input type='hidden' i=''/>";if(div.querySelectorAll("[i^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=isNative(matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=new RegExp(rbuggyQSA.join("|"));rbuggyMatches=new RegExp(rbuggyMatches.join("|"));contains=isNative(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=docElem.compareDocumentPosition?function(a,b){var compare;if(a===b){hasDuplicate=true;return 0}if(compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b)){if(compare&1||a.parentNode&&a.parentNode.nodeType===11){if(a===doc||contains(preferredDoc,a)){return-1}if(b===doc||contains(preferredDoc,b)){return 1}return 0}return compare&4?-1:1}return a.compareDocumentPosition?-1:1}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b){hasDuplicate=true;return 0}else if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};hasDuplicate=false;[0,0].sort(sortOrder);support.detectDuplicates=hasDuplicate;return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&!documentIsXML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&!rbuggyQSA.test(expr)){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){var val;if((elem.ownerDocument||elem)!==document){setDocument(elem)}if(!documentIsXML){name=name.toLowerCase()}if(val=Expr.attrHandle[name]){return val(elem)}if(documentIsXML||support.attributes){return elem.getAttribute(name)}return((val=elem.getAttributeNode(name))||elem.getAttribute(name))&&elem[name]===true?name:val&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=!support.detectDuplicates;results.sort(sortOrder);if(hasDuplicate){for(;elem=results[i];i++){if(elem===results[i-1]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}return results};function siblingCheck(a,b){var cur=b&&a,diff=cur&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){for(;node=elem[i];i++){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[4]){match[2]=match[4]}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeName){if(nodeName==="*"){return function(){return true}}nodeName=nodeName.replace(runescape,funescape).toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsXML?elem.getAttribute("xml:lang")||elem.getAttribute("lang"):elem.lang){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeName>"@"||elem.nodeType===3||elem.nodeType===4){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===elem.type)},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===true||data===cachedruns){return data===true}}else{cache=outerCache[dir]=[dirkey];cache[1]=matcher(elem,context,xml)||cachedruns;if(cache[1]===true){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1)).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1;if(outermost){outermostContext=context!==document&&context;cachedruns=matcherCachedRuns}for(;(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique;cachedruns=++matcherCachedRuns}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!group){group=tokenize(selector)}i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!documentIsXML&&Expr.relative[tokens[1].type]){context=Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)[0];if(!context){return results}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,slice.call(seed,0));return results
}break}}}}}compile(selector,match)(seed,context,documentIsXML,results,rsibling.test(selector));return results}Expr.pseudos["nth"]=Expr.pseudos["eq"];function setFilters(){}Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters;setDocument();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,ret,self,len=this.length;if(typeof selector!=="string"){self=this;return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}ret=[];for(i=0;i<len;i++){jQuery.find(selector,this[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=(this.selector?this.selector+" ":"")+selector;return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false))},filter:function(selector){return this.pushStack(winnow(this,selector,true))},is:function(selector){return!!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}}return this.pushStack(ret.length>1?jQuery.unique(ret):ret)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret)}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier===keep})}else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(elem,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,false,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length>0){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false))}while(elem.firstChild){elem.removeChild(elem.firstChild)}if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(value){var isFunc=jQuery.isFunction(value);if(!isFunc&&typeof value!=="string"){value=jQuery(value).not(this).detach()}return this.domManip([value],true,function(elem){var next=this.nextSibling,parent=this.parentNode;if(parent){jQuery(this).remove();parent.insertBefore(elem,next)}})},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){args=core_concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(l<=1||typeof value!=="string"||jQuery.support.checkClone||!rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,table?self.html():undefined)}self.domManip(args,table,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){table=table&&jQuery.nodeName(first,"tr");scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){jQuery.ajax({url:node.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""))}}}}fragment=first=null}}return this}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function disableScript(elem){var attr=elem.getAttributeNode("type");elem.type=(attr&&attr.specified)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return}nodeName=dest.nodeName.toLowerCase();if(!jQuery.support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle)}dest.removeAttribute(jQuery.expando)}if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest)}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else if(nodeName==="input"&&manipulation_rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);core_push.apply(ret,elems.get())}return this.pushStack(ret)}});function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==core_strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==core_strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem)}else{jQuery.merge(found,getAll(elem,tag))}}}return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){if(manipulation_rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i])}}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}destElements=srcElements=node=null;return clone},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]))}if(!jQuery.support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody)}}}jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild)}tmp=safe.lastChild}}}if(tmp){safe.removeChild(tmp)}if(!jQuery.support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked)}i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}tmp=null;return safe},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else if(typeof elem.removeAttribute!==core_strundefined){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}core_deletedIds.push(id)}}}}}});var iframe,getStyles,curCSS,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName))}}else{if(!values[index]){hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var len,styles,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){var bool=typeof state==="boolean";return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!jQuery.support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val},swap:function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret}});if(window.getComputedStyle){getStyles=function(elem){return window.getComputedStyle(elem,null)};curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret}}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle};curCSS=function(elem,name,_computed){var left,rs,rsLeft,computed=_computed||getStyles(elem),ret=computed?computed[name]:undefined,style=elem.style;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft}}return ret===""?"auto":ret}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write("<!doctype html><html><body>");doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.remove();return display}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return elem.offsetWidth===0&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){if(computed){return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}}}}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}}}})}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!jQuery.support.reliableHiddenOffsets&&(elem.style&&elem.style.display||jQuery.css(elem,"display"))==="none"};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.hover=function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)};var ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);
if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204){isSuccess=true;statusText="nocontent"}else if(status===304){isSuccess=true;statusText="notmodified"}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")}});function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){var conv2,current,conv,tmp,converters={},i=0,dataTypes=s.dataTypes.slice(),prev=dataTypes[0];if(s.dataFilter){response=s.dataFilter(response,s.dataType)}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}for(;current=dataTypes[++i];){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current)}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}prev=current}}return{state:"success",data:response}}jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script)}script=null;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(undefined,true)}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});var xhrCallbacks,xhrSupported,xhrId=0,xhrOnUnloadAbort=window.ActiveXObject&&function(){var key;for(key in xhrCallbacks){xhrCallbacks[key](undefined,true)}};function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;xhrSupported=jQuery.ajaxSettings.xhr();jQuery.support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;xhrSupported=jQuery.support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(err){}xhr.send(s.hasContent&&s.data||null);callback=function(_,isAbort){var status,responseHeaders,statusText,responses;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{responses={};status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();if(typeof xhr.responseText==="string"){responses.text=xhr.responseText}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else if(status===1223){status=204}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async){callback()}else if(xhr.readyState===4){setTimeout(callback)}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback){callback(undefined,true)}}}}})}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return}}})}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var value,name,index,easing,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});function defaultPrefilter(elem,props,opts){var prop,index,length,value,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue}handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden"in dataShow){hidden=dataShow.hidden}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);doAnimation.finish=function(){anim.stop(true)};if(empty||jQuery._data(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.cur&&hooks.cur.finish){hooks.cur.finish.call(this)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)){jQuery.fx.start()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==core_strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}};jQuery.offset={setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return}var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.documentElement;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||document.documentElement})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}})(window);var Handlebars=function(){var __module4__=function(){"use strict";var __exports__;function SafeString(string){this.string=string}SafeString.prototype.toString=function(){return""+this.string};__exports__=SafeString;return __exports__}();var __module3__=function(__dependency1__){"use strict";var __exports__={};var SafeString=__dependency1__;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g;var possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]||"&amp;"}function extend(obj,value){for(var key in value){if(Object.prototype.hasOwnProperty.call(value,key)){obj[key]=value[key]}}}__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return typeof value==="function"};if(isFunction(/x/)){isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};__exports__.isArray=isArray;function escapeExpression(string){if(string instanceof SafeString){return string.toString()}else if(!string&&string!==0){return""}string=""+string;if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}__exports__.escapeExpression=escapeExpression;function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}__exports__.isEmpty=isEmpty;return __exports__}(__module4__);var __module5__=function(){"use strict";var __exports__;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];
function Exception(message,node){var line;if(node&&node.firstLine){line=node.firstLine;message+=" - "+line+":"+node.firstColumn}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(line){this.lineNumber=line;this.column=node.firstColumn}}Exception.prototype=new Error;__exports__=Exception;return __exports__}();var __module2__=function(__dependency1__,__dependency2__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var VERSION="1.3.0";__exports__.VERSION=VERSION;var COMPILER_REVISION=4;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this)}__exports__.HandlebarsEnvironment=HandlebarsEnvironment;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn,inverse){if(toString.call(name)===objectType){if(inverse||fn){throw new Exception("Arg not supported with multiple helpers")}Utils.extend(this.helpers,name)}else{if(inverse){fn.not=inverse}this.helpers[name]=fn}},registerPartial:function(name,str){if(toString.call(name)===objectType){Utils.extend(this.partials,name)}else{this.partials[name]=str}}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(arg){if(arguments.length===2){return undefined}else{throw new Exception("Missing helper: '"+arg+"'")}});instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse||function(){},fn=options.fn;if(isFunction(context)){context=context.call(this)}if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(isArray(context)){if(context.length>0){return instance.helpers.each(context,options)}else{return inverse(this)}}else{return fn(context)}});instance.registerHelper("each",function(context,options){var fn=options.fn,inverse=options.inverse;var i=0,ret="",data;if(isFunction(context)){context=context.call(this)}if(options.data){data=createFrame(options.data)}if(context&&typeof context==="object"){if(isArray(context)){for(var j=context.length;i<j;i++){if(data){data.index=i;data.first=i===0;data.last=i===context.length-1}ret=ret+fn(context[i],{data:data})}}else{for(var key in context){if(context.hasOwnProperty(key)){if(data){data.key=key;data.index=i;data.first=i===0}ret=ret+fn(context[key],{data:data});i++}}}}if(i===0){ret=inverse(this)}return ret});instance.registerHelper("if",function(conditional,options){if(isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})});instance.registerHelper("with",function(context,options){if(isFunction(context)){context=context.call(this)}if(!Utils.isEmpty(context))return options.fn(context)});instance.registerHelper("log",function(context,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,context)})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,obj){if(logger.level<=level){var method=logger.methodMap[level];if(typeof console!=="undefined"&&console[method]){console[method].call(console,obj)}}}};__exports__.logger=logger;function log(level,obj){logger.log(level,obj)}__exports__.log=log;var createFrame=function(object){var obj={};Utils.extend(obj,object);return obj};__exports__.createFrame=createFrame;return __exports__}(__module3__,__module5__);var __module6__=function(__dependency1__,__dependency2__,__dependency3__){"use strict";var __exports__={};var Utils=__dependency1__;var Exception=__dependency2__;var COMPILER_REVISION=__dependency3__.COMPILER_REVISION;var REVISION_CHANGES=__dependency3__.REVISION_CHANGES;function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}__exports__.checkRevision=checkRevision;function template(templateSpec,env){if(!env){throw new Exception("No environment passed to template")}var invokePartialWrapper=function(partial,name,context,helpers,partials,data){var result=env.VM.invokePartial.apply(this,arguments);if(result!=null){return result}if(env.compile){var options={helpers:helpers,partials:partials,data:data};partials[name]=env.compile(partial,{data:data!==undefined},env);return partials[name](context,options)}else{throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")}};var container={escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,programs:[],program:function(i,fn,data){var programWrapper=this.programs[i];if(data){programWrapper=program(i,fn,data)}else if(!programWrapper){programWrapper=this.programs[i]=program(i,fn)}return programWrapper},merge:function(param,common){var ret=param||common;if(param&&common&&param!==common){ret={};Utils.extend(ret,common);Utils.extend(ret,param)}return ret},programWithDepth:env.VM.programWithDepth,noop:env.VM.noop,compilerInfo:null};return function(context,options){options=options||{};var namespace=options.partial?options:env,helpers,partials;if(!options.partial){helpers=options.helpers;partials=options.partials}var result=templateSpec.call(container,namespace,context,helpers,partials,options.data);if(!options.partial){env.VM.checkRevision(container.compilerInfo)}return result}}__exports__.template=template;function programWithDepth(i,fn,data){var args=Array.prototype.slice.call(arguments,3);var prog=function(context,options){options=options||{};return fn.apply(this,[context,options.data||data].concat(args))};prog.program=i;prog.depth=args.length;return prog}__exports__.programWithDepth=programWithDepth;function program(i,fn,data){var prog=function(context,options){options=options||{};return fn(context,options.data||data)};prog.program=i;prog.depth=0;return prog}__exports__.program=program;function invokePartial(partial,name,context,helpers,partials,data){var options={partial:true,helpers:helpers,partials:partials,data:data};if(partial===undefined){throw new Exception("The partial "+name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}__exports__.invokePartial=invokePartial;function noop(){return""}__exports__.noop=noop;return __exports__}(__module3__,__module5__,__module2__);var __module1__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__;var base=__dependency1__;var SafeString=__dependency2__;var Exception=__dependency3__;var Utils=__dependency4__;var runtime=__dependency5__;var create=function(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=SafeString;hb.Exception=Exception;hb.Utils=Utils;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb};var Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__}(__module2__,__module4__,__module5__,__module3__,__module6__);var __module7__=function(__dependency1__){"use strict";var __exports__;var Exception=__dependency1__;function LocationInfo(locInfo){locInfo=locInfo||{};this.firstLine=locInfo.first_line;this.firstColumn=locInfo.first_column;this.lastColumn=locInfo.last_column;this.lastLine=locInfo.last_line}var AST={ProgramNode:function(statements,inverseStrip,inverse,locInfo){var inverseLocationInfo,firstInverseNode;if(arguments.length===3){locInfo=inverse;inverse=null}else if(arguments.length===2){locInfo=inverseStrip;inverseStrip=null}LocationInfo.call(this,locInfo);this.type="program";this.statements=statements;this.strip={};if(inverse){firstInverseNode=inverse[0];if(firstInverseNode){inverseLocationInfo={first_line:firstInverseNode.firstLine,last_line:firstInverseNode.lastLine,last_column:firstInverseNode.lastColumn,first_column:firstInverseNode.firstColumn};this.inverse=new AST.ProgramNode(inverse,inverseStrip,inverseLocationInfo)}else{this.inverse=new AST.ProgramNode(inverse,inverseStrip)}this.strip.right=inverseStrip.left}else if(inverseStrip){this.strip.left=inverseStrip.right}},MustacheNode:function(rawParams,hash,open,strip,locInfo){LocationInfo.call(this,locInfo);this.type="mustache";this.strip=strip;if(open!=null&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped=escapeFlag!=="{"&&escapeFlag!=="&"}else{this.escaped=!!open}if(rawParams instanceof AST.SexprNode){this.sexpr=rawParams}else{this.sexpr=new AST.SexprNode(rawParams,hash)}this.sexpr.isRoot=true;this.id=this.sexpr.id;this.params=this.sexpr.params;this.hash=this.sexpr.hash;this.eligibleHelper=this.sexpr.eligibleHelper;this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo);this.type="sexpr";this.hash=hash;var id=this.id=rawParams[0];var params=this.params=rawParams.slice(1);var eligibleHelper=this.eligibleHelper=id.isSimple;this.isHelper=eligibleHelper&&(params.length||hash)},PartialNode:function(partialName,context,strip,locInfo){LocationInfo.call(this,locInfo);this.type="partial";this.partialName=partialName;this.context=context;this.strip=strip},BlockNode:function(mustache,program,inverse,close,locInfo){LocationInfo.call(this,locInfo);if(mustache.sexpr.id.original!==close.path.original){throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,this)}this.type="block";this.mustache=mustache;this.program=program;this.inverse=inverse;this.strip={left:mustache.strip.left,right:close.strip.right};(program||inverse).strip.left=mustache.strip.right;(inverse||program).strip.right=close.strip.left;if(inverse&&!program){this.isInverse=true}},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo);this.type="content";this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo);this.type="hash";this.pairs=pairs},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo);this.type="ID";var original="",dig=[],depth=0;for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part;original+=(parts[i].separator||"")+part;if(part===".."||part==="."||part==="this"){if(dig.length>0){throw new Exception("Invalid path: "+original,this)}else if(part===".."){depth++}else{this.isScoped=true}}else{dig.push(part)}}this.original=original;this.parts=dig;this.string=dig.join(".");this.depth=depth;this.isSimple=parts.length===1&&!this.isScoped&&depth===0;this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo);this.type="PARTIAL_NAME";this.name=name.original},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo);this.type="DATA";this.id=id},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo);this.type="STRING";this.original=this.string=this.stringModeValue=string},IntegerNode:function(integer,locInfo){LocationInfo.call(this,locInfo);this.type="INTEGER";this.original=this.integer=integer;this.stringModeValue=Number(integer)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo);this.type="BOOLEAN";this.bool=bool;this.stringModeValue=bool==="true"},CommentNode:function(comment,locInfo){LocationInfo.call(this,locInfo);this.type="comment";this.comment=comment}};__exports__=AST;return __exports__}(__module5__);var __module9__=function(){"use strict";var __exports__;var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return new yy.ProgramNode($$[$0-1],this._$);break;case 2:return new yy.ProgramNode([],this._$);break;case 3:this.$=new yy.ProgramNode([],$$[$0-1],$$[$0],this._$);break;case 4:this.$=new yy.ProgramNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 5:this.$=new yy.ProgramNode($$[$0-1],$$[$0],[],this._$);break;case 6:this.$=new yy.ProgramNode($$[$0],this._$);break;case 7:this.$=new yy.ProgramNode([],this._$);break;case 8:this.$=new yy.ProgramNode([],this._$);break;case 9:this.$=[$$[$0]];break;case 10:$$[$0-1].push($$[$0]);this.$=$$[$0-1];break;case 11:this.$=new yy.BlockNode($$[$0-2],$$[$0-1].inverse,$$[$0-1],$$[$0],this._$);break;case 12:this.$=new yy.BlockNode($$[$0-2],$$[$0-1],$$[$0-1].inverse,$$[$0],this._$);break;case 13:this.$=$$[$0];break;case 14:this.$=$$[$0];break;case 15:this.$=new yy.ContentNode($$[$0],this._$);break;case 16:this.$=new yy.CommentNode($$[$0],this._$);break;case 17:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 18:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$={path:$$[$0-1],strip:stripFlags($$[$0-2],$$[$0])};break;case 20:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 21:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],stripFlags($$[$0-2],$$[$0]),this._$);break;case 22:this.$=new yy.PartialNode($$[$0-2],$$[$0-1],stripFlags($$[$0-3],$$[$0]),this._$);break;case 23:this.$=stripFlags($$[$0-1],$$[$0]);break;case 24:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 25:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 26:this.$=$$[$0];break;case 27:this.$=new yy.StringNode($$[$0],this._$);break;case 28:this.$=new yy.IntegerNode($$[$0],this._$);break;case 29:this.$=new yy.BooleanNode($$[$0],this._$);break;case 30:this.$=$$[$0];break;case 31:$$[$0-1].isHelper=true;this.$=$$[$0-1];break;case 32:this.$=new yy.HashNode($$[$0],this._$);break;case 33:this.$=[$$[$0-2],$$[$0]];break;case 34:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 35:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 36:this.$=new yy.PartialNameNode(new yy.IntegerNode($$[$0],this._$));break;case 37:this.$=new yy.DataNode($$[$0],this._$);break;case 38:this.$=new yy.IdNode($$[$0],this._$);break;case 39:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 40:this.$=[{part:$$[$0]}];break;case 43:this.$=[];break;case 44:$$[$0-1].push($$[$0]);break;case 47:this.$=[$$[$0]];break;case 48:$$[$0-1].push($$[$0]);break}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};function stripFlags(open,close){return{left:open.charAt(2)==="~",right:close.charAt(0)==="~"||close.charAt(1)==="~"}}var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-2)==="\\\\"){strip(0,1);this.begin("mu")}else if(yy_.yytext.slice(-1)==="\\"){strip(0,1);this.begin("emu")}else{this.begin("mu")}if(yy_.yytext)return 14;break;case 1:return 14;break;case 2:this.popState();return 14;break;case 3:strip(0,4);this.popState();return 15;break;case 4:return 35;break;case 5:return 36;break;case 6:return 25;break;case 7:return 16;break;case 8:return 20;break;case 9:return 19;break;case 10:return 19;break;case 11:return 23;break;case 12:return 22;break;case 13:this.popState();this.begin("com");break;case 14:strip(3,5);this.popState();return 15;break;case 15:return 22;break;case 16:return 41;break;case 17:return 40;break;case 18:return 40;break;case 19:return 44;break;case 20:break;case 21:this.popState();return 24;break;case 22:this.popState();return 18;break;case 23:yy_.yytext=strip(1,2).replace(/\\"/g,'"');return 32;break;case 24:yy_.yytext=strip(1,2).replace(/\\'/g,"'");return 32;break;case 25:return 42;break;case 26:return 34;break;case 27:return 34;break;case 28:return 33;break;case 29:return 40;break;case 30:yy_.yytext=strip(1,2);return 40;break;case 31:return"INVALID";break;case 32:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[3],inclusive:false},INITIAL:{rules:[0,1,32],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();__exports__=handlebars;return __exports__}();var __module8__=function(__dependency1__,__dependency2__){"use strict";var __exports__={};var parser=__dependency1__;var AST=__dependency2__;__exports__.parser=parser;function parse(input){if(input.constructor===AST.ProgramNode){return input}parser.yy=AST;return parser.parse(input)}__exports__.parse=parse;return __exports__}(__module9__,__module7__);var __module10__=function(__dependency1__){"use strict";var __exports__={};var Exception=__dependency1__;function Compiler(){}__exports__.Compiler=Compiler;Compiler.prototype={compiler:Compiler,disassemble:function(){var opcodes=this.opcodes,opcode,out=[],params,param;for(var i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];if(opcode.opcode==="DECLARE"){out.push("DECLARE "+opcode.name+"="+opcode.value)}else{params=[];for(var j=0;j<opcode.args.length;j++){param=opcode.args[j];if(typeof param==="string"){param='"'+param.replace("\n","\\n")+'"'}params.push(param)}out.push(opcode.opcode+" "+params.join(" "))}}return out.join("\n")},equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];
if(opcode.opcode!==otherOpcode.opcode||opcode.args.length!==otherOpcode.args.length){return false}for(var j=0;j<opcode.args.length;j++){if(opcode.args[j]!==otherOpcode.args[j]){return false}}}len=this.children.length;if(other.children.length!==len){return false}for(i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function(program,options){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=options;var knownHelpers=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(knownHelpers){for(var name in knownHelpers){this.options.knownHelpers[name]=knownHelpers[name]}}return this.accept(program)},accept:function(node){var strip=node.strip||{},ret;if(strip.left){this.opcode("strip")}ret=this[node.type](node);if(strip.right){this.opcode("strip")}return ret},program:function(program){var statements=program.statements;for(var i=0,l=statements.length;i<l;i++){this.accept(statements[i])}this.isSimple=l===1;this.depths.list=this.depths.list.sort(function(a,b){return a-b});return this},compileProgram:function(program){var result=(new this.compiler).compile(program,this.options);var guid=this.guid++,depth;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;for(var i=0,l=result.depths.list.length;i<l;i++){depth=result.depths.list[i];if(depth<2){continue}else{this.addDepth(depth-1)}}return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;if(program){program=this.compileProgram(program)}if(inverse){inverse=this.compileProgram(inverse)}var sexpr=mustache.sexpr;var type=this.classifySexpr(sexpr);if(type==="helper"){this.helperSexpr(sexpr,program,inverse)}else if(type==="simple"){this.simpleSexpr(sexpr);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue")}else{this.ambiguousSexpr(sexpr,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},hash:function(hash){var pairs=hash.pairs,pair,val;this.opcode("pushHash");for(var i=0,l=pairs.length;i<l;i++){pair=pairs[i];val=pair[1];if(this.options.stringParams){if(val.depth){this.addDepth(val.depth)}this.opcode("getContext",val.depth||0);this.opcode("pushStringParam",val.stringModeValue,val.type);if(val.type==="sexpr"){this.sexpr(val)}}else{this.accept(val)}this.opcode("assignToHash",pair[0])}this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=true;if(partial.context){this.ID(partial.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",partialName.name);this.opcode("append")},content:function(content){this.opcode("appendContent",content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr);if(mustache.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",id.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;if(id.type==="DATA"){this.DATA(id)}else if(id.parts.length){this.ID(id)}else{this.addDepth(id.depth);this.opcode("getContext",id.depth);this.opcode("pushContext")}this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),name=sexpr.id.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.options.knownHelpersOnly){throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)}else{this.opcode("invokeHelper",params.length,name,sexpr.isRoot)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);if(type==="simple"){this.simpleSexpr(sexpr)}else if(type==="helper"){this.helperSexpr(sexpr)}else{this.ambiguousSexpr(sexpr)}},ID:function(id){this.addDepth(id.depth);this.opcode("getContext",id.depth);var name=id.parts[0];if(!name){this.opcode("pushContext")}else{this.opcode("lookupOnContext",id.parts[0])}for(var i=1,l=id.parts.length;i<l;i++){this.opcode("lookup",id.parts[i])}},DATA:function(data){this.options.data=true;if(data.id.isScoped||data.id.depth){throw new Exception("Scoped data references are not supported: "+data.original,data)}this.opcode("lookupData");var parts=data.id.parts;for(var i=0,l=parts.length;i<l;i++){this.opcode("lookup",parts[i])}},STRING:function(string){this.opcode("pushString",string.string)},INTEGER:function(integer){this.opcode("pushLiteral",integer.integer)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:[].slice.call(arguments,1)})},declare:function(name,value){this.opcodes.push({opcode:"DECLARE",name:name,value:value})},addDepth:function(depth){if(depth===0){return}if(!this.depths[depth]){this.depths[depth]=true;this.depths.list.push(depth)}},classifySexpr:function(sexpr){var isHelper=sexpr.isHelper;var isEligible=sexpr.eligibleHelper;var options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];if(options.knownHelpers[name]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function(params){var i=params.length,param;while(i--){param=params[i];if(this.options.stringParams){if(param.depth){this.addDepth(param.depth)}this.opcode("getContext",param.depth||0);this.opcode("pushStringParam",param.stringModeValue,param.type);if(param.type==="sexpr"){this.sexpr(param)}}else{this[param.type](param)}}},setupFullMustacheParams:function(sexpr,program,inverse){var params=sexpr.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(sexpr.hash){this.hash(sexpr.hash)}else{this.opcode("emptyHash")}return params}};function precompile(input,options,env){if(input==null||typeof input!=="string"&&input.constructor!==env.AST.ProgramNode){throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var ast=env.parse(input);var environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}__exports__.precompile=precompile;function compile(input,options,env){if(input==null||typeof input!=="string"&&input.constructor!==env.AST.ProgramNode){throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}var compiled;function compileInput(){var ast=env.parse(input);var environment=(new env.Compiler).compile(ast,options);var templateSpec=(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}return function(context,options){if(!compiled){compiled=compileInput()}return compiled.call(this,context,options)}}__exports__.compile=compile;return __exports__}(__module5__);var __module11__=function(__dependency1__,__dependency2__){"use strict";var __exports__;var COMPILER_REVISION=__dependency1__.COMPILER_REVISION;var REVISION_CHANGES=__dependency1__.REVISION_CHANGES;var log=__dependency1__.log;var Exception=__dependency2__;function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function(parent,name){var wrap,ret;if(parent.indexOf("depth")===0){wrap=true}if(/^[0-9]+$/.test(name)){ret=parent+"["+name+"]"}else if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){ret=parent+"."+name}else{ret=parent+"['"+name+"']"}if(wrap){return"("+parent+" && "+ret+")"}else{return ret}},compilerInfo:function(){var revision=COMPILER_REVISION,versions=REVISION_CHANGES[revision];return"this.compilerInfo = ["+revision+",'"+versions+"'];\n"},appendToBuffer:function(string){if(this.environment.isSimple){return"return "+string+";"}else{return{appendToBuffer:true,content:string,toString:function(){return"buffer += "+string+";"}}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment;this.options=options||{};log("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.compileChildren(environment,options);var opcodes=environment.opcodes,opcode;this.i=0;for(var l=opcodes.length;this.i<l;this.i++){opcode=opcodes[this.i];if(opcode.opcode==="DECLARE"){this[opcode.name]=opcode.value}else{this[opcode.opcode].apply(this,opcode.args)}if(opcode.opcode!==this.stripNext){this.stripNext=false}}this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new Exception("Compile completed with content left on stack")}return this.createFunctionContext(asObject)},preamble:function(){var out=[];if(!this.isChild){var namespace=this.namespace;var copies="helpers = this.merge(helpers, "+namespace+".helpers);";if(this.environment.usePartial){copies=copies+" partials = this.merge(partials, "+namespace+".partials);"}if(this.options.data){copies=copies+" data = data || {};"}out.push(copies)}else{out.push("")}if(!this.environment.isSimple){out.push(", buffer = "+this.initializeBuffer())}else{out.push("")}this.lastContext=0;this.source=out},createFunctionContext:function(asObject){var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){this.source[1]=this.source[1]+", "+locals.join(", ")}if(!this.isChild){for(var alias in this.context.aliases){if(this.context.aliases.hasOwnProperty(alias)){this.source[1]=this.source[1]+", "+alias+"="+this.context.aliases[alias]}}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.pushSource("return buffer;")}var params=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var i=0,l=this.environment.depths.list.length;i<l;i++){params.push("depth"+this.environment.depths.list[i])}var source=this.mergeSource();if(!this.isChild){source=this.compilerInfo()+source}if(asObject){params.push(source);return Function.apply(this,params)}else{var functionSource="function "+(this.name||"")+"("+params.join(",")+") {\n  "+source+"}";log("debug",functionSource+"\n\n");return functionSource}},mergeSource:function(){var source="",buffer;for(var i=0,len=this.source.length;i<len;i++){var line=this.source[i];if(line.appendToBuffer){if(buffer){buffer=buffer+"\n    + "+line.content}else{buffer=line.content}}else{if(buffer){source+="buffer += "+buffer+";\n  ";buffer=undefined}source+=line+"\n  "}}return source},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);this.replaceStack(function(current){params.splice(1,0,current);return"blockHelperMissing.call("+params.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=["depth0"];this.setupParams(0,params);var current=this.topStack();params.splice(1,0,current);this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){if(this.pendingContent){content=this.pendingContent+content}if(this.stripNext){content=content.replace(/^\s+/,"")}this.pendingContent=content},strip:function(){if(this.pendingContent){this.pendingContent=this.pendingContent.replace(/\s+$/,"")}this.stripNext="strip"},append:function(){this.flushInline();var local=this.popStack();this.pushSource("if("+local+" || "+local+" === 0) { "+this.appendToBuffer(local)+" }");if(this.environment.isSimple){this.pushSource("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){if(this.lastContext!==depth){this.lastContext=depth}},lookupOnContext:function(name){this.push(this.nameLookup("depth"+this.lastContext,name,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(current){return"typeof "+current+" === functionType ? "+current+".apply(depth0) : "+current})},lookup:function(name){this.replaceStack(function(current){return current+" == null || "+current+" === false ? "+current+" : "+this.nameLookup(current,name,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(string,type){this.pushStackLiteral("depth"+this.lastContext);this.pushString(type);if(type!=="sexpr"){if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}}},emptyHash:function(){this.pushStackLiteral("{}");if(this.options.stringParams){this.push("{}");this.push("{}")}},pushHash:function(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop();if(this.options.stringParams){this.push("{"+hash.contexts.join(",")+"}");this.push("{"+hash.types.join(",")+"}")}this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){this.inlineStack.push(expr);return expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},invokeHelper:function(paramSize,name,isRoot){this.context.aliases.helperMissing="helpers.helperMissing";this.useRegister("helper");var helper=this.lastHelper=this.setupHelper(paramSize,name,true);var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");var lookup="helper = "+helper.name+" || "+nonHelper;if(helper.paramsInit){lookup+=","+helper.paramsInit}this.push("("+lookup+",helper "+"? helper.call("+helper.callParams+") "+": helperMissing.call("+helper.helperMissingParams+"))");if(!isRoot){this.flushInline()}},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.context.aliases.functionType='"function"';this.useRegister("helper");this.emptyHash();var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var nonHelper=this.nameLookup("depth"+this.lastContext,name,"context");var nextStack=this.nextStack();if(helper.paramsInit){this.pushSource(helper.paramsInit)}this.pushSource("if (helper = "+helperName+") { "+nextStack+" = helper.call("+helper.callParams+"); }");this.pushSource("else { helper = "+nonHelper+"; "+nextStack+" = typeof helper === functionType ? helper.call("+helper.callParams+") : helper; }")},invokePartial:function(name){var params=[this.nameLookup("partials",name,"partial"),"'"+name+"'",this.popStack(),"helpers","partials"];if(this.options.data){params.push("data")}this.context.aliases.self="this";this.push("self.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var value=this.popStack(),context,type;if(this.options.stringParams){type=this.popStack();context=this.popStack()}var hash=this.hash;if(context){hash.contexts.push("'"+key+"': "+context)}if(type){hash.types.push("'"+key+"': "+type)}hash.values.push("'"+key+"': ("+value+")")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){var children=environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context);this.context.environments[index]=child}else{child.index=index;child.name="program"+index}}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function(guid){this.context.aliases.self="this";if(guid==null){return"self.noop"}var child=this.environment.children[guid],depths=child.depths.list,depth;var programParams=[child.index,child.name,"data"];for(var i=0,l=depths.length;i<l;i++){depth=depths[i];if(depth===1){programParams.push("depth0")}else{programParams.push("depth"+(depth-1))}}return(depths.length===0?"self.program(":"self.programWithDepth(")+programParams.join(", ")+")"},register:function(name,val){this.useRegister(name);this.pushSource(name+" = "+val+";")},useRegister:function(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){if(this.pendingContent){this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));this.pendingContent=undefined}if(source){this.source.push(source)}},pushStack:function(item){this.flushInline();var stack=this.incrStack();if(item){this.pushSource(stack+" = "+item+";")}this.compileStack.push(stack);return stack},replaceStack:function(callback){var prefix="",inline=this.isInline(),stack,createdStack,usedLiteral;if(inline){var top=this.popStack(true);if(top instanceof Literal){stack=top.value;usedLiteral=true}else{createdStack=!this.stackSlot;var name=!createdStack?this.topStackName():this.incrStack();prefix="("+this.push(name)+" = "+top+"),";stack=this.topStack()}}else{stack=this.topStack()}var item=callback.call(this,stack);if(inline){if(!usedLiteral){this.popStack()}if(createdStack){this.stackSlot--}this.push("("+prefix+item+")")}else{if(!/^stack/.test(stack)){stack=this.nextStack()}this.pushSource(stack+" = ("+prefix+item+");")}return stack},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{this.pushStack(entry)}}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){if(!this.stackSlot){throw new Exception("Invalid stack pop")}this.stackSlot--}return item}},topStack:function(wrapped){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(!wrapped&&item instanceof Literal){return item.value}else{return item}},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(paramSize,name,missingParams){var params=[],paramsInit=this.setupParams(paramSize,params,missingParams);var foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:["depth0"].concat(params).join(", "),helperMissingParams:missingParams&&["depth0",this.quotedString(name)].concat(params).join(", ")}},setupOptions:function(paramSize,params){var options=[],contexts=[],types=[],param,inverse,program;options.push("hash:"+this.popStack());if(this.options.stringParams){options.push("hashTypes:"+this.popStack());options.push("hashContexts:"+this.popStack())}inverse=this.popStack();program=this.popStack();if(program||inverse){if(!program){this.context.aliases.self="this";program="self.noop"}if(!inverse){this.context.aliases.self="this";inverse="self.noop"}options.push("inverse:"+inverse);options.push("fn:"+program)}for(var i=0;i<paramSize;i++){param=this.popStack();params.push(param);if(this.options.stringParams){types.push(this.popStack());contexts.push(this.popStack())}}if(this.options.stringParams){options.push("contexts:["+contexts.join(",")+"]");options.push("types:["+types.join(",")+"]")}if(this.options.data){options.push("data:data")}return options},setupParams:function(paramSize,params,useRegister){var options="{"+this.setupOptions(paramSize,params).join(",")+"}";if(useRegister){this.useRegister("options");params.push("options");return"options="+options}else{params.push(options);return""}}};var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}JavaScriptCompiler.isValidJavaScriptVariableName=function(name){if(!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)){return true}return false};__exports__=JavaScriptCompiler;return __exports__}(__module2__,__module5__);var __module0__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__;var Handlebars=__dependency1__;var AST=__dependency2__;var Parser=__dependency3__.parser;var parse=__dependency3__.parse;var Compiler=__dependency4__.Compiler;var compile=__dependency4__.compile;var precompile=__dependency4__.precompile;var JavaScriptCompiler=__dependency5__;var _create=Handlebars.create;var create=function(){var hb=_create();hb.compile=function(input,options){return compile(input,options,hb)};hb.precompile=function(input,options){return precompile(input,options,hb)};hb.AST=AST;hb.Compiler=Compiler;hb.JavaScriptCompiler=JavaScriptCompiler;hb.Parser=Parser;hb.parse=parse;return hb};Handlebars=create();Handlebars.create=create;__exports__=Handlebars;return __exports__}(__module1__,__module7__,__module8__,__module10__,__module11__);return __module0__}();(function(){if("undefined"===typeof Ember){Ember={};if("undefined"!==typeof window){window.Em=window.Ember=Em=Ember}}if(Ember.ENV){}else if("undefined"!==typeof EmberENV){Ember.ENV=EmberENV}else if("undefined"!==typeof ENV){Ember.ENV=ENV}else{Ember.ENV={}}if(!("MANDATORY_SETTER"in Ember.ENV)){Ember.ENV.MANDATORY_SETTER=true}Ember.assert=function(desc,test){if(!test){throw new Ember.Error("Assertion Failed: "+desc)}};Ember.warn=function(message,test){if(!test){Ember.Logger.warn("WARNING: "+message);if("trace"in Ember.Logger)Ember.Logger.trace()}};Ember.debug=function(message){Ember.Logger.debug("DEBUG: "+message)};Ember.deprecate=function(message,test){if(test){return}if(Ember.ENV.RAISE_ON_DEPRECATION){throw new Ember.Error(message)}var error;try{__fail__.fail()}catch(e){error=e}if(Ember.LOG_STACKTRACE_ON_DEPRECATION&&error.stack){var stack,stackStr="";if(error["arguments"]){stack=error.stack.replace(/^\s+at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}($1)").split("\n");stack.shift()}else{stack=error.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")}stackStr="\n    "+stack.slice(2).join("\n    ");message=message+stackStr}Ember.Logger.warn("DEPRECATION: "+message)};Ember.deprecateFunc=function(message,func){return function(){Ember.deprecate(message);return func.apply(this,arguments)}};Ember.runInDebug=function(func){func()};if(!Ember.testing){var isFirefox=typeof InstallTrigger!=="undefined";var isChrome=!!window.chrome&&!window.opera;if(typeof window!=="undefined"&&(isFirefox||isChrome)&&window.addEventListener){window.addEventListener("load",function(){if(document.documentElement&&document.documentElement.dataset&&!document.documentElement.dataset.emberExtension){var downloadURL;if(isChrome){downloadURL="https://chrome.google.com/webstore/detail/ember-inspector/bmdblncegkenkacieihfhpjfppoconhi"}else if(isFirefox){downloadURL="https://addons.mozilla.org/en-US/firefox/addon/ember-inspector/"}Ember.debug("For more advanced debugging, install the Ember Inspector from "+downloadURL)}},false)}}})();(function(){var define,requireModule,require,requirejs;(function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}};requirejs=require=requireModule=function(name){requirejs._eak_seen=registry;if(seen[name]){return seen[name]}seen[name]={};if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],exports;for(var i=0,l=deps.length;i<l;i++){if(deps[i]==="exports"){reified.push(exports={})}else{reified.push(requireModule(resolve(deps[i])))}}var value=callback.apply(this,reified);return seen[name]=exports||value;function resolve(child){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var parentBase=name.split("/").slice(0,-1);for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}}})();(function(){if("undefined"===typeof Ember){Ember={}}var imports=Ember.imports=Ember.imports||this;var exports=Ember.exports=Ember.exports||this;var lookup=Ember.lookup=Ember.lookup||this;exports.Em=exports.Ember=Em=Ember;Ember.isNamespace=true;Ember.toString=function(){return"Ember"};Ember.VERSION="1.5.0";if(Ember.ENV){}else if("undefined"!==typeof EmberENV){Ember.ENV=EmberENV}else if("undefined"!==typeof ENV){Ember.ENV=ENV}else{Ember.ENV={}}Ember.config=Ember.config||{};if("undefined"===typeof Ember.ENV.DISABLE_RANGE_API){Ember.ENV.DISABLE_RANGE_API=true}if("undefined"===typeof MetamorphENV){exports.MetamorphENV={}}MetamorphENV.DISABLE_RANGE_API=Ember.ENV.DISABLE_RANGE_API;Ember.FEATURES=Ember.ENV.FEATURES||{};Ember.FEATURES.isEnabled=function(feature){var featureValue=Ember.FEATURES[feature];if(Ember.ENV.ENABLE_ALL_FEATURES){return true}else if(featureValue===true||featureValue===false||featureValue===undefined){return featureValue}else if(Ember.ENV.ENABLE_OPTIONAL_FEATURES){return true}else{return false}};Ember.EXTEND_PROTOTYPES=Ember.ENV.EXTEND_PROTOTYPES;if(typeof Ember.EXTEND_PROTOTYPES==="undefined"){Ember.EXTEND_PROTOTYPES=true}Ember.LOG_STACKTRACE_ON_DEPRECATION=Ember.ENV.LOG_STACKTRACE_ON_DEPRECATION!==false;Ember.SHIM_ES5=Ember.ENV.SHIM_ES5===false?false:Ember.EXTEND_PROTOTYPES;Ember.LOG_VERSION=Ember.ENV.LOG_VERSION===false?false:true;Ember.K=function(){return this};if("undefined"===typeof Ember.assert){Ember.assert=Ember.K}if("undefined"===typeof Ember.warn){Ember.warn=Ember.K}if("undefined"===typeof Ember.debug){Ember.debug=Ember.K}if("undefined"===typeof Ember.runInDebug){Ember.runInDebug=Ember.K}if("undefined"===typeof Ember.deprecate){Ember.deprecate=Ember.K}if("undefined"===typeof Ember.deprecateFunc){Ember.deprecateFunc=function(_,func){return func}}Ember.uuid=0;Ember.merge=function(original,updates){for(var prop in updates){if(!updates.hasOwnProperty(prop)){continue}original[prop]=updates[prop]}return original};Ember.isNone=function(obj){return obj===null||obj===undefined};Ember.none=Ember.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",Ember.isNone);Ember.isEmpty=function(obj){return Ember.isNone(obj)||obj.length===0&&typeof obj!=="function"||typeof obj==="object"&&Ember.get(obj,"length")===0};Ember.empty=Ember.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",Ember.isEmpty);Ember.isBlank=function(obj){return Ember.isEmpty(obj)||typeof obj==="string"&&obj.match(/\S/)===null}})();(function(){var platform=Ember.platform={};Ember.create=Object.create;if(Ember.create){if(Ember.create({a:1},{a:{value:2}}).a!==2){Ember.create=null}}if(!Ember.create||Ember.ENV.STUB_OBJECT_CREATE){var K=function(){};Ember.create=function(obj,props){K.prototype=obj;obj=new K;if(props){K.prototype=obj;for(var prop in props){K.prototype[prop]=props[prop].value}obj=new K}K.prototype=null;return obj};Ember.create.isSimulated=true}var defineProperty=Object.defineProperty;var canRedefineProperties,canDefinePropertyOnDOM;if(defineProperty){try{defineProperty({},"a",{get:function(){}})}catch(e){defineProperty=null}}if(defineProperty){canRedefineProperties=function(){var obj={};defineProperty(obj,"a",{configurable:true,enumerable:true,get:function(){},set:function(){}});defineProperty(obj,"a",{configurable:true,enumerable:true,writable:true,value:true});return obj.a===true}();canDefinePropertyOnDOM=function(){try{defineProperty(document.createElement("div"),"definePropertyOnDOM",{});return true}catch(e){}return false}();if(!canRedefineProperties){defineProperty=null}else if(!canDefinePropertyOnDOM){defineProperty=function(obj,keyName,desc){var isNode;if(typeof Node==="object"){isNode=obj instanceof Node}else{isNode=typeof obj==="object"&&typeof obj.nodeType==="number"&&typeof obj.nodeName==="string"}if(isNode){return obj[keyName]=desc.value}else{return Object.defineProperty(obj,keyName,desc)}}}}platform.defineProperty=defineProperty;platform.hasPropertyAccessors=true;if(!platform.defineProperty){platform.hasPropertyAccessors=false;platform.defineProperty=function(obj,keyName,desc){if(!desc.get){obj[keyName]=desc.value}};platform.defineProperty.isSimulated=true}if(Ember.ENV.MANDATORY_SETTER&&!platform.hasPropertyAccessors){Ember.ENV.MANDATORY_SETTER=false}})();(function(){var isNativeFunc=function(func){return func&&Function.prototype.toString.call(func).indexOf("[native code]")>-1};var arrayMap=isNativeFunc(Array.prototype.map)?Array.prototype.map:function(fun){if(this===void 0||this===null){throw new TypeError}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw new TypeError}var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t)}}return res};var arrayForEach=isNativeFunc(Array.prototype.forEach)?Array.prototype.forEach:function(fun){if(this===void 0||this===null){throw new TypeError}var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function"){throw new TypeError}var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){fun.call(thisp,t[i],i,t)}}};var arrayIndexOf=isNativeFunc(Array.prototype.indexOf)?Array.prototype.indexOf:function(obj,fromIndex){if(fromIndex===null||fromIndex===undefined){fromIndex=0}else if(fromIndex<0){fromIndex=Math.max(0,this.length+fromIndex)}for(var i=fromIndex,j=this.length;i<j;i++){if(this[i]===obj){return i}}return-1};var arrayFilter=isNativeFunc(Array.prototype.filter)?Array.prototype.filter:function(fn,context){var i,value,result=[],length=this.length;for(i=0;i<length;i++){if(this.hasOwnProperty(i)){value=this[i];if(fn.call(context,value,i,this)){result.push(value)}}}return result};Ember.ArrayPolyfills={map:arrayMap,forEach:arrayForEach,filter:arrayFilter,indexOf:arrayIndexOf};if(Ember.SHIM_ES5){if(!Array.prototype.map){Array.prototype.map=arrayMap}if(!Array.prototype.forEach){Array.prototype.forEach=arrayForEach
}if(!Array.prototype.filter){Array.prototype.filter=arrayFilter}if(!Array.prototype.indexOf){Array.prototype.indexOf=arrayIndexOf}}})();(function(){var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Ember.Error=function(){var tmp=Error.apply(this,arguments);if(Error.captureStackTrace){Error.captureStackTrace(this,Ember.Error)}for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}};Ember.Error.prototype=Ember.create(Error.prototype);Ember.onerror=null})();(function(){Ember.GUID_PREFIX="ember";var o_defineProperty=Ember.platform.defineProperty,o_create=Ember.create,GUID_KEY="__ember"+ +new Date,numberCache=[],stringCache={},uuid=0;var MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER;Ember.GUID_KEY=GUID_KEY;var GUID_DESC={writable:false,configurable:false,enumerable:false,value:null};Ember.generateGuid=function generateGuid(obj,prefix){if(!prefix)prefix=Ember.GUID_PREFIX;var ret=prefix+uuid++;if(obj){if(obj[GUID_KEY]===null){obj[GUID_KEY]=ret}else{GUID_DESC.value=ret;o_defineProperty(obj,GUID_KEY,GUID_DESC)}}return ret};Ember.guidFor=function guidFor(obj){if(obj===undefined)return"(undefined)";if(obj===null)return"(null)";var ret;var type=typeof obj;switch(type){case"number":ret=numberCache[obj];if(!ret)ret=numberCache[obj]="nu"+obj;return ret;case"string":ret=stringCache[obj];if(!ret)ret=stringCache[obj]="st"+uuid++;return ret;case"boolean":return obj?"(true)":"(false)";default:if(obj[GUID_KEY])return obj[GUID_KEY];if(obj===Object)return"(Object)";if(obj===Array)return"(Array)";ret="ember"+uuid++;if(obj[GUID_KEY]===null){obj[GUID_KEY]=ret}else{GUID_DESC.value=ret;o_defineProperty(obj,GUID_KEY,GUID_DESC)}return ret}};var META_DESC=Ember.META_DESC={writable:true,configurable:false,enumerable:false,value:null};var META_KEY=Ember.GUID_KEY+"_meta";Ember.META_KEY=META_KEY;var isDefinePropertySimulated=Ember.platform.defineProperty.isSimulated;function Meta(obj){this.descs={};this.watching={};this.cache={};this.cacheMeta={};this.source=obj}Meta.prototype={descs:null,deps:null,watching:null,listeners:null,cache:null,cacheMeta:null,source:null,mixins:null,bindings:null,chains:null,chainWatchers:null,values:null,proto:null};if(isDefinePropertySimulated){Meta.prototype.__preventPlainObject__=true;Meta.prototype.toJSON=function(){}}var EMPTY_META=new Meta(null);if(MANDATORY_SETTER){EMPTY_META.values={}}Ember.EMPTY_META=EMPTY_META;Ember.meta=function meta(obj,writable){var ret=obj[META_KEY];if(writable===false)return ret||EMPTY_META;if(!ret){if(!isDefinePropertySimulated)o_defineProperty(obj,META_KEY,META_DESC);ret=new Meta(obj);if(MANDATORY_SETTER){ret.values={}}obj[META_KEY]=ret;ret.descs.constructor=null}else if(ret.source!==obj){if(!isDefinePropertySimulated)o_defineProperty(obj,META_KEY,META_DESC);ret=o_create(ret);ret.descs=o_create(ret.descs);ret.watching=o_create(ret.watching);ret.cache={};ret.cacheMeta={};ret.source=obj;if(MANDATORY_SETTER){ret.values=o_create(ret.values)}obj[META_KEY]=ret}return ret};Ember.getMeta=function getMeta(obj,property){var meta=Ember.meta(obj,false);return meta[property]};Ember.setMeta=function setMeta(obj,property,value){var meta=Ember.meta(obj,true);meta[property]=value;return value};Ember.metaPath=function metaPath(obj,path,writable){Ember.deprecate("Ember.metaPath is deprecated and will be removed from future releases.");var meta=Ember.meta(obj,writable),keyName,value;for(var i=0,l=path.length;i<l;i++){keyName=path[i];value=meta[keyName];if(!value){if(!writable){return undefined}value=meta[keyName]={__ember_source__:obj}}else if(value.__ember_source__!==obj){if(!writable){return undefined}value=meta[keyName]=o_create(value);value.__ember_source__=obj}meta=value}return value};Ember.wrap=function(func,superFunc){function superWrapper(){var ret,sup=this.__nextSuper;this.__nextSuper=superFunc;ret=func.apply(this,arguments);this.__nextSuper=sup;return ret}superWrapper.wrappedFunction=func;superWrapper.__ember_observes__=func.__ember_observes__;superWrapper.__ember_observesBefore__=func.__ember_observesBefore__;superWrapper.__ember_listens__=func.__ember_listens__;return superWrapper};Ember.isArray=function(obj){if(!obj||obj.setInterval){return false}if(Array.isArray&&Array.isArray(obj)){return true}if(Ember.Array&&Ember.Array.detect(obj)){return true}if(obj.length!==undefined&&"object"===typeof obj){return true}return false};Ember.makeArray=function(obj){if(obj===null||obj===undefined){return[]}return Ember.isArray(obj)?obj:[obj]};function canInvoke(obj,methodName){return!!(obj&&typeof obj[methodName]==="function")}Ember.canInvoke=canInvoke;Ember.tryInvoke=function(obj,methodName,args){if(canInvoke(obj,methodName)){return obj[methodName].apply(obj,args||[])}};var needsFinallyFix=function(){var count=0;try{try{}finally{count++;throw new Error("needsFinallyFixTest")}}catch(e){}return count!==1}();if(needsFinallyFix){Ember.tryFinally=function(tryable,finalizer,binding){var result,finalResult,finalError;binding=binding||this;try{result=tryable.call(binding)}finally{try{finalResult=finalizer.call(binding)}catch(e){finalError=e}}if(finalError){throw finalError}return finalResult===undefined?result:finalResult}}else{Ember.tryFinally=function(tryable,finalizer,binding){var result,finalResult;binding=binding||this;try{result=tryable.call(binding)}finally{finalResult=finalizer.call(binding)}return finalResult===undefined?result:finalResult}}if(needsFinallyFix){Ember.tryCatchFinally=function(tryable,catchable,finalizer,binding){var result,finalResult,finalError;binding=binding||this;try{result=tryable.call(binding)}catch(error){result=catchable.call(binding,error)}finally{try{finalResult=finalizer.call(binding)}catch(e){finalError=e}}if(finalError){throw finalError}return finalResult===undefined?result:finalResult}}else{Ember.tryCatchFinally=function(tryable,catchable,finalizer,binding){var result,finalResult;binding=binding||this;try{result=tryable.call(binding)}catch(error){result=catchable.call(binding,error)}finally{finalResult=finalizer.call(binding)}return finalResult===undefined?result:finalResult}}var TYPE_MAP={};var t="Boolean Number String Function Array Date RegExp Object".split(" ");Ember.ArrayPolyfills.forEach.call(t,function(name){TYPE_MAP["[object "+name+"]"]=name.toLowerCase()});var toString=Object.prototype.toString;Ember.typeOf=function(item){var ret;ret=item===null||item===undefined?String(item):TYPE_MAP[toString.call(item)]||"object";if(ret==="function"){if(Ember.Object&&Ember.Object.detect(item))ret="class"}else if(ret==="object"){if(item instanceof Error)ret="error";else if(Ember.Object&&item instanceof Ember.Object)ret="instance";else if(item instanceof Date)ret="date"}return ret};Ember.inspect=function(obj){var type=Ember.typeOf(obj);if(type==="array"){return"["+obj+"]"}if(type!=="object"){return obj+""}var v,ret=[];for(var key in obj){if(obj.hasOwnProperty(key)){v=obj[key];if(v==="toString"){continue}if(Ember.typeOf(v)==="function"){v="function() { ... }"}ret.push(key+": "+v)}}return"{"+ret.join(", ")+"}"}})();(function(){Ember.Instrumentation={};var subscribers=[],cache={};var populateListeners=function(name){var listeners=[],subscriber;for(var i=0,l=subscribers.length;i<l;i++){subscriber=subscribers[i];if(subscriber.regex.test(name)){listeners.push(subscriber.object)}}cache[name]=listeners;return listeners};var time=function(){var perf="undefined"!==typeof window?window.performance||{}:{};var fn=perf.now||perf.mozNow||perf.webkitNow||perf.msNow||perf.oNow;return fn?fn.bind(perf):function(){return+new Date}}();Ember.Instrumentation.instrument=function(name,payload,callback,binding){var listeners=cache[name],timeName,ret;if(Ember.STRUCTURED_PROFILE){timeName=name+": "+payload.object;console.time(timeName)}if(!listeners){listeners=populateListeners(name)}if(listeners.length===0){ret=callback.call(binding);if(Ember.STRUCTURED_PROFILE){console.timeEnd(timeName)}return ret}var beforeValues=[],listener,i,l;function tryable(){for(i=0,l=listeners.length;i<l;i++){listener=listeners[i];beforeValues[i]=listener.before(name,time(),payload)}return callback.call(binding)}function catchable(e){payload=payload||{};payload.exception=e}function finalizer(){for(i=0,l=listeners.length;i<l;i++){listener=listeners[i];listener.after(name,time(),payload,beforeValues[i])}if(Ember.STRUCTURED_PROFILE){console.timeEnd(timeName)}}return Ember.tryCatchFinally(tryable,catchable,finalizer)};Ember.Instrumentation.subscribe=function(pattern,object){var paths=pattern.split("."),path,regex=[];for(var i=0,l=paths.length;i<l;i++){path=paths[i];if(path==="*"){regex.push("[^\\.]*")}else{regex.push(path)}}regex=regex.join("\\.");regex=regex+"(\\..*)?";var subscriber={pattern:pattern,regex:new RegExp("^"+regex+"$"),object:object};subscribers.push(subscriber);cache={};return subscriber};Ember.Instrumentation.unsubscribe=function(subscriber){var index;for(var i=0,l=subscribers.length;i<l;i++){if(subscribers[i]===subscriber){index=i}}subscribers.splice(index,1);cache={}};Ember.Instrumentation.reset=function(){subscribers=[];cache={}};Ember.instrument=Ember.Instrumentation.instrument;Ember.subscribe=Ember.Instrumentation.subscribe})();(function(){var map,forEach,indexOf,splice,filter;map=Array.prototype.map||Ember.ArrayPolyfills.map;forEach=Array.prototype.forEach||Ember.ArrayPolyfills.forEach;indexOf=Array.prototype.indexOf||Ember.ArrayPolyfills.indexOf;filter=Array.prototype.filter||Ember.ArrayPolyfills.filter;splice=Array.prototype.splice;var utils=Ember.EnumerableUtils={map:function(obj,callback,thisArg){return obj.map?obj.map.call(obj,callback,thisArg):map.call(obj,callback,thisArg)},forEach:function(obj,callback,thisArg){return obj.forEach?obj.forEach.call(obj,callback,thisArg):forEach.call(obj,callback,thisArg)},filter:function(obj,callback,thisArg){return obj.filter?obj.filter.call(obj,callback,thisArg):filter.call(obj,callback,thisArg)},indexOf:function(obj,element,index){return obj.indexOf?obj.indexOf.call(obj,element,index):indexOf.call(obj,element,index)},indexesOf:function(obj,elements){return elements===undefined?[]:utils.map(elements,function(item){return utils.indexOf(obj,item)})},addObject:function(array,item){var index=utils.indexOf(array,item);if(index===-1){array.push(item)}},removeObject:function(array,item){var index=utils.indexOf(array,item);if(index!==-1){array.splice(index,1)}},_replace:function(array,idx,amt,objects){var args=[].concat(objects),chunk,ret=[],size=6e4,start=idx,ends=amt,count;while(args.length){count=ends>size?size:ends;if(count<=0){count=0}chunk=args.splice(0,size);chunk=[start,count].concat(chunk);start+=size;ends-=count;ret=ret.concat(splice.apply(array,chunk))}return ret},replace:function(array,idx,amt,objects){if(array.replace){return array.replace(idx,amt,objects)}else{return utils._replace(array,idx,amt,objects)}},intersection:function(array1,array2){var intersection=[];utils.forEach(array1,function(element){if(utils.indexOf(array2,element)>=0){intersection.push(element)}});return intersection}}})();(function(){var META_KEY=Ember.META_KEY,get;var MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER;var IS_GLOBAL_PATH=/^([A-Z$]|([0-9][A-Z$])).*[\.\*]/;var HAS_THIS=/^this[\.\*]/;var FIRST_KEY=/^([^\.\*]+)/;get=function get(obj,keyName){if(keyName===""){return obj}if(!keyName&&"string"===typeof obj){keyName=obj;obj=null}Ember.assert("Cannot call get with "+keyName+" key.",!!keyName);Ember.assert("Cannot call get with '"+keyName+"' on an undefined object.",obj!==undefined);if(obj===null||keyName.indexOf(".")!==-1){return getPath(obj,keyName)}var meta=obj[META_KEY],desc=meta&&meta.descs[keyName],ret;if(desc){return desc.get(obj,keyName)}else{if(MANDATORY_SETTER&&meta&&meta.watching[keyName]>0){ret=meta.values[keyName]}else{ret=obj[keyName]}if(ret===undefined&&"object"===typeof obj&&!(keyName in obj)&&"function"===typeof obj.unknownProperty){return obj.unknownProperty(keyName)}return ret}};if(Ember.config.overrideAccessors){Ember.get=get;Ember.config.overrideAccessors();get=Ember.get}var normalizeTuple=Ember.normalizeTuple=function(target,path){var hasThis=HAS_THIS.test(path),isGlobal=!hasThis&&IS_GLOBAL_PATH.test(path),key;if(!target||isGlobal)target=Ember.lookup;if(hasThis)path=path.slice(5);if(target===Ember.lookup){key=path.match(FIRST_KEY)[0];target=get(target,key);path=path.slice(key.length+1)}if(!path||path.length===0)throw new Ember.Error("Path cannot be empty");return[target,path]};var getPath=Ember._getPath=function(root,path){var hasThis,parts,tuple,idx,len;if(root===null&&path.indexOf(".")===-1){return get(Ember.lookup,path)}hasThis=HAS_THIS.test(path);if(!root||hasThis){tuple=normalizeTuple(root,path);root=tuple[0];path=tuple[1];tuple.length=0}parts=path.split(".");len=parts.length;for(idx=0;root!=null&&idx<len;idx++){root=get(root,parts[idx],true);if(root&&root.isDestroyed){return undefined}}return root};Ember.getWithDefault=function(root,key,defaultValue){var value=get(root,key);if(value===undefined){return defaultValue}return value};Ember.get=get})();(function(){var o_create=Ember.create,metaFor=Ember.meta,META_KEY=Ember.META_KEY,a_slice=[].slice,ONCE=1,SUSPENDED=2;function indexOf(array,target,method){var index=-1;for(var i=array.length-3;i>=0;i-=3){if(target===array[i]&&method===array[i+1]){index=i;break}}return index}function actionsFor(obj,eventName){var meta=metaFor(obj,true),actions;if(!meta.listeners){meta.listeners={}}if(!meta.hasOwnProperty("listeners")){meta.listeners=o_create(meta.listeners)}actions=meta.listeners[eventName];if(actions&&!meta.listeners.hasOwnProperty(eventName)){actions=meta.listeners[eventName]=meta.listeners[eventName].slice()}else if(!actions){actions=meta.listeners[eventName]=[]}return actions}function actionsUnion(obj,eventName,otherActions){var meta=obj[META_KEY],actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i],method=actions[i+1],flags=actions[i+2],actionIndex=indexOf(otherActions,target,method);if(actionIndex===-1){otherActions.push(target,method,flags)}}}function actionsDiff(obj,eventName,otherActions){var meta=obj[META_KEY],actions=meta&&meta.listeners&&meta.listeners[eventName],diffActions=[];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i],method=actions[i+1],flags=actions[i+2],actionIndex=indexOf(otherActions,target,method);if(actionIndex!==-1){continue}otherActions.push(target,method,flags);diffActions.push(target,method,flags)}return diffActions}function addListener(obj,eventName,target,method,once){Ember.assert("You must pass at least an object and event name to Ember.addListener",!!obj&&!!eventName);if(!method&&"function"===typeof target){method=target;target=null}var actions=actionsFor(obj,eventName),actionIndex=indexOf(actions,target,method),flags=0;if(once)flags|=ONCE;if(actionIndex!==-1){return}actions.push(target,method,flags);if("function"===typeof obj.didAddListener){obj.didAddListener(eventName,target,method)}}function removeListener(obj,eventName,target,method){Ember.assert("You must pass at least an object and event name to Ember.removeListener",!!obj&&!!eventName);if(!method&&"function"===typeof target){method=target;target=null}function _removeListener(target,method){var actions=actionsFor(obj,eventName),actionIndex=indexOf(actions,target,method);if(actionIndex===-1){return}actions.splice(actionIndex,3);if("function"===typeof obj.didRemoveListener){obj.didRemoveListener(eventName,target,method)}}if(method){_removeListener(target,method)}else{var meta=obj[META_KEY],actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){_removeListener(actions[i],actions[i+1])}}}function suspendListener(obj,eventName,target,method,callback){if(!method&&"function"===typeof target){method=target;target=null}var actions=actionsFor(obj,eventName),actionIndex=indexOf(actions,target,method);if(actionIndex!==-1){actions[actionIndex+2]|=SUSPENDED}function tryable(){return callback.call(target)}function finalizer(){if(actionIndex!==-1){actions[actionIndex+2]&=~SUSPENDED}}return Ember.tryFinally(tryable,finalizer)}function suspendListeners(obj,eventNames,target,method,callback){if(!method&&"function"===typeof target){method=target;target=null}var suspendedActions=[],actionsList=[],eventName,actions,i,l;for(i=0,l=eventNames.length;i<l;i++){eventName=eventNames[i];actions=actionsFor(obj,eventName);var actionIndex=indexOf(actions,target,method);if(actionIndex!==-1){actions[actionIndex+2]|=SUSPENDED;suspendedActions.push(actionIndex);actionsList.push(actions)}}function tryable(){return callback.call(target)}function finalizer(){for(var i=0,l=suspendedActions.length;i<l;i++){var actionIndex=suspendedActions[i];actionsList[i][actionIndex+2]&=~SUSPENDED}}return Ember.tryFinally(tryable,finalizer)}function watchedEvents(obj){var listeners=obj[META_KEY].listeners,ret=[];if(listeners){for(var eventName in listeners){if(listeners[eventName]){ret.push(eventName)}}}return ret}function sendEvent(obj,eventName,params,actions){if(obj!==Ember&&"function"===typeof obj.sendEvent){obj.sendEvent(eventName,params)}if(!actions){var meta=obj[META_KEY];actions=meta&&meta.listeners&&meta.listeners[eventName]}if(!actions){return}for(var i=actions.length-3;i>=0;i-=3){var target=actions[i],method=actions[i+1],flags=actions[i+2];if(!method){continue}if(flags&SUSPENDED){continue}if(flags&ONCE){removeListener(obj,eventName,target,method)}if(!target){target=obj}if("string"===typeof method){method=target[method]}if(params){method.apply(target,params)}else{method.call(target)}}return true}function hasListeners(obj,eventName){var meta=obj[META_KEY],actions=meta&&meta.listeners&&meta.listeners[eventName];return!!(actions&&actions.length)}function listenersFor(obj,eventName){var ret=[];var meta=obj[META_KEY],actions=meta&&meta.listeners&&meta.listeners[eventName];if(!actions){return ret}for(var i=0,l=actions.length;i<l;i+=3){var target=actions[i],method=actions[i+1];ret.push([target,method])}return ret}Ember.on=function(){var func=a_slice.call(arguments,-1)[0],events=a_slice.call(arguments,0,-1);func.__ember_listens__=events;return func};Ember.addListener=addListener;Ember.removeListener=removeListener;Ember._suspendListener=suspendListener;Ember._suspendListeners=suspendListeners;Ember.sendEvent=sendEvent;Ember.hasListeners=hasListeners;Ember.watchedEvents=watchedEvents;Ember.listenersFor=listenersFor;Ember.listenersDiff=actionsDiff;Ember.listenersUnion=actionsUnion})();(function(){var guidFor=Ember.guidFor,sendEvent=Ember.sendEvent;var ObserverSet=Ember._ObserverSet=function(){this.clear()};ObserverSet.prototype.add=function(sender,keyName,eventName){var observerSet=this.observerSet,observers=this.observers,senderGuid=guidFor(sender),keySet=observerSet[senderGuid],index;if(!keySet){observerSet[senderGuid]=keySet={}}index=keySet[keyName];if(index===undefined){index=observers.push({sender:sender,keyName:keyName,eventName:eventName,listeners:[]})-1;keySet[keyName]=index}return observers[index].listeners};ObserverSet.prototype.flush=function(){var observers=this.observers,i,len,observer,sender;this.clear();for(i=0,len=observers.length;i<len;++i){observer=observers[i];sender=observer.sender;if(sender.isDestroying||sender.isDestroyed){continue}sendEvent(sender,observer.eventName,[sender,observer.keyName],observer.listeners)}};ObserverSet.prototype.clear=function(){this.observerSet={};this.observers=[]}})();(function(){var META_KEY=Ember.META_KEY,guidFor=Ember.guidFor,tryFinally=Ember.tryFinally,sendEvent=Ember.sendEvent,listenersUnion=Ember.listenersUnion,listenersDiff=Ember.listenersDiff,ObserverSet=Ember._ObserverSet,beforeObserverSet=new ObserverSet,observerSet=new ObserverSet,deferred=0;function propertyWillChange(obj,keyName){var m=obj[META_KEY],watching=m&&m.watching[keyName]>0||keyName==="length",proto=m&&m.proto,desc=m&&m.descs[keyName];if(!watching){return}if(proto===obj){return}if(desc&&desc.willChange){desc.willChange(obj,keyName)}dependentKeysWillChange(obj,keyName,m);chainsWillChange(obj,keyName,m);notifyBeforeObservers(obj,keyName)}Ember.propertyWillChange=propertyWillChange;function propertyDidChange(obj,keyName){var m=obj[META_KEY],watching=m&&m.watching[keyName]>0||keyName==="length",proto=m&&m.proto,desc=m&&m.descs[keyName];if(proto===obj){return}if(desc&&desc.didChange){desc.didChange(obj,keyName)}if(!watching&&keyName!=="length"){return}dependentKeysDidChange(obj,keyName,m);chainsDidChange(obj,keyName,m,false);notifyObservers(obj,keyName)}Ember.propertyDidChange=propertyDidChange;var WILL_SEEN,DID_SEEN;function dependentKeysWillChange(obj,depKey,meta){if(obj.isDestroying){return}var seen=WILL_SEEN,top=!seen;if(top){seen=WILL_SEEN={}}iterDeps(propertyWillChange,obj,depKey,seen,meta);if(top){WILL_SEEN=null}}function dependentKeysDidChange(obj,depKey,meta){if(obj.isDestroying){return}var seen=DID_SEEN,top=!seen;if(top){seen=DID_SEEN={}}iterDeps(propertyDidChange,obj,depKey,seen,meta);if(top){DID_SEEN=null}}function iterDeps(method,obj,depKey,seen,meta){var guid=guidFor(obj);if(!seen[guid])seen[guid]={};if(seen[guid][depKey])return;seen[guid][depKey]=true;var deps=meta.deps;deps=deps&&deps[depKey];if(deps){for(var key in deps){var desc=meta.descs[key];if(desc&&desc._suspended===obj)continue;method(obj,key)}}}function chainsWillChange(obj,keyName,m){if(!(m.hasOwnProperty("chainWatchers")&&m.chainWatchers[keyName])){return}var nodes=m.chainWatchers[keyName],events=[],i,l;for(i=0,l=nodes.length;i<l;i++){nodes[i].willChange(events)}for(i=0,l=events.length;i<l;i+=2){propertyWillChange(events[i],events[i+1])}}function chainsDidChange(obj,keyName,m,suppressEvents){if(!(m&&m.hasOwnProperty("chainWatchers")&&m.chainWatchers[keyName])){return}var nodes=m.chainWatchers[keyName],events=suppressEvents?null:[],i,l;for(i=0,l=nodes.length;i<l;i++){nodes[i].didChange(events)}if(suppressEvents){return}for(i=0,l=events.length;i<l;i+=2){propertyDidChange(events[i],events[i+1])}}Ember.overrideChains=function(obj,keyName,m){chainsDidChange(obj,keyName,m,true)};function beginPropertyChanges(){deferred++}Ember.beginPropertyChanges=beginPropertyChanges;function endPropertyChanges(){deferred--;if(deferred<=0){beforeObserverSet.clear();observerSet.flush()}}Ember.endPropertyChanges=endPropertyChanges;Ember.changeProperties=function(cb,binding){beginPropertyChanges();tryFinally(cb,endPropertyChanges,binding)};function notifyBeforeObservers(obj,keyName){if(obj.isDestroying){return}var eventName=keyName+":before",listeners,diff;if(deferred){listeners=beforeObserverSet.add(obj,keyName,eventName);diff=listenersDiff(obj,eventName,listeners);sendEvent(obj,eventName,[obj,keyName],diff)}else{sendEvent(obj,eventName,[obj,keyName])}}function notifyObservers(obj,keyName){if(obj.isDestroying){return}var eventName=keyName+":change",listeners;if(deferred){listeners=observerSet.add(obj,keyName,eventName);listenersUnion(obj,eventName,listeners)}else{sendEvent(obj,eventName,[obj,keyName])}}})();(function(){var META_KEY=Ember.META_KEY,MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER,IS_GLOBAL=/^([A-Z$]|([0-9][A-Z$]))/,getPath=Ember._getPath;var set=function set(obj,keyName,value,tolerant){if(typeof obj==="string"){Ember.assert("Path '"+obj+"' must be global if no obj is given.",IS_GLOBAL.test(obj));value=keyName;keyName=obj;obj=null}Ember.assert("Cannot call set with "+keyName+" key.",!!keyName);if(!obj||keyName.indexOf(".")!==-1){return setPath(obj,keyName,value,tolerant)}Ember.assert("You need to provide an object and key to `set`.",!!obj&&keyName!==undefined);Ember.assert("calling set on destroyed object",!obj.isDestroyed);var meta=obj[META_KEY],desc=meta&&meta.descs[keyName],isUnknown,currentValue;if(desc){desc.set(obj,keyName,value)}else{isUnknown="object"===typeof obj&&!(keyName in obj);if(isUnknown&&"function"===typeof obj.setUnknownProperty){obj.setUnknownProperty(keyName,value)}else if(meta&&meta.watching[keyName]>0){if(MANDATORY_SETTER){currentValue=meta.values[keyName]}else{currentValue=obj[keyName]}if(value!==currentValue){Ember.propertyWillChange(obj,keyName);if(MANDATORY_SETTER){if(currentValue===undefined&&!(keyName in obj)||!obj.propertyIsEnumerable(keyName)){Ember.defineProperty(obj,keyName,null,value)}else{meta.values[keyName]=value}}else{obj[keyName]=value}Ember.propertyDidChange(obj,keyName)}}else{obj[keyName]=value}}return value};if(Ember.config.overrideAccessors){Ember.set=set;Ember.config.overrideAccessors();set=Ember.set}function setPath(root,path,value,tolerant){var keyName;keyName=path.slice(path.lastIndexOf(".")+1);path=path===keyName?keyName:path.slice(0,path.length-(keyName.length+1));if(path!=="this"){root=getPath(root,path)}if(!keyName||keyName.length===0){throw new Ember.Error("Property set failed: You passed an empty path")}if(!root){if(tolerant){return}else{throw new Ember.Error('Property set failed: object in path "'+path+'" could not be found or was destroyed.')}}return set(root,keyName,value)}Ember.set=set;Ember.trySet=function(root,path,value){return set(root,path,value,true)}})();(function(){var set=Ember.set,guidFor=Ember.guidFor,indexOf=Ember.ArrayPolyfills.indexOf;var copy=function(obj){var output={};for(var prop in obj){if(obj.hasOwnProperty(prop)){output[prop]=obj[prop]}}return output};var copyMap=function(original,newObject){var keys=original.keys.copy(),values=copy(original.values);newObject.keys=keys;newObject.values=values;newObject.length=original.length;return newObject};var OrderedSet=Ember.OrderedSet=function(){this.clear()};OrderedSet.create=function(){return new OrderedSet};OrderedSet.prototype={clear:function(){this.presenceSet={};this.list=[]},add:function(obj){var guid=guidFor(obj),presenceSet=this.presenceSet,list=this.list;if(guid in presenceSet){return}presenceSet[guid]=true;list.push(obj)},remove:function(obj){var guid=guidFor(obj),presenceSet=this.presenceSet,list=this.list;delete presenceSet[guid];var index=indexOf.call(list,obj);if(index>-1){list.splice(index,1)}},isEmpty:function(){return this.list.length===0},has:function(obj){var guid=guidFor(obj),presenceSet=this.presenceSet;return guid in presenceSet},forEach:function(fn,self){var list=this.toArray();for(var i=0,j=list.length;i<j;i++){fn.call(self,list[i])}},toArray:function(){return this.list.slice()},copy:function(){var set=new OrderedSet;set.presenceSet=copy(this.presenceSet);set.list=this.toArray();return set}};var Map=Ember.Map=function(){this.keys=Ember.OrderedSet.create();this.values={}};Map.create=function(){return new Map};Map.prototype={length:0,get:function(key){var values=this.values,guid=guidFor(key);return values[guid]},set:function(key,value){var keys=this.keys,values=this.values,guid=guidFor(key);keys.add(key);values[guid]=value;set(this,"length",keys.list.length)},remove:function(key){var keys=this.keys,values=this.values,guid=guidFor(key);if(values.hasOwnProperty(guid)){keys.remove(key);delete values[guid];set(this,"length",keys.list.length);return true}else{return false}},has:function(key){var values=this.values,guid=guidFor(key);return values.hasOwnProperty(guid)},forEach:function(callback,self){var keys=this.keys,values=this.values;keys.forEach(function(key){var guid=guidFor(key);callback.call(self,key,values[guid])})},copy:function(){return copyMap(this,new Map)}};var MapWithDefault=Ember.MapWithDefault=function(options){Map.call(this);this.defaultValue=options.defaultValue};MapWithDefault.create=function(options){if(options){return new MapWithDefault(options)}else{return new Map}};MapWithDefault.prototype=Ember.create(Map.prototype);MapWithDefault.prototype.get=function(key){var hasValue=this.has(key);if(hasValue){return Map.prototype.get.call(this,key)}else{var defaultValue=this.defaultValue(key);this.set(key,defaultValue);return defaultValue}};MapWithDefault.prototype.copy=function(){return copyMap(this,new MapWithDefault({defaultValue:this.defaultValue}))}})();(function(){function consoleMethod(name){var consoleObj,logToConsole;if(Ember.imports.console){consoleObj=Ember.imports.console}else if(typeof console!=="undefined"){consoleObj=console}var method=typeof consoleObj==="object"?consoleObj[name]:null;if(method){if(typeof method.apply==="function"){logToConsole=function(){method.apply(consoleObj,arguments)};logToConsole.displayName="console."+name;return logToConsole}else{return function(){var message=Array.prototype.join.call(arguments,", ");method(message)}}}}function assertPolyfill(test,message){if(!test){try{throw new Ember.Error("assertion failed: "+message)}catch(error){setTimeout(function(){throw error},0)}}}Ember.Logger={log:consoleMethod("log")||Ember.K,warn:consoleMethod("warn")||Ember.K,error:consoleMethod("error")||Ember.K,info:consoleMethod("info")||Ember.K,debug:consoleMethod("debug")||consoleMethod("info")||Ember.K,assert:consoleMethod("assert")||assertPolyfill}})();(function(){var META_KEY=Ember.META_KEY,metaFor=Ember.meta,objectDefineProperty=Ember.platform.defineProperty;var MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER;Ember.Descriptor=function(){};var MANDATORY_SETTER_FUNCTION=Ember.MANDATORY_SETTER_FUNCTION=function(value){Ember.assert("You must use Ember.set() to access this property (of "+this+")",false)};var DEFAULT_GETTER_FUNCTION=Ember.DEFAULT_GETTER_FUNCTION=function(name){return function(){var meta=this[META_KEY];return meta&&meta.values[name]}};Ember.defineProperty=function(obj,keyName,desc,data,meta){var descs,existingDesc,watching,value;if(!meta)meta=metaFor(obj);descs=meta.descs;existingDesc=meta.descs[keyName];watching=meta.watching[keyName]>0;if(existingDesc instanceof Ember.Descriptor){existingDesc.teardown(obj,keyName)}if(desc instanceof Ember.Descriptor){value=desc;descs[keyName]=desc;if(MANDATORY_SETTER&&watching){objectDefineProperty(obj,keyName,{configurable:true,enumerable:true,writable:true,value:undefined})}else{obj[keyName]=undefined}if(Ember.FEATURES.isEnabled("composable-computed-properties")){if(desc.func&&desc._dependentCPs){addImplicitCPs(obj,desc._dependentCPs,meta)}}}else{descs[keyName]=undefined;if(desc==null){value=data;if(MANDATORY_SETTER&&watching){meta.values[keyName]=data;objectDefineProperty(obj,keyName,{configurable:true,enumerable:true,set:MANDATORY_SETTER_FUNCTION,get:DEFAULT_GETTER_FUNCTION(keyName)})}else{obj[keyName]=data}}else{value=desc;objectDefineProperty(obj,keyName,desc)}}if(watching){Ember.overrideChains(obj,keyName,meta)}if(obj.didDefineProperty){obj.didDefineProperty(obj,keyName,value)}return this};if(Ember.FEATURES.isEnabled("composable-computed-properties")){var addImplicitCPs=function defineImplicitCPs(obj,implicitCPs,meta){var cp,key,length=implicitCPs.length;for(var i=0;i<length;++i){cp=implicitCPs[i];key=cp.implicitCPKey;Ember.defineProperty(obj,key,cp,undefined,meta);if(cp._dependentCPs){addImplicitCPs(obj,cp._dependentCPs,meta)}}}}})();(function(){var get=Ember.get;Ember.getProperties=function(obj){var ret={},propertyNames=arguments,i=1;if(arguments.length===2&&Ember.typeOf(arguments[1])==="array"){i=0;propertyNames=arguments[1]}for(var len=propertyNames.length;i<len;i++){ret[propertyNames[i]]=get(obj,propertyNames[i])}return ret}})();(function(){var changeProperties=Ember.changeProperties,set=Ember.set;Ember.setProperties=function(self,hash){changeProperties(function(){for(var prop in hash){if(hash.hasOwnProperty(prop)){set(self,prop,hash[prop])}}});return self}})();(function(){var metaFor=Ember.meta,typeOf=Ember.typeOf,MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER,o_defineProperty=Ember.platform.defineProperty;Ember.watchKey=function(obj,keyName,meta){if(keyName==="length"&&typeOf(obj)==="array"){return}var m=meta||metaFor(obj),watching=m.watching;if(!watching[keyName]){watching[keyName]=1;if("function"===typeof obj.willWatchProperty){obj.willWatchProperty(keyName)}if(MANDATORY_SETTER&&keyName in obj){m.values[keyName]=obj[keyName];o_defineProperty(obj,keyName,{configurable:true,enumerable:obj.propertyIsEnumerable(keyName),set:Ember.MANDATORY_SETTER_FUNCTION,get:Ember.DEFAULT_GETTER_FUNCTION(keyName)})}}else{watching[keyName]=(watching[keyName]||0)+1
}};Ember.unwatchKey=function(obj,keyName,meta){var m=meta||metaFor(obj),watching=m.watching;if(watching[keyName]===1){watching[keyName]=0;if("function"===typeof obj.didUnwatchProperty){obj.didUnwatchProperty(keyName)}if(MANDATORY_SETTER&&keyName in obj){o_defineProperty(obj,keyName,{configurable:true,enumerable:obj.propertyIsEnumerable(keyName),set:function(val){o_defineProperty(obj,keyName,{configurable:true,writable:true,enumerable:true,value:val});delete m.values[keyName]},get:Ember.DEFAULT_GETTER_FUNCTION(keyName)})}}else if(watching[keyName]>1){watching[keyName]--}}})();(function(){var metaFor=Ember.meta,get=Ember.get,normalizeTuple=Ember.normalizeTuple,forEach=Ember.ArrayPolyfills.forEach,warn=Ember.warn,watchKey=Ember.watchKey,unwatchKey=Ember.unwatchKey,FIRST_KEY=/^([^\.\*]+)/,META_KEY=Ember.META_KEY;function firstKey(path){return path.match(FIRST_KEY)[0]}var pendingQueue=[];Ember.flushPendingChains=function(){if(pendingQueue.length===0){return}var queue=pendingQueue;pendingQueue=[];forEach.call(queue,function(q){q[0].add(q[1])});warn("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",pendingQueue.length===0)};function addChainWatcher(obj,keyName,node){if(!obj||"object"!==typeof obj){return}var m=metaFor(obj),nodes=m.chainWatchers;if(!m.hasOwnProperty("chainWatchers")){nodes=m.chainWatchers={}}if(!nodes[keyName]){nodes[keyName]=[]}nodes[keyName].push(node);watchKey(obj,keyName,m)}var removeChainWatcher=Ember.removeChainWatcher=function(obj,keyName,node){if(!obj||"object"!==typeof obj){return}var m=obj[META_KEY];if(m&&!m.hasOwnProperty("chainWatchers")){return}var nodes=m&&m.chainWatchers;if(nodes&&nodes[keyName]){nodes=nodes[keyName];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i]===node){nodes.splice(i,1)}}}unwatchKey(obj,keyName,m)};var ChainNode=Ember._ChainNode=function(parent,key,value){this._parent=parent;this._key=key;this._watching=value===undefined;this._value=value;this._paths={};if(this._watching){this._object=parent.value();if(this._object){addChainWatcher(this._object,this._key,this)}}if(this._parent&&this._parent._key==="@each"){this.value()}};var ChainNodePrototype=ChainNode.prototype;function lazyGet(obj,key){if(!obj)return undefined;var meta=obj[META_KEY];if(meta&&meta.proto===obj)return undefined;if(key==="@each")return get(obj,key);var desc=meta&&meta.descs[key];if(desc&&desc._cacheable){if(key in meta.cache){return meta.cache[key]}else{return undefined}}return get(obj,key)}ChainNodePrototype.value=function(){if(this._value===undefined&&this._watching){var obj=this._parent.value();this._value=lazyGet(obj,this._key)}return this._value};ChainNodePrototype.destroy=function(){if(this._watching){var obj=this._object;if(obj){removeChainWatcher(obj,this._key,this)}this._watching=false}};ChainNodePrototype.copy=function(obj){var ret=new ChainNode(null,null,obj),paths=this._paths,path;for(path in paths){if(paths[path]<=0){continue}ret.add(path)}return ret};ChainNodePrototype.add=function(path){var obj,tuple,key,src,paths;paths=this._paths;paths[path]=(paths[path]||0)+1;obj=this.value();tuple=normalizeTuple(obj,path);if(tuple[0]&&tuple[0]===obj){path=tuple[1];key=firstKey(path);path=path.slice(key.length+1)}else if(!tuple[0]){pendingQueue.push([this,path]);tuple.length=0;return}else{src=tuple[0];key=path.slice(0,0-(tuple[1].length+1));path=tuple[1]}tuple.length=0;this.chain(key,path,src)};ChainNodePrototype.remove=function(path){var obj,tuple,key,src,paths;paths=this._paths;if(paths[path]>0){paths[path]--}obj=this.value();tuple=normalizeTuple(obj,path);if(tuple[0]===obj){path=tuple[1];key=firstKey(path);path=path.slice(key.length+1)}else{src=tuple[0];key=path.slice(0,0-(tuple[1].length+1));path=tuple[1]}tuple.length=0;this.unchain(key,path)};ChainNodePrototype.count=0;ChainNodePrototype.chain=function(key,path,src){var chains=this._chains,node;if(!chains){chains=this._chains={}}node=chains[key];if(!node){node=chains[key]=new ChainNode(this,key,src)}node.count++;if(path&&path.length>0){key=firstKey(path);path=path.slice(key.length+1);node.chain(key,path)}};ChainNodePrototype.unchain=function(key,path){var chains=this._chains,node=chains[key];if(path&&path.length>1){key=firstKey(path);path=path.slice(key.length+1);node.unchain(key,path)}node.count--;if(node.count<=0){delete chains[node._key];node.destroy()}};ChainNodePrototype.willChange=function(events){var chains=this._chains;if(chains){for(var key in chains){if(!chains.hasOwnProperty(key)){continue}chains[key].willChange(events)}}if(this._parent){this._parent.chainWillChange(this,this._key,1,events)}};ChainNodePrototype.chainWillChange=function(chain,path,depth,events){if(this._key){path=this._key+"."+path}if(this._parent){this._parent.chainWillChange(this,path,depth+1,events)}else{if(depth>1){events.push(this.value(),path)}path="this."+path;if(this._paths[path]>0){events.push(this.value(),path)}}};ChainNodePrototype.chainDidChange=function(chain,path,depth,events){if(this._key){path=this._key+"."+path}if(this._parent){this._parent.chainDidChange(this,path,depth+1,events)}else{if(depth>1){events.push(this.value(),path)}path="this."+path;if(this._paths[path]>0){events.push(this.value(),path)}}};ChainNodePrototype.didChange=function(events){if(this._watching){var obj=this._parent.value();if(obj!==this._object){removeChainWatcher(this._object,this._key,this);this._object=obj;addChainWatcher(obj,this._key,this)}this._value=undefined;if(this._parent&&this._parent._key==="@each")this.value()}var chains=this._chains;if(chains){for(var key in chains){if(!chains.hasOwnProperty(key)){continue}chains[key].didChange(events)}}if(events===null){return}if(this._parent){this._parent.chainDidChange(this,this._key,1,events)}};Ember.finishChains=function(obj){var m=obj[META_KEY],chains=m&&m.chains;if(chains){if(chains.value()!==obj){metaFor(obj).chains=chains=chains.copy(obj)}else{chains.didChange(null)}}}})();(function(){var forEach=Ember.EnumerableUtils.forEach,BRACE_EXPANSION=/^((?:[^\.]*\.)*)\{(.*)\}$/;Ember.expandProperties=function(pattern,callback){var match,prefix,list;if(match=BRACE_EXPANSION.exec(pattern)){prefix=match[1];list=match[2];forEach(list.split(","),function(suffix){callback(prefix+suffix)})}else{callback(pattern)}}})();(function(){var metaFor=Ember.meta,typeOf=Ember.typeOf,ChainNode=Ember._ChainNode;function chainsFor(obj,meta){var m=meta||metaFor(obj),ret=m.chains;if(!ret){ret=m.chains=new ChainNode(null,null,obj)}else if(ret.value()!==obj){ret=m.chains=ret.copy(obj)}return ret}Ember.watchPath=function(obj,keyPath,meta){if(keyPath==="length"&&typeOf(obj)==="array"){return}var m=meta||metaFor(obj),watching=m.watching;if(!watching[keyPath]){watching[keyPath]=1;chainsFor(obj,m).add(keyPath)}else{watching[keyPath]=(watching[keyPath]||0)+1}};Ember.unwatchPath=function(obj,keyPath,meta){var m=meta||metaFor(obj),watching=m.watching;if(watching[keyPath]===1){watching[keyPath]=0;chainsFor(obj,m).remove(keyPath)}else if(watching[keyPath]>1){watching[keyPath]--}}})();(function(){var metaFor=Ember.meta,GUID_KEY=Ember.GUID_KEY,META_KEY=Ember.META_KEY,removeChainWatcher=Ember.removeChainWatcher,watchKey=Ember.watchKey,unwatchKey=Ember.unwatchKey,watchPath=Ember.watchPath,unwatchPath=Ember.unwatchPath,typeOf=Ember.typeOf,generateGuid=Ember.generateGuid,IS_PATH=/[\.\*]/;function isKeyName(path){return path==="*"||!IS_PATH.test(path)}Ember.watch=function(obj,_keyPath,m){if(_keyPath==="length"&&typeOf(obj)==="array"){return}if(isKeyName(_keyPath)){watchKey(obj,_keyPath,m)}else{watchPath(obj,_keyPath,m)}};Ember.isWatching=function isWatching(obj,key){var meta=obj[META_KEY];return(meta&&meta.watching[key])>0};Ember.watch.flushPending=Ember.flushPendingChains;Ember.unwatch=function(obj,_keyPath,m){if(_keyPath==="length"&&typeOf(obj)==="array"){return}if(isKeyName(_keyPath)){unwatchKey(obj,_keyPath,m)}else{unwatchPath(obj,_keyPath,m)}};Ember.rewatch=function(obj){var m=obj[META_KEY],chains=m&&m.chains;if(GUID_KEY in obj&&!obj.hasOwnProperty(GUID_KEY)){generateGuid(obj)}if(chains&&chains.value()!==obj){m.chains=chains.copy(obj)}};var NODE_STACK=[];Ember.destroy=function(obj){var meta=obj[META_KEY],node,nodes,key,nodeObject;if(meta){obj[META_KEY]=null;node=meta.chains;if(node){NODE_STACK.push(node);while(NODE_STACK.length>0){node=NODE_STACK.pop();nodes=node._chains;if(nodes){for(key in nodes){if(nodes.hasOwnProperty(key)){NODE_STACK.push(nodes[key])}}}if(node._watching){nodeObject=node._object;if(nodeObject){removeChainWatcher(nodeObject,node._key,node)}}}}}}})();(function(){Ember.warn("The CP_DEFAULT_CACHEABLE flag has been removed and computed properties are always cached by default. Use `volatile` if you don't want caching.",Ember.ENV.CP_DEFAULT_CACHEABLE!==false);var get=Ember.get,set=Ember.set,metaFor=Ember.meta,a_slice=[].slice,o_create=Ember.create,META_KEY=Ember.META_KEY,watch=Ember.watch,unwatch=Ember.unwatch;var expandProperties=Ember.expandProperties;function keysForDep(depsMeta,depKey){var keys=depsMeta[depKey];if(!keys){keys=depsMeta[depKey]={}}else if(!depsMeta.hasOwnProperty(depKey)){keys=depsMeta[depKey]=o_create(keys)}return keys}function metaForDeps(meta){return keysForDep(meta,"deps")}function addDependentKeys(desc,obj,keyName,meta){var depKeys=desc._dependentKeys,depsMeta,idx,len,depKey,keys;if(!depKeys)return;depsMeta=metaForDeps(meta);for(idx=0,len=depKeys.length;idx<len;idx++){depKey=depKeys[idx];keys=keysForDep(depsMeta,depKey);keys[keyName]=(keys[keyName]||0)+1;watch(obj,depKey,meta)}}function removeDependentKeys(desc,obj,keyName,meta){var depKeys=desc._dependentKeys,depsMeta,idx,len,depKey,keys;if(!depKeys)return;depsMeta=metaForDeps(meta);for(idx=0,len=depKeys.length;idx<len;idx++){depKey=depKeys[idx];keys=keysForDep(depsMeta,depKey);keys[keyName]=(keys[keyName]||0)-1;unwatch(obj,depKey,meta)}}function ComputedProperty(func,opts){this.func=func;if(Ember.FEATURES.isEnabled("composable-computed-properties")){setDependentKeys(this,opts&&opts.dependentKeys)}else{this._dependentKeys=opts&&opts.dependentKeys}this._cacheable=opts&&opts.cacheable!==undefined?opts.cacheable:true;this._readOnly=opts&&(opts.readOnly!==undefined||!!opts.readOnly)}Ember.ComputedProperty=ComputedProperty;ComputedProperty.prototype=new Ember.Descriptor;var ComputedPropertyPrototype=ComputedProperty.prototype;ComputedPropertyPrototype._dependentKeys=undefined;ComputedPropertyPrototype._suspended=undefined;ComputedPropertyPrototype._meta=undefined;if(Ember.FEATURES.isEnabled("composable-computed-properties")){ComputedPropertyPrototype._dependentCPs=undefined;ComputedPropertyPrototype.implicitCPKey=undefined;ComputedPropertyPrototype.toString=function(){if(this.implicitCPKey){return this.implicitCPKey}return Ember.Descriptor.prototype.toString.apply(this,arguments)}}ComputedPropertyPrototype.cacheable=function(aFlag){this._cacheable=aFlag!==false;return this};ComputedPropertyPrototype.volatile=function(){return this.cacheable(false)};ComputedPropertyPrototype.readOnly=function(readOnly){this._readOnly=readOnly===undefined||!!readOnly;return this};ComputedPropertyPrototype.property=function(){var args;var addArg=function(property){args.push(property)};args=[];for(var i=0,l=arguments.length;i<l;i++){expandProperties(arguments[i],addArg)}if(Ember.FEATURES.isEnabled("composable-computed-properties")){setDependentKeys(this,args)}else{this._dependentKeys=args}return this};ComputedPropertyPrototype.meta=function(meta){if(arguments.length===0){return this._meta||{}}else{this._meta=meta;return this}};ComputedPropertyPrototype.didChange=function(obj,keyName){if(this._cacheable&&this._suspended!==obj){var meta=metaFor(obj);if(keyName in meta.cache){delete meta.cache[keyName];removeDependentKeys(this,obj,keyName,meta)}}};function finishChains(chainNodes){for(var i=0,l=chainNodes.length;i<l;i++){chainNodes[i].didChange(null)}}ComputedPropertyPrototype.get=function(obj,keyName){var ret,cache,meta,chainNodes;if(this._cacheable){meta=metaFor(obj);cache=meta.cache;if(keyName in cache){return cache[keyName]}ret=cache[keyName]=this.func.call(obj,keyName);chainNodes=meta.chainWatchers&&meta.chainWatchers[keyName];if(chainNodes){finishChains(chainNodes)}addDependentKeys(this,obj,keyName,meta)}else{ret=this.func.call(obj,keyName)}return ret};ComputedPropertyPrototype.set=function(obj,keyName,value){var cacheable=this._cacheable,func=this.func,meta=metaFor(obj,cacheable),watched=meta.watching[keyName],oldSuspended=this._suspended,hadCachedValue=false,cache=meta.cache,funcArgLength,cachedValue,ret;if(this._readOnly){throw new Ember.Error('Cannot set read-only property "'+keyName+'" on object: '+Ember.inspect(obj))}this._suspended=obj;try{if(cacheable&&cache.hasOwnProperty(keyName)){cachedValue=cache[keyName];hadCachedValue=true}funcArgLength=func.wrappedFunction?func.wrappedFunction.length:func.length;if(funcArgLength===3){ret=func.call(obj,keyName,value,cachedValue)}else if(funcArgLength===2){ret=func.call(obj,keyName,value)}else{Ember.defineProperty(obj,keyName,null,cachedValue);Ember.set(obj,keyName,value);return}if(hadCachedValue&&cachedValue===ret){return}if(watched){Ember.propertyWillChange(obj,keyName)}if(hadCachedValue){delete cache[keyName]}if(cacheable){if(!hadCachedValue){addDependentKeys(this,obj,keyName,meta)}cache[keyName]=ret}if(watched){Ember.propertyDidChange(obj,keyName)}}finally{this._suspended=oldSuspended}return ret};ComputedPropertyPrototype.teardown=function(obj,keyName){var meta=metaFor(obj);if(keyName in meta.cache){removeDependentKeys(this,obj,keyName,meta)}if(this._cacheable){delete meta.cache[keyName]}return null};Ember.computed=function(func){var args;if(arguments.length>1){args=a_slice.call(arguments,0,-1);func=a_slice.call(arguments,-1)[0]}if(typeof func!=="function"){throw new Ember.Error("Computed Property declared without a property function")}var cp=new ComputedProperty(func);if(args){cp.property.apply(cp,args)}return cp};Ember.cacheFor=function cacheFor(obj,key){var meta=obj[META_KEY],cache=meta&&meta.cache;if(cache&&key in cache){return cache[key]}};function getProperties(self,propertyNames){var ret={};for(var i=0;i<propertyNames.length;i++){ret[propertyNames[i]]=get(self,propertyNames[i])}return ret}var registerComputed,registerComputedWithProperties;if(Ember.FEATURES.isEnabled("composable-computed-properties")){var guidFor=Ember.guidFor,map=Ember.EnumerableUtils.map,filter=Ember.EnumerableUtils.filter,typeOf=Ember.typeOf;var implicitKey=function(cp){return[guidFor(cp)].concat(cp._dependentKeys).join("_").replace(/\./g,"_DOT_")};var normalizeDependentKey=function(key){if(key instanceof Ember.ComputedProperty){return implicitKey(key)}else{return key}};var normalizeDependentKeys=function(keys){return map(keys,function(key){return normalizeDependentKey(key)})};var selectDependentCPs=function(keys){return filter(keys,function(key){return key instanceof Ember.ComputedProperty})};var setDependentKeys=function(cp,dependentKeys){if(dependentKeys){cp._dependentKeys=normalizeDependentKeys(dependentKeys);cp._dependentCPs=selectDependentCPs(dependentKeys)}else{cp._dependentKeys=cp._dependentCPs=[]}cp.implicitCPKey=implicitKey(cp)};Ember.computed.normalizeDependentKey=normalizeDependentKey;Ember.computed.normalizeDependentKeys=normalizeDependentKeys;registerComputed=function(name,macro){Ember.computed[name]=function(dependentKey){var args=normalizeDependentKeys(a_slice.call(arguments));return Ember.computed(dependentKey,function(){return macro.apply(this,args)})}}}if(Ember.FEATURES.isEnabled("composable-computed-properties")){registerComputedWithProperties=function(name,macro){Ember.computed[name]=function(){var args=a_slice.call(arguments);var properties=normalizeDependentKeys(args);var computed=Ember.computed(function(){return macro.apply(this,[getProperties(this,properties)])});return computed.property.apply(computed,args)}}}else{registerComputed=function(name,macro){Ember.computed[name]=function(dependentKey){var args=a_slice.call(arguments);return Ember.computed(dependentKey,function(){return macro.apply(this,args)})}};registerComputedWithProperties=function(name,macro){Ember.computed[name]=function(){var properties=a_slice.call(arguments);var computed=Ember.computed(function(){return macro.apply(this,[getProperties(this,properties)])});return computed.property.apply(computed,properties)}}}if(Ember.FEATURES.isEnabled("composable-computed-properties")){Ember.computed.literal=function(value){return Ember.computed(function(){return value})}}registerComputed("empty",function(dependentKey){return Ember.isEmpty(get(this,dependentKey))});registerComputed("notEmpty",function(dependentKey){return!Ember.isEmpty(get(this,dependentKey))});registerComputed("none",function(dependentKey){return Ember.isNone(get(this,dependentKey))});registerComputed("not",function(dependentKey){return!get(this,dependentKey)});registerComputed("bool",function(dependentKey){return!!get(this,dependentKey)});registerComputed("match",function(dependentKey,regexp){var value=get(this,dependentKey);return typeof value==="string"?regexp.test(value):false});registerComputed("equal",function(dependentKey,value){return get(this,dependentKey)===value});registerComputed("gt",function(dependentKey,value){return get(this,dependentKey)>value});registerComputed("gte",function(dependentKey,value){return get(this,dependentKey)>=value});registerComputed("lt",function(dependentKey,value){return get(this,dependentKey)<value});registerComputed("lte",function(dependentKey,value){return get(this,dependentKey)<=value});registerComputedWithProperties("and",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&!properties[key]){return false}}return true});registerComputedWithProperties("or",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&properties[key]){return true}}return false});registerComputedWithProperties("any",function(properties){for(var key in properties){if(properties.hasOwnProperty(key)&&properties[key]){return properties[key]}}return null});registerComputedWithProperties("collect",function(properties){var res=[];for(var key in properties){if(properties.hasOwnProperty(key)){if(Ember.isNone(properties[key])){res.push(null)}else{res.push(properties[key])}}}return res});Ember.computed.alias=function(dependentKey){return Ember.computed(dependentKey,function(key,value){if(arguments.length>1){set(this,dependentKey,value);return value}else{return get(this,dependentKey)}})};Ember.computed.oneWay=function(dependentKey){return Ember.computed(dependentKey,function(){return get(this,dependentKey)})};Ember.computed.readOnly=function(dependentKey){return Ember.computed(dependentKey,function(){return get(this,dependentKey)}).readOnly()};Ember.computed.defaultTo=function(defaultPath){return Ember.computed(function(key,newValue,cachedValue){if(arguments.length===1){return cachedValue!=null?cachedValue:get(this,defaultPath)}return newValue!=null?newValue:get(this,defaultPath)})}})();(function(){var AFTER_OBSERVERS=":change",BEFORE_OBSERVERS=":before";function changeEvent(keyName){return keyName+AFTER_OBSERVERS}function beforeEvent(keyName){return keyName+BEFORE_OBSERVERS}Ember.addObserver=function(obj,_path,target,method){Ember.addListener(obj,changeEvent(_path),target,method);Ember.watch(obj,_path);return this};Ember.observersFor=function(obj,path){return Ember.listenersFor(obj,changeEvent(path))};Ember.removeObserver=function(obj,_path,target,method){Ember.unwatch(obj,_path);Ember.removeListener(obj,changeEvent(_path),target,method);return this};Ember.addBeforeObserver=function(obj,_path,target,method){Ember.addListener(obj,beforeEvent(_path),target,method);Ember.watch(obj,_path);return this};Ember._suspendBeforeObserver=function(obj,path,target,method,callback){return Ember._suspendListener(obj,beforeEvent(path),target,method,callback)};Ember._suspendObserver=function(obj,path,target,method,callback){return Ember._suspendListener(obj,changeEvent(path),target,method,callback)};var map=Ember.ArrayPolyfills.map;Ember._suspendBeforeObservers=function(obj,paths,target,method,callback){var events=map.call(paths,beforeEvent);return Ember._suspendListeners(obj,events,target,method,callback)};Ember._suspendObservers=function(obj,paths,target,method,callback){var events=map.call(paths,changeEvent);return Ember._suspendListeners(obj,events,target,method,callback)};Ember.beforeObserversFor=function(obj,path){return Ember.listenersFor(obj,beforeEvent(path))};Ember.removeBeforeObserver=function(obj,_path,target,method){Ember.unwatch(obj,_path);Ember.removeListener(obj,beforeEvent(_path),target,method);return this}})();(function(){define("backburner/queue",["exports"],function(__exports__){"use strict";function Queue(daq,name,options){this.daq=daq;this.name=name;this.options=options;this._queue=[]}Queue.prototype={daq:null,name:null,options:null,_queue:null,push:function(target,method,args,stack){var queue=this._queue;queue.push(target,method,args,stack);return{queue:this,target:target,method:method}},pushUnique:function(target,method,args,stack){var queue=this._queue,currentTarget,currentMethod,i,l;for(i=0,l=queue.length;i<l;i+=4){currentTarget=queue[i];currentMethod=queue[i+1];if(currentTarget===target&&currentMethod===method){queue[i+2]=args;queue[i+3]=stack;return{queue:this,target:target,method:method}}}this._queue.push(target,method,args,stack);return{queue:this,target:target,method:method}},flush:function(){var queue=this._queue,options=this.options,before=options&&options.before,after=options&&options.after,target,method,args,stack,i,l=queue.length;if(l&&before){before()}for(i=0;i<l;i+=4){target=queue[i];method=queue[i+1];args=queue[i+2];stack=queue[i+3];if(args&&args.length>0){method.apply(target,args)}else{method.call(target)}}if(l&&after){after()}if(queue.length>l){this._queue=queue.slice(l);this.flush()}else{this._queue.length=0}},cancel:function(actionToCancel){var queue=this._queue,currentTarget,currentMethod,i,l;for(i=0,l=queue.length;i<l;i+=4){currentTarget=queue[i];currentMethod=queue[i+1];if(currentTarget===actionToCancel.target&&currentMethod===actionToCancel.method){queue.splice(i,4);return true}}queue=this._queueBeingFlushed;if(!queue){return}for(i=0,l=queue.length;i<l;i+=4){currentTarget=queue[i];currentMethod=queue[i+1];if(currentTarget===actionToCancel.target&&currentMethod===actionToCancel.method){queue[i+1]=null;return true}}}};__exports__.Queue=Queue});define("backburner/deferred_action_queues",["backburner/queue","exports"],function(__dependency1__,__exports__){"use strict";var Queue=__dependency1__.Queue;function DeferredActionQueues(queueNames,options){var queues=this.queues={};this.queueNames=queueNames=queueNames||[];var queueName;for(var i=0,l=queueNames.length;i<l;i++){queueName=queueNames[i];queues[queueName]=new Queue(this,queueName,options[queueName])}}DeferredActionQueues.prototype={queueNames:null,queues:null,schedule:function(queueName,target,method,args,onceFlag,stack){var queues=this.queues,queue=queues[queueName];if(!queue){throw new Error("You attempted to schedule an action in a queue ("+queueName+") that doesn't exist")}if(onceFlag){return queue.pushUnique(target,method,args,stack)}else{return queue.push(target,method,args,stack)}},flush:function(){var queues=this.queues,queueNames=this.queueNames,queueName,queue,queueItems,priorQueueNameIndex,queueNameIndex=0,numberOfQueues=queueNames.length;outerloop:while(queueNameIndex<numberOfQueues){queueName=queueNames[queueNameIndex];queue=queues[queueName];queueItems=queue._queueBeingFlushed=queue._queue.slice();queue._queue=[];var options=queue.options,before=options&&options.before,after=options&&options.after,target,method,args,stack,queueIndex=0,numberOfQueueItems=queueItems.length;if(numberOfQueueItems&&before){before()}while(queueIndex<numberOfQueueItems){target=queueItems[queueIndex];method=queueItems[queueIndex+1];args=queueItems[queueIndex+2];stack=queueItems[queueIndex+3];if(typeof method==="string"){method=target[method]}if(method){if(args&&args.length>0){method.apply(target,args)}else{method.call(target)}}queueIndex+=4}queue._queueBeingFlushed=null;if(numberOfQueueItems&&after){after()}if((priorQueueNameIndex=indexOfPriorQueueWithActions(this,queueNameIndex))!==-1){queueNameIndex=priorQueueNameIndex;continue outerloop}queueNameIndex++}}};function indexOfPriorQueueWithActions(daq,currentQueueIndex){var queueName,queue;for(var i=0,l=currentQueueIndex;i<=l;i++){queueName=daq.queueNames[i];queue=daq.queues[queueName];if(queue._queue.length){return i}}return-1}__exports__.DeferredActionQueues=DeferredActionQueues});define("backburner",["backburner/deferred_action_queues","exports"],function(__dependency1__,__exports__){"use strict";var DeferredActionQueues=__dependency1__.DeferredActionQueues;var slice=[].slice,pop=[].pop,throttlers=[],debouncees=[],timers=[],autorun,laterTimer,laterTimerExpiresAt,global=this,NUMBER=/\d+/;function isCoercableNumber(number){return typeof number==="number"||NUMBER.test(number)}function Backburner(queueNames,options){this.queueNames=queueNames;this.options=options||{};if(!this.options.defaultQueue){this.options.defaultQueue=queueNames[0]}this.instanceStack=[]}Backburner.prototype={queueNames:null,options:null,currentInstance:null,instanceStack:null,begin:function(){var onBegin=this.options&&this.options.onBegin,previousInstance=this.currentInstance;if(previousInstance){this.instanceStack.push(previousInstance)}this.currentInstance=new DeferredActionQueues(this.queueNames,this.options);if(onBegin){onBegin(this.currentInstance,previousInstance)}},end:function(){var onEnd=this.options&&this.options.onEnd,currentInstance=this.currentInstance,nextInstance=null;try{currentInstance.flush()}finally{this.currentInstance=null;if(this.instanceStack.length){nextInstance=this.instanceStack.pop();this.currentInstance=nextInstance}if(onEnd){onEnd(currentInstance,nextInstance)}}},run:function(target,method){var ret;this.begin();if(!method){method=target;target=null}if(typeof method==="string"){method=target[method]}var finallyAlreadyCalled=false;try{if(arguments.length>2){ret=method.apply(target,slice.call(arguments,2))}else{ret=method.call(target)}}finally{if(!finallyAlreadyCalled){finallyAlreadyCalled=true;this.end()}}return ret},defer:function(queueName,target,method){if(!method){method=target;target=null}if(typeof method==="string"){method=target[method]}var stack=this.DEBUG?new Error:undefined,args=arguments.length>3?slice.call(arguments,3):undefined;if(!this.currentInstance){createAutorun(this)}return this.currentInstance.schedule(queueName,target,method,args,false,stack)},deferOnce:function(queueName,target,method){if(!method){method=target;target=null}if(typeof method==="string"){method=target[method]}var stack=this.DEBUG?new Error:undefined,args=arguments.length>3?slice.call(arguments,3):undefined;if(!this.currentInstance){createAutorun(this)}return this.currentInstance.schedule(queueName,target,method,args,true,stack)},setTimeout:function(){var args=slice.call(arguments);var length=args.length;var method,wait,target;var self=this;var methodOrTarget,methodOrWait,methodOrArgs;if(length===0){return}else if(length===1){method=args.shift();wait=0}else if(length===2){methodOrTarget=args[0];methodOrWait=args[1];if(typeof methodOrWait==="function"||typeof methodOrTarget[methodOrWait]==="function"){target=args.shift();method=args.shift();wait=0}else if(isCoercableNumber(methodOrWait)){method=args.shift();wait=args.shift()}else{method=args.shift();wait=0}}else{var last=args[args.length-1];if(isCoercableNumber(last)){wait=args.pop()}methodOrTarget=args[0];methodOrArgs=args[1];if(typeof methodOrArgs==="function"||typeof methodOrArgs==="string"&&methodOrTarget!==null&&methodOrArgs in methodOrTarget){target=args.shift();method=args.shift()}else{method=args.shift()}}var executeAt=+new Date+parseInt(wait,10);if(typeof method==="string"){method=target[method]}function fn(){method.apply(target,args)}var i,l;for(i=0,l=timers.length;i<l;i+=2){if(executeAt<timers[i]){break}}timers.splice(i,0,executeAt,fn);updateLaterTimer(self,executeAt,wait);return fn},throttle:function(target,method){var self=this,args=arguments,immediate=pop.call(args),wait,throttler,index,timer;if(typeof immediate==="number"||typeof immediate==="string"){wait=immediate;immediate=true}else{wait=pop.call(args)}wait=parseInt(wait,10);index=findThrottler(target,method);if(index>-1){return throttlers[index]}timer=global.setTimeout(function(){if(!immediate){self.run.apply(self,args)}var index=findThrottler(target,method);if(index>-1){throttlers.splice(index,1)}},wait);if(immediate){self.run.apply(self,args)}throttler=[target,method,timer];throttlers.push(throttler);return throttler},debounce:function(target,method){var self=this,args=arguments,immediate=pop.call(args),wait,index,debouncee,timer;if(typeof immediate==="number"||typeof immediate==="string"){wait=immediate;immediate=false}else{wait=pop.call(args)}wait=parseInt(wait,10);index=findDebouncee(target,method);if(index>-1){debouncee=debouncees[index];debouncees.splice(index,1);clearTimeout(debouncee[2])}timer=global.setTimeout(function(){if(!immediate){self.run.apply(self,args)}var index=findDebouncee(target,method);if(index>-1){debouncees.splice(index,1)}},wait);if(immediate&&index===-1){self.run.apply(self,args)}debouncee=[target,method,timer];debouncees.push(debouncee);return debouncee},cancelTimers:function(){var i,len;for(i=0,len=throttlers.length;i<len;i++){clearTimeout(throttlers[i][2])}throttlers=[];for(i=0,len=debouncees.length;i<len;i++){clearTimeout(debouncees[i][2])}debouncees=[];if(laterTimer){clearTimeout(laterTimer);laterTimer=null}timers=[];if(autorun){clearTimeout(autorun);autorun=null}},hasTimers:function(){return!!timers.length||autorun},cancel:function(timer){var timerType=typeof timer;if(timer&&timerType==="object"&&timer.queue&&timer.method){return timer.queue.cancel(timer)}else if(timerType==="function"){for(var i=0,l=timers.length;i<l;i+=2){if(timers[i+1]===timer){timers.splice(i,2);return true}}}else if(Object.prototype.toString.call(timer)==="[object Array]"){return this._cancelItem(findThrottler,throttlers,timer)||this._cancelItem(findDebouncee,debouncees,timer)}else{return}},_cancelItem:function(findMethod,array,timer){var item,index;if(timer.length<3){return false}index=findMethod(timer[0],timer[1]);if(index>-1){item=array[index];if(item[2]===timer[2]){array.splice(index,1);clearTimeout(timer[2]);return true}}return false}};Backburner.prototype.schedule=Backburner.prototype.defer;Backburner.prototype.scheduleOnce=Backburner.prototype.deferOnce;Backburner.prototype.later=Backburner.prototype.setTimeout;function createAutorun(backburner){backburner.begin();autorun=global.setTimeout(function(){autorun=null;backburner.end()})}function updateLaterTimer(self,executeAt,wait){if(!laterTimer||executeAt<laterTimerExpiresAt){if(laterTimer){clearTimeout(laterTimer)}laterTimer=global.setTimeout(function(){laterTimer=null;laterTimerExpiresAt=null;executeTimers(self)},wait);laterTimerExpiresAt=executeAt}}function executeTimers(self){var now=+new Date,time,fns,i,l;self.run(function(){for(i=0,l=timers.length;i<l;i+=2){time=timers[i];if(time>now){break}}fns=timers.splice(0,i);for(i=1,l=fns.length;i<l;i+=2){self.schedule(self.options.defaultQueue,null,fns[i])}});if(timers.length){updateLaterTimer(self,timers[0],timers[0]-now)}}function findDebouncee(target,method){var debouncee,index=-1;for(var i=0,l=debouncees.length;i<l;i++){debouncee=debouncees[i];if(debouncee[0]===target&&debouncee[1]===method){index=i;break}}return index}function findThrottler(target,method){var throttler,index=-1;for(var i=0,l=throttlers.length;i<l;i++){throttler=throttlers[i];if(throttler[0]===target&&throttler[1]===method){index=i;break}}return index}__exports__.Backburner=Backburner})})();(function(){var onBegin=function(current){Ember.run.currentRunLoop=current};var onEnd=function(current,next){Ember.run.currentRunLoop=next};var Backburner=requireModule("backburner").Backburner,backburner=new Backburner(["sync","actions","destroy"],{sync:{before:Ember.beginPropertyChanges,after:Ember.endPropertyChanges},defaultQueue:"actions",onBegin:onBegin,onEnd:onEnd}),slice=[].slice,concat=[].concat;
Ember.run=function(){if(Ember.onerror){return onerror(arguments)}else{return backburner.run.apply(backburner,arguments)}};function onerror(args){try{return backburner.run.apply(backburner,args)}catch(error){Ember.onerror(error)}}Ember.run.join=function(target,method){if(!Ember.run.currentRunLoop){return Ember.run.apply(Ember.run,arguments)}var args=slice.call(arguments);args.unshift("actions");Ember.run.schedule.apply(Ember.run,args)};Ember.run.bind=function(target,method){var args=slice.call(arguments);return function(){return Ember.run.join.apply(Ember.run,args.concat(slice.call(arguments)))}};Ember.run.backburner=backburner;var run=Ember.run;Ember.run.currentRunLoop=null;Ember.run.queues=backburner.queueNames;Ember.run.begin=function(){backburner.begin()};Ember.run.end=function(){backburner.end()};Ember.run.schedule=function(queue,target,method){checkAutoRun();backburner.schedule.apply(backburner,arguments)};Ember.run.hasScheduledTimers=function(){return backburner.hasTimers()};Ember.run.cancelTimers=function(){backburner.cancelTimers()};Ember.run.sync=function(){if(backburner.currentInstance){backburner.currentInstance.queues.sync.flush()}};Ember.run.later=function(target,method){return backburner.later.apply(backburner,arguments)};Ember.run.once=function(target,method){checkAutoRun();var args=slice.call(arguments);args.unshift("actions");return backburner.scheduleOnce.apply(backburner,args)};Ember.run.scheduleOnce=function(queue,target,method){checkAutoRun();return backburner.scheduleOnce.apply(backburner,arguments)};Ember.run.next=function(){var args=slice.call(arguments);args.push(1);return backburner.later.apply(backburner,args)};Ember.run.cancel=function(timer){return backburner.cancel(timer)};Ember.run.debounce=function(){return backburner.debounce.apply(backburner,arguments)};Ember.run.throttle=function(){return backburner.throttle.apply(backburner,arguments)};function checkAutoRun(){if(!Ember.run.currentRunLoop){Ember.assert("You have turned on testing mode, which disabled the run-loop's autorun. You will need to wrap any code with asynchronous side-effects in an Ember.run",!Ember.testing)}}})();(function(){Ember.LOG_BINDINGS=false||!!Ember.ENV.LOG_BINDINGS;var get=Ember.get,set=Ember.set,guidFor=Ember.guidFor,IS_GLOBAL=/^([A-Z$]|([0-9][A-Z$]))/;var isGlobalPath=Ember.isGlobalPath=function(path){return IS_GLOBAL.test(path)};function getWithGlobals(obj,path){return get(isGlobalPath(path)?Ember.lookup:obj,path)}var Binding=function(toPath,fromPath){this._direction="fwd";this._from=fromPath;this._to=toPath;this._directionMap=Ember.Map.create()};Binding.prototype={copy:function(){var copy=new Binding(this._to,this._from);if(this._oneWay){copy._oneWay=true}return copy},from:function(path){this._from=path;return this},to:function(path){this._to=path;return this},oneWay:function(){this._oneWay=true;return this},toString:function(){var oneWay=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+guidFor(this)+">("+this._from+" -> "+this._to+")"+oneWay},connect:function(obj){Ember.assert("Must pass a valid object to Ember.Binding.connect()",!!obj);var fromPath=this._from,toPath=this._to;Ember.trySet(obj,toPath,getWithGlobals(obj,fromPath));Ember.addObserver(obj,fromPath,this,this.fromDidChange);if(!this._oneWay){Ember.addObserver(obj,toPath,this,this.toDidChange)}this._readyToSync=true;return this},disconnect:function(obj){Ember.assert("Must pass a valid object to Ember.Binding.disconnect()",!!obj);var twoWay=!this._oneWay;Ember.removeObserver(obj,this._from,this,this.fromDidChange);if(twoWay){Ember.removeObserver(obj,this._to,this,this.toDidChange)}this._readyToSync=false;return this},fromDidChange:function(target){this._scheduleSync(target,"fwd")},toDidChange:function(target){this._scheduleSync(target,"back")},_scheduleSync:function(obj,dir){var directionMap=this._directionMap;var existingDir=directionMap.get(obj);if(!existingDir){Ember.run.schedule("sync",this,this._sync,obj);directionMap.set(obj,dir)}if(existingDir==="back"&&dir==="fwd"){directionMap.set(obj,"fwd")}},_sync:function(obj){var log=Ember.LOG_BINDINGS;if(obj.isDestroyed||!this._readyToSync){return}var directionMap=this._directionMap;var direction=directionMap.get(obj);var fromPath=this._from,toPath=this._to;directionMap.remove(obj);if(direction==="fwd"){var fromValue=getWithGlobals(obj,this._from);if(log){Ember.Logger.log(" ",this.toString(),"->",fromValue,obj)}if(this._oneWay){Ember.trySet(obj,toPath,fromValue)}else{Ember._suspendObserver(obj,toPath,this,this.toDidChange,function(){Ember.trySet(obj,toPath,fromValue)})}}else if(direction==="back"){var toValue=get(obj,this._to);if(log){Ember.Logger.log(" ",this.toString(),"<-",toValue,obj)}Ember._suspendObserver(obj,fromPath,this,this.fromDidChange,function(){Ember.trySet(Ember.isGlobalPath(fromPath)?Ember.lookup:obj,fromPath,toValue)})}}};function mixinProperties(to,from){for(var key in from){if(from.hasOwnProperty(key)){to[key]=from[key]}}}mixinProperties(Binding,{from:function(){var C=this,binding=new C;return binding.from.apply(binding,arguments)},to:function(){var C=this,binding=new C;return binding.to.apply(binding,arguments)},oneWay:function(from,flag){var C=this,binding=new C(null,from);return binding.oneWay(flag)}});Ember.Binding=Binding;Ember.bind=function(obj,to,from){return new Ember.Binding(to,from).connect(obj)};Ember.oneWay=function(obj,to,from){return new Ember.Binding(to,from).oneWay().connect(obj)}})();(function(){var Mixin,REQUIRED,Alias,a_map=Ember.ArrayPolyfills.map,a_indexOf=Ember.ArrayPolyfills.indexOf,a_forEach=Ember.ArrayPolyfills.forEach,a_slice=[].slice,o_create=Ember.create,defineProperty=Ember.defineProperty,guidFor=Ember.guidFor,metaFor=Ember.meta,META_KEY=Ember.META_KEY;var expandProperties=Ember.expandProperties;function superFunction(){var ret,func=this.__nextSuper;if(func){this.__nextSuper=null;ret=func.apply(this,arguments);this.__nextSuper=func}return ret}function mixinsMeta(obj){var m=metaFor(obj,true),ret=m.mixins;if(!ret){ret=m.mixins={}}else if(!m.hasOwnProperty("mixins")){ret=m.mixins=o_create(ret)}return ret}function initMixin(mixin,args){if(args&&args.length>0){mixin.mixins=a_map.call(args,function(x){if(x instanceof Mixin){return x}var mixin=new Mixin;mixin.properties=x;return mixin})}return mixin}function isMethod(obj){return"function"===typeof obj&&obj.isMethod!==false&&obj!==Boolean&&obj!==Object&&obj!==Number&&obj!==Array&&obj!==Date&&obj!==String}var CONTINUE={};function mixinProperties(mixinsMeta,mixin){var guid;if(mixin instanceof Mixin){guid=guidFor(mixin);if(mixinsMeta[guid]){return CONTINUE}mixinsMeta[guid]=mixin;return mixin.properties}else{return mixin}}function concatenatedMixinProperties(concatProp,props,values,base){var concats;concats=values[concatProp]||base[concatProp];if(props[concatProp]){concats=concats?concats.concat(props[concatProp]):props[concatProp]}return concats}function giveDescriptorSuper(meta,key,property,values,descs){var superProperty;if(values[key]===undefined){superProperty=descs[key]}superProperty=superProperty||meta.descs[key];if(!superProperty||!(superProperty instanceof Ember.ComputedProperty)){return property}property=o_create(property);property.func=Ember.wrap(property.func,superProperty.func);return property}function giveMethodSuper(obj,key,method,values,descs){var superMethod;if(descs[key]===undefined){superMethod=values[key]}superMethod=superMethod||obj[key];if("function"!==typeof superMethod){return method}return Ember.wrap(method,superMethod)}function applyConcatenatedProperties(obj,key,value,values){var baseValue=values[key]||obj[key];if(baseValue){if("function"===typeof baseValue.concat){return baseValue.concat(value)}else{return Ember.makeArray(baseValue).concat(value)}}else{return Ember.makeArray(value)}}function applyMergedProperties(obj,key,value,values){var baseValue=values[key]||obj[key];if(!baseValue){return value}var newBase=Ember.merge({},baseValue),hasFunction=false;for(var prop in value){if(!value.hasOwnProperty(prop)){continue}var propValue=value[prop];if(isMethod(propValue)){hasFunction=true;newBase[prop]=giveMethodSuper(obj,prop,propValue,baseValue,{})}else{newBase[prop]=propValue}}if(hasFunction){newBase._super=superFunction}return newBase}function addNormalizedProperty(base,key,value,meta,descs,values,concats,mergings){if(value instanceof Ember.Descriptor){if(value===REQUIRED&&descs[key]){return CONTINUE}if(value.func){value=giveDescriptorSuper(meta,key,value,values,descs)}descs[key]=value;values[key]=undefined}else{if(concats&&a_indexOf.call(concats,key)>=0||key==="concatenatedProperties"||key==="mergedProperties"){value=applyConcatenatedProperties(base,key,value,values)}else if(mergings&&a_indexOf.call(mergings,key)>=0){value=applyMergedProperties(base,key,value,values)}else if(isMethod(value)){value=giveMethodSuper(base,key,value,values,descs)}descs[key]=undefined;values[key]=value}}function mergeMixins(mixins,m,descs,values,base,keys){var mixin,props,key,concats,mergings,meta;function removeKeys(keyName){delete descs[keyName];delete values[keyName]}for(var i=0,l=mixins.length;i<l;i++){mixin=mixins[i];Ember.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(mixin),typeof mixin==="object"&&mixin!==null&&Object.prototype.toString.call(mixin)!=="[object Array]");props=mixinProperties(m,mixin);if(props===CONTINUE){continue}if(props){meta=metaFor(base);if(base.willMergeMixin){base.willMergeMixin(props)}concats=concatenatedMixinProperties("concatenatedProperties",props,values,base);mergings=concatenatedMixinProperties("mergedProperties",props,values,base);for(key in props){if(!props.hasOwnProperty(key)){continue}keys.push(key);addNormalizedProperty(base,key,props[key],meta,descs,values,concats,mergings)}if(props.hasOwnProperty("toString")){base.toString=props.toString}}else if(mixin.mixins){mergeMixins(mixin.mixins,m,descs,values,base,keys);if(mixin._without){a_forEach.call(mixin._without,removeKeys)}}}}var IS_BINDING=Ember.IS_BINDING=/^.+Binding$/;function detectBinding(obj,key,value,m){if(IS_BINDING.test(key)){var bindings=m.bindings;if(!bindings){bindings=m.bindings={}}else if(!m.hasOwnProperty("bindings")){bindings=m.bindings=o_create(m.bindings)}bindings[key]=value}}function connectBindings(obj,m){var bindings=m.bindings,key,binding,to;if(bindings){for(key in bindings){binding=bindings[key];if(binding){to=key.slice(0,-7);if(binding instanceof Ember.Binding){binding=binding.copy();binding.to(to)}else{binding=new Ember.Binding(to,binding)}binding.connect(obj);obj[key]=binding}}m.bindings={}}}function finishPartial(obj,m){connectBindings(obj,m||metaFor(obj));return obj}function followAlias(obj,desc,m,descs,values){var altKey=desc.methodName,value;if(descs[altKey]||values[altKey]){value=values[altKey];desc=descs[altKey]}else if(m.descs[altKey]){desc=m.descs[altKey];value=undefined}else{desc=undefined;value=obj[altKey]}return{desc:desc,value:value}}function updateObserversAndListeners(obj,key,observerOrListener,pathsKey,updateMethod){var paths=observerOrListener[pathsKey];if(paths){for(var i=0,l=paths.length;i<l;i++){Ember[updateMethod](obj,paths[i],null,key)}}}function replaceObserversAndListeners(obj,key,observerOrListener){var prev=obj[key];if("function"===typeof prev){updateObserversAndListeners(obj,key,prev,"__ember_observesBefore__","removeBeforeObserver");updateObserversAndListeners(obj,key,prev,"__ember_observes__","removeObserver");updateObserversAndListeners(obj,key,prev,"__ember_listens__","removeListener")}if("function"===typeof observerOrListener){updateObserversAndListeners(obj,key,observerOrListener,"__ember_observesBefore__","addBeforeObserver");updateObserversAndListeners(obj,key,observerOrListener,"__ember_observes__","addObserver");updateObserversAndListeners(obj,key,observerOrListener,"__ember_listens__","addListener")}}function applyMixin(obj,mixins,partial){var descs={},values={},m=metaFor(obj),key,value,desc,keys=[];obj._super=superFunction;mergeMixins(mixins,mixinsMeta(obj),descs,values,obj,keys);for(var i=0,l=keys.length;i<l;i++){key=keys[i];if(key==="constructor"||!values.hasOwnProperty(key)){continue}desc=descs[key];value=values[key];if(desc===REQUIRED){continue}while(desc&&desc instanceof Alias){var followed=followAlias(obj,desc,m,descs,values);desc=followed.desc;value=followed.value}if(desc===undefined&&value===undefined){continue}replaceObserversAndListeners(obj,key,value);detectBinding(obj,key,value,m);defineProperty(obj,key,desc,value,m)}if(!partial){finishPartial(obj,m)}return obj}Ember.mixin=function(obj){var args=a_slice.call(arguments,1);applyMixin(obj,args,false);return obj};Ember.Mixin=function(){return initMixin(this,arguments)};Mixin=Ember.Mixin;Mixin.prototype={properties:null,mixins:null,ownerConstructor:null};Mixin._apply=applyMixin;Mixin.applyPartial=function(obj){var args=a_slice.call(arguments,1);return applyMixin(obj,args,true)};Mixin.finishPartial=finishPartial;Ember.anyUnprocessedMixins=false;Mixin.create=function(){Ember.anyUnprocessedMixins=true;var M=this;return initMixin(new M,arguments)};var MixinPrototype=Mixin.prototype;MixinPrototype.reopen=function(){var mixin,tmp;if(this.properties){mixin=Mixin.create();mixin.properties=this.properties;delete this.properties;this.mixins=[mixin]}else if(!this.mixins){this.mixins=[]}var len=arguments.length,mixins=this.mixins,idx;for(idx=0;idx<len;idx++){mixin=arguments[idx];Ember.assert("Expected hash or Mixin instance, got "+Object.prototype.toString.call(mixin),typeof mixin==="object"&&mixin!==null&&Object.prototype.toString.call(mixin)!=="[object Array]");if(mixin instanceof Mixin){mixins.push(mixin)}else{tmp=Mixin.create();tmp.properties=mixin;mixins.push(tmp)}}return this};MixinPrototype.apply=function(obj){return applyMixin(obj,[this],false)};MixinPrototype.applyPartial=function(obj){return applyMixin(obj,[this],true)};function _detect(curMixin,targetMixin,seen){var guid=guidFor(curMixin);if(seen[guid]){return false}seen[guid]=true;if(curMixin===targetMixin){return true}var mixins=curMixin.mixins,loc=mixins?mixins.length:0;while(--loc>=0){if(_detect(mixins[loc],targetMixin,seen)){return true}}return false}MixinPrototype.detect=function(obj){if(!obj){return false}if(obj instanceof Mixin){return _detect(obj,this,{})}var m=obj[META_KEY],mixins=m&&m.mixins;if(mixins){return!!mixins[guidFor(this)]}return false};MixinPrototype.without=function(){var ret=new Mixin(this);ret._without=a_slice.call(arguments);return ret};function _keys(ret,mixin,seen){if(seen[guidFor(mixin)]){return}seen[guidFor(mixin)]=true;if(mixin.properties){var props=mixin.properties;for(var key in props){if(props.hasOwnProperty(key)){ret[key]=true}}}else if(mixin.mixins){a_forEach.call(mixin.mixins,function(x){_keys(ret,x,seen)})}}MixinPrototype.keys=function(){var keys={},seen={},ret=[];_keys(keys,this,seen);for(var key in keys){if(keys.hasOwnProperty(key)){ret.push(key)}}return ret};Mixin.mixins=function(obj){var m=obj[META_KEY],mixins=m&&m.mixins,ret=[];if(!mixins){return ret}for(var key in mixins){var mixin=mixins[key];if(!mixin.properties){ret.push(mixin)}}return ret};REQUIRED=new Ember.Descriptor;REQUIRED.toString=function(){return"(Required Property)"};Ember.required=function(){return REQUIRED};Alias=function(methodName){this.methodName=methodName};Alias.prototype=new Ember.Descriptor;Ember.aliasMethod=function(methodName){return new Alias(methodName)};Ember.observer=function(){var func=a_slice.call(arguments,-1)[0];var paths;var addWatchedProperty=function(path){paths.push(path)};var _paths=a_slice.call(arguments,0,-1);if(typeof func!=="function"){func=arguments[0];_paths=a_slice.call(arguments,1)}paths=[];for(var i=0;i<_paths.length;++i){expandProperties(_paths[i],addWatchedProperty)}if(typeof func!=="function"){throw new Ember.Error("Ember.observer called without a function")}func.__ember_observes__=paths;return func};Ember.immediateObserver=function(){for(var i=0,l=arguments.length;i<l;i++){var arg=arguments[i];Ember.assert("Immediate observers must observe internal properties only, not properties on other objects.",typeof arg!=="string"||arg.indexOf(".")===-1)}return Ember.observer.apply(this,arguments)};Ember.beforeObserver=function(){var func=a_slice.call(arguments,-1)[0];var paths;var addWatchedProperty=function(path){paths.push(path)};var _paths=a_slice.call(arguments,0,-1);if(typeof func!=="function"){func=arguments[0];_paths=a_slice.call(arguments,1)}paths=[];for(var i=0;i<_paths.length;++i){expandProperties(_paths[i],addWatchedProperty)}if(typeof func!=="function"){throw new Ember.Error("Ember.beforeObserver called without a function")}func.__ember_observesBefore__=paths;return func}})();(function(){var forEach=Ember.EnumerableUtils.forEach,indexOf=Ember.EnumerableUtils.indexOf;Ember.libraries=function(){var libraries=[];var coreLibIndex=0;var getLibrary=function(name){for(var i=0;i<libraries.length;i++){if(libraries[i].name===name){return libraries[i]}}};libraries.register=function(name,version){if(!getLibrary(name)){libraries.push({name:name,version:version})}};libraries.registerCoreLibrary=function(name,version){if(!getLibrary(name)){libraries.splice(coreLibIndex++,0,{name:name,version:version})}};libraries.deRegister=function(name){var lib=getLibrary(name);if(lib)libraries.splice(indexOf(libraries,lib),1)};libraries.each=function(callback){forEach(libraries,function(lib){callback(lib.name,lib.version)})};return libraries}();Ember.libraries.registerCoreLibrary("Ember",Ember.VERSION)})();(function(){})();(function(){define("rsvp/all",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function all(array,label){return Promise.all(array,label)}});define("rsvp/all_settled",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Promise=__dependency1__["default"];var isArray=__dependency2__.isArray;var isNonThenable=__dependency2__.isNonThenable;__exports__["default"]=function allSettled(entries,label){return new Promise(function(resolve,reject){if(!isArray(entries)){throw new TypeError("You must pass an array to allSettled.")}var remaining=entries.length;var entry;if(remaining===0){resolve([]);return}var results=new Array(remaining);function fulfilledResolver(index){return function(value){resolveAll(index,fulfilled(value))}}function rejectedResolver(index){return function(reason){resolveAll(index,rejected(reason))}}function resolveAll(index,value){results[index]=value;if(--remaining===0){resolve(results)}}for(var index=0;index<entries.length;index++){entry=entries[index];if(isNonThenable(entry)){resolveAll(index,fulfilled(entry))}else{Promise.cast(entry).then(fulfilledResolver(index),rejectedResolver(index))}}},label)};function fulfilled(value){return{state:"fulfilled",value:value}}function rejected(reason){return{state:"rejected",reason:reason}}});define("rsvp/config",["./events","exports"],function(__dependency1__,__exports__){"use strict";var EventTarget=__dependency1__["default"];var config={instrument:false};EventTarget.mixin(config);function configure(name,value){if(name==="onerror"){config.on("error",value);return}if(arguments.length===2){config[name]=value}else{return config[name]}}__exports__.config=config;__exports__.configure=configure});define("rsvp/defer",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function defer(label){var deferred={};deferred.promise=new Promise(function(resolve,reject){deferred.resolve=resolve;deferred.reject=reject},label);return deferred}});define("rsvp/events",["exports"],function(__exports__){"use strict";var indexOf=function(callbacks,callback){for(var i=0,l=callbacks.length;i<l;i++){if(callbacks[i]===callback){return i}}return-1};var callbacksFor=function(object){var callbacks=object._promiseCallbacks;if(!callbacks){callbacks=object._promiseCallbacks={}}return callbacks};__exports__["default"]={mixin:function(object){object.on=this.on;object.off=this.off;object.trigger=this.trigger;object._promiseCallbacks=undefined;return object},on:function(eventName,callback){var allCallbacks=callbacksFor(this),callbacks;callbacks=allCallbacks[eventName];if(!callbacks){callbacks=allCallbacks[eventName]=[]}if(indexOf(callbacks,callback)===-1){callbacks.push(callback)}},off:function(eventName,callback){var allCallbacks=callbacksFor(this),callbacks,index;if(!callback){allCallbacks[eventName]=[];return}callbacks=allCallbacks[eventName];index=indexOf(callbacks,callback);if(index!==-1){callbacks.splice(index,1)}},trigger:function(eventName,options){var allCallbacks=callbacksFor(this),callbacks,callbackTuple,callback,binding;if(callbacks=allCallbacks[eventName]){for(var i=0;i<callbacks.length;i++){callback=callbacks[i];callback(options)}}}}});define("rsvp/filter",["./all","./map","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var all=__dependency1__["default"];var map=__dependency2__["default"];var isFunction=__dependency3__.isFunction;var isArray=__dependency3__.isArray;function filter(promises,filterFn,label){return all(promises,label).then(function(values){if(!isArray(promises)){throw new TypeError("You must pass an array to filter.")}if(!isFunction(filterFn)){throw new TypeError("You must pass a function to filter's second argument.")}return map(promises,filterFn,label).then(function(filterResults){var i,valuesLen=values.length,filtered=[];for(i=0;i<valuesLen;i++){if(filterResults[i])filtered.push(values[i])}return filtered})})}__exports__["default"]=filter});define("rsvp/hash",["./promise","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Promise=__dependency1__["default"];var isNonThenable=__dependency2__.isNonThenable;var keysOf=__dependency2__.keysOf;__exports__["default"]=function hash(object,label){return new Promise(function(resolve,reject){var results={};var keys=keysOf(object);var remaining=keys.length;var entry,property;if(remaining===0){resolve(results);return}function fulfilledTo(property){return function(value){results[property]=value;if(--remaining===0){resolve(results)}}}function onRejection(reason){remaining=0;reject(reason)}for(var i=0;i<keys.length;i++){property=keys[i];entry=object[property];if(isNonThenable(entry)){results[property]=entry;if(--remaining===0){resolve(results)}}else{Promise.cast(entry).then(fulfilledTo(property),onRejection)}}})}});define("rsvp/instrument",["./config","./utils","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var config=__dependency1__.config;var now=__dependency2__.now;__exports__["default"]=function instrument(eventName,promise,child){try{config.trigger(eventName,{guid:promise._guidKey+promise._id,eventName:eventName,detail:promise._detail,childGuid:child&&promise._guidKey+child._id,label:promise._label,timeStamp:now(),stack:new Error(promise._label).stack})}catch(error){setTimeout(function(){throw error},0)}}});define("rsvp/map",["./promise","./all","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Promise=__dependency1__["default"];var all=__dependency2__["default"];var isArray=__dependency3__.isArray;var isFunction=__dependency3__.isFunction;__exports__["default"]=function map(promises,mapFn,label){return all(promises,label).then(function(results){if(!isArray(promises)){throw new TypeError("You must pass an array to map.")}if(!isFunction(mapFn)){throw new TypeError("You must pass a function to map's second argument.")}var resultLen=results.length,mappedResults=[],i;for(i=0;i<resultLen;i++){mappedResults.push(mapFn(results[i]))}return all(mappedResults,label)})}});define("rsvp/node",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];var slice=Array.prototype.slice;function makeNodeCallbackFor(resolve,reject){return function(error,value){if(error){reject(error)}else if(arguments.length>2){resolve(slice.call(arguments,1))}else{resolve(value)}}}__exports__["default"]=function denodeify(nodeFunc,binding){return function(){var nodeArgs=slice.call(arguments),resolve,reject;var thisArg=this||binding;return new Promise(function(resolve,reject){Promise.all(nodeArgs).then(function(nodeArgs){try{nodeArgs.push(makeNodeCallbackFor(resolve,reject));nodeFunc.apply(thisArg,nodeArgs)}catch(e){reject(e)}})})}}});define("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__exports__){"use strict";var config=__dependency1__.config;var EventTarget=__dependency2__["default"];var instrument=__dependency3__["default"];var objectOrFunction=__dependency4__.objectOrFunction;var isFunction=__dependency4__.isFunction;var now=__dependency4__.now;var cast=__dependency5__["default"];var all=__dependency6__["default"];var race=__dependency7__["default"];var Resolve=__dependency8__["default"];var Reject=__dependency9__["default"];var guidKey="rsvp_"+now()+"-";var counter=0;function noop(){}__exports__["default"]=Promise;function Promise(resolver,label){if(!isFunction(resolver)){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}if(!(this instanceof Promise)){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}this._id=counter++;this._label=label;this._subscribers=[];if(config.instrument){instrument("created",this)}if(noop!==resolver){invokeResolver(resolver,this)}}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}Promise.cast=cast;Promise.all=all;Promise.race=race;Promise.resolve=Resolve;Promise.reject=Reject;var PENDING=void 0;var SEALED=0;var FULFILLED=1;var REJECTED=2;function subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers;var length=subscribers.length;subscribers[length]=child;subscribers[length+FULFILLED]=onFulfillment;subscribers[length+REJECTED]=onRejection}function publish(promise,settled){var child,callback,subscribers=promise._subscribers,detail=promise._detail;if(config.instrument){instrument(settled===FULFILLED?"fulfilled":"rejected",promise)}for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];invokeCallback(settled,child,callback,detail)}promise._subscribers=null}Promise.prototype={constructor:Promise,_id:undefined,_guidKey:guidKey,_label:undefined,_state:undefined,_detail:undefined,_subscribers:undefined,_onerror:function(reason){config.trigger("error",reason)},then:function(onFulfillment,onRejection,label){var promise=this;this._onerror=null;var thenPromise=new this.constructor(noop,label);if(this._state){var callbacks=arguments;config.async(function invokePromiseCallback(){invokeCallback(promise._state,thenPromise,callbacks[promise._state-1],promise._detail)})}else{subscribe(this,thenPromise,onFulfillment,onRejection)}if(config.instrument){instrument("chained",promise,thenPromise)}return thenPromise},"catch":function(onRejection,label){return this.then(null,onRejection,label)},"finally":function(callback,label){var constructor=this.constructor;return this.then(function(value){return constructor.cast(callback()).then(function(){return value})},function(reason){return constructor.cast(callback()).then(function(){throw reason})},label)}};function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value,error,succeeded,failed;if(hasCallback){try{value=callback(detail);succeeded=true}catch(e){failed=true;error=e}}else{value=detail;succeeded=true}if(handleThenable(promise,value)){return}else if(hasCallback&&succeeded){resolve(promise,value)}else if(failed){reject(promise,error)}else if(settled===FULFILLED){resolve(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function handleThenable(promise,value){var then=null,resolved;try{if(promise===value){throw new TypeError("A promises callback cannot return that same promise.")}if(objectOrFunction(value)){then=value.then;if(isFunction(then)){then.call(value,function(val){if(resolved){return true}resolved=true;if(value!==val){resolve(promise,val)}else{fulfill(promise,val)}},function(val){if(resolved){return true}resolved=true;reject(promise,val)},"derived from: "+(promise._label||" unknown promise"));return true}}}catch(error){if(resolved){return true}reject(promise,error);return true}return false}function resolve(promise,value){if(promise===value){fulfill(promise,value)}else if(!handleThenable(promise,value)){fulfill(promise,value)}}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._state=SEALED;promise._detail=value;config.async(publishFulfillment,promise)}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=SEALED;promise._detail=reason;config.async(publishRejection,promise)}function publishFulfillment(promise){publish(promise,promise._state=FULFILLED)}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._detail)}publish(promise,promise._state=REJECTED)}});define("rsvp/promise/all",["../utils","exports"],function(__dependency1__,__exports__){"use strict";var isArray=__dependency1__.isArray;var isNonThenable=__dependency1__.isNonThenable;__exports__["default"]=function all(entries,label){var Constructor=this;return new Constructor(function(resolve,reject){if(!isArray(entries)){throw new TypeError("You must pass an array to all.")}var remaining=entries.length;var results=new Array(remaining);var entry,pending=true;if(remaining===0){resolve(results);return}function fulfillmentAt(index){return function(value){results[index]=value;if(--remaining===0){resolve(results)}}}function onRejection(reason){remaining=0;reject(reason)}for(var index=0;index<entries.length;index++){entry=entries[index];if(isNonThenable(entry)){results[index]=entry;if(--remaining===0){resolve(results)}}else{Constructor.cast(entry).then(fulfillmentAt(index),onRejection)}}},label)}});define("rsvp/promise/cast",["exports"],function(__exports__){"use strict";__exports__["default"]=function cast(object,label){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}return new Constructor(function(resolve){resolve(object)},label)}});define("rsvp/promise/race",["../utils","exports"],function(__dependency1__,__exports__){"use strict";var isArray=__dependency1__.isArray;var isFunction=__dependency1__.isFunction;var isNonThenable=__dependency1__.isNonThenable;__exports__["default"]=function race(entries,label){var Constructor=this,entry;return new Constructor(function(resolve,reject){if(!isArray(entries)){throw new TypeError("You must pass an array to race.")}var pending=true;function onFulfillment(value){if(pending){pending=false;resolve(value)}}function onRejection(reason){if(pending){pending=false;reject(reason)}}for(var i=0;i<entries.length;i++){entry=entries[i];if(isNonThenable(entry)){pending=false;resolve(entry);return}else{Constructor.cast(entry).then(onFulfillment,onRejection)}}},label)}});define("rsvp/promise/reject",["exports"],function(__exports__){"use strict";__exports__["default"]=function reject(reason,label){var Constructor=this;return new Constructor(function(resolve,reject){reject(reason)},label)}});define("rsvp/promise/resolve",["exports"],function(__exports__){"use strict";__exports__["default"]=function resolve(value,label){var Constructor=this;return new Constructor(function(resolve,reject){resolve(value)},label)}});define("rsvp/race",["./promise","exports"],function(__dependency1__,__exports__){"use strict";
var Promise=__dependency1__["default"];__exports__["default"]=function race(array,label){return Promise.race(array,label)}});define("rsvp/reject",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function reject(reason,label){return Promise.reject(reason,label)}});define("rsvp/resolve",["./promise","exports"],function(__dependency1__,__exports__){"use strict";var Promise=__dependency1__["default"];__exports__["default"]=function resolve(value,label){return Promise.resolve(value,label)}});define("rsvp/rethrow",["exports"],function(__exports__){"use strict";__exports__["default"]=function rethrow(reason){setTimeout(function(){throw reason});throw reason}});define("rsvp/utils",["exports"],function(__exports__){"use strict";function objectOrFunction(x){return typeof x==="function"||typeof x==="object"&&x!==null}__exports__.objectOrFunction=objectOrFunction;function isFunction(x){return typeof x==="function"}__exports__.isFunction=isFunction;function isNonThenable(x){return!objectOrFunction(x)}__exports__.isNonThenable=isNonThenable;function isArray(x){return Object.prototype.toString.call(x)==="[object Array]"}__exports__.isArray=isArray;var now=Date.now||function(){return(new Date).getTime()};__exports__.now=now;var keysOf=Object.keys||function(object){var result=[];for(var prop in object){result.push(prop)}return result};__exports__.keysOf=keysOf});define("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__exports__){"use strict";var Promise=__dependency1__["default"];var EventTarget=__dependency2__["default"];var denodeify=__dependency3__["default"];var all=__dependency4__["default"];var allSettled=__dependency5__["default"];var race=__dependency6__["default"];var hash=__dependency7__["default"];var rethrow=__dependency8__["default"];var defer=__dependency9__["default"];var config=__dependency10__.config;var configure=__dependency10__.configure;var map=__dependency11__["default"];var resolve=__dependency12__["default"];var reject=__dependency13__["default"];var filter=__dependency14__["default"];function async(callback,arg){config.async(callback,arg)}function on(){config.on.apply(config,arguments)}function off(){config.off.apply(config,arguments)}if(typeof window!=="undefined"&&typeof window.__PROMISE_INSTRUMENTATION__==="object"){var callbacks=window.__PROMISE_INSTRUMENTATION__;configure("instrument",true);for(var eventName in callbacks){if(callbacks.hasOwnProperty(eventName)){on(eventName,callbacks[eventName])}}}__exports__.Promise=Promise;__exports__.EventTarget=EventTarget;__exports__.all=all;__exports__.allSettled=allSettled;__exports__.race=race;__exports__.hash=hash;__exports__.rethrow=rethrow;__exports__.defer=defer;__exports__.denodeify=denodeify;__exports__.configure=configure;__exports__.on=on;__exports__.off=off;__exports__.resolve=resolve;__exports__.reject=reject;__exports__.async=async;__exports__.map=map;__exports__.filter=filter})})();(function(){define("container/container",["container/inheriting_dict","exports"],function(__dependency1__,__exports__){"use strict";var InheritingDict=__dependency1__["default"];function Container(parent){this.parent=parent;this.children=[];this.resolver=parent&&parent.resolver||function(){};this.registry=new InheritingDict(parent&&parent.registry);this.cache=new InheritingDict(parent&&parent.cache);this.factoryCache=new InheritingDict(parent&&parent.factoryCache);this.resolveCache=new InheritingDict(parent&&parent.resolveCache);this.typeInjections=new InheritingDict(parent&&parent.typeInjections);this.injections={};this.factoryTypeInjections=new InheritingDict(parent&&parent.factoryTypeInjections);this.factoryInjections={};this._options=new InheritingDict(parent&&parent._options);this._typeOptions=new InheritingDict(parent&&parent._typeOptions)}Container.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var container=new Container(this);this.children.push(container);return container},set:function(object,key,value){object[key]=value},register:function(fullName,factory,options){validateFullName(fullName);if(factory===undefined){throw new TypeError("Attempting to register an unknown factory: `"+fullName+"`")}var normalizedName=this.normalize(fullName);if(this.cache.has(normalizedName)){throw new Error("Cannot re-register: `"+fullName+"`, as it has already been looked up.")}this.registry.set(normalizedName,factory);this._options.set(normalizedName,options||{})},unregister:function(fullName){validateFullName(fullName);var normalizedName=this.normalize(fullName);this.registry.remove(normalizedName);this.cache.remove(normalizedName);this.factoryCache.remove(normalizedName);this.resolveCache.remove(normalizedName);this._options.remove(normalizedName)},resolve:function(fullName){validateFullName(fullName);var normalizedName=this.normalize(fullName);var cached=this.resolveCache.get(normalizedName);if(cached){return cached}var resolved=this.resolver(normalizedName)||this.registry.get(normalizedName);this.resolveCache.set(normalizedName,resolved);return resolved},describe:function(fullName){return fullName},normalize:function(fullName){return fullName},makeToString:function(factory,fullName){return factory.toString()},lookup:function(fullName,options){validateFullName(fullName);return lookup(this,this.normalize(fullName),options)},lookupFactory:function(fullName){validateFullName(fullName);return factoryFor(this,this.normalize(fullName))},has:function(fullName){validateFullName(fullName);return has(this,this.normalize(fullName))},optionsForType:function(type,options){if(this.parent){illegalChildOperation("optionsForType")}this._typeOptions.set(type,options)},options:function(type,options){this.optionsForType(type,options)},typeInjection:function(type,property,fullName){validateFullName(fullName);if(this.parent){illegalChildOperation("typeInjection")}addTypeInjection(this.typeInjections,type,property,fullName)},injection:function(fullName,property,injectionName){if(this.parent){illegalChildOperation("injection")}validateFullName(injectionName);var normalizedInjectionName=this.normalize(injectionName);if(fullName.indexOf(":")===-1){return this.typeInjection(fullName,property,normalizedInjectionName)}validateFullName(fullName);var normalizedName=this.normalize(fullName);addInjection(this.injections,normalizedName,property,normalizedInjectionName)},factoryTypeInjection:function(type,property,fullName){if(this.parent){illegalChildOperation("factoryTypeInjection")}addTypeInjection(this.factoryTypeInjections,type,property,this.normalize(fullName))},factoryInjection:function(fullName,property,injectionName){if(this.parent){illegalChildOperation("injection")}var normalizedName=this.normalize(fullName);var normalizedInjectionName=this.normalize(injectionName);validateFullName(injectionName);if(fullName.indexOf(":")===-1){return this.factoryTypeInjection(normalizedName,property,normalizedInjectionName)}validateFullName(fullName);addInjection(this.factoryInjections,normalizedName,property,normalizedInjectionName)},destroy:function(){for(var i=0,l=this.children.length;i<l;i++){this.children[i].destroy()}this.children=[];eachDestroyable(this,function(item){item.destroy()});this.parent=undefined;this.isDestroyed=true},reset:function(){for(var i=0,l=this.children.length;i<l;i++){resetCache(this.children[i])}resetCache(this)}};function has(container,fullName){if(container.cache.has(fullName)){return true}return!!container.resolve(fullName)}function lookup(container,fullName,options){options=options||{};if(container.cache.has(fullName)&&options.singleton!==false){return container.cache.get(fullName)}var value=instantiate(container,fullName);if(value===undefined){return}if(isSingleton(container,fullName)&&options.singleton!==false){container.cache.set(fullName,value)}return value}function illegalChildOperation(operation){throw new Error(operation+" is not currently supported on child containers")}function isSingleton(container,fullName){var singleton=option(container,fullName,"singleton");return singleton!==false}function buildInjections(container,injections){var hash={};if(!injections){return hash}var injection,injectable;for(var i=0,l=injections.length;i<l;i++){injection=injections[i];injectable=lookup(container,injection.fullName);if(injectable!==undefined){hash[injection.property]=injectable}else{throw new Error("Attempting to inject an unknown injection: `"+injection.fullName+"`")}}return hash}function option(container,fullName,optionName){var options=container._options.get(fullName);if(options&&options[optionName]!==undefined){return options[optionName]}var type=fullName.split(":")[0];options=container._typeOptions.get(type);if(options){return options[optionName]}}function factoryFor(container,fullName){var name=fullName;var factory=container.resolve(name);var injectedFactory;var cache=container.factoryCache;var type=fullName.split(":")[0];if(factory===undefined){return}if(cache.has(fullName)){return cache.get(fullName)}if(!factory||typeof factory.extend!=="function"||!Ember.MODEL_FACTORY_INJECTIONS&&type==="model"){return factory}else{var injections=injectionsFor(container,fullName);var factoryInjections=factoryInjectionsFor(container,fullName);factoryInjections._toString=container.makeToString(factory,fullName);injectedFactory=factory.extend(injections);injectedFactory.reopenClass(factoryInjections);cache.set(fullName,injectedFactory);return injectedFactory}}function injectionsFor(container,fullName){var splitName=fullName.split(":"),type=splitName[0],injections=[];injections=injections.concat(container.typeInjections.get(type)||[]);injections=injections.concat(container.injections[fullName]||[]);injections=buildInjections(container,injections);injections._debugContainerKey=fullName;injections.container=container;return injections}function factoryInjectionsFor(container,fullName){var splitName=fullName.split(":"),type=splitName[0],factoryInjections=[];factoryInjections=factoryInjections.concat(container.factoryTypeInjections.get(type)||[]);factoryInjections=factoryInjections.concat(container.factoryInjections[fullName]||[]);factoryInjections=buildInjections(container,factoryInjections);factoryInjections._debugContainerKey=fullName;return factoryInjections}function instantiate(container,fullName){var factory=factoryFor(container,fullName);if(option(container,fullName,"instantiate")===false){return factory}if(factory){if(typeof factory.extend==="function"){return factory.create()}else{return factory.create(injectionsFor(container,fullName))}}}function eachDestroyable(container,callback){container.cache.eachLocal(function(key,value){if(option(container,key,"instantiate")===false){return}callback(value)})}function resetCache(container){container.cache.eachLocal(function(key,value){if(option(container,key,"instantiate")===false){return}value.destroy()});container.cache.dict={}}function addTypeInjection(rules,type,property,fullName){var injections=rules.get(type);if(!injections){injections=[];rules.set(type,injections)}injections.push({property:property,fullName:fullName})}var VALID_FULL_NAME_REGEXP=/^[^:]+.+:[^:]+$/;function validateFullName(fullName){if(!VALID_FULL_NAME_REGEXP.test(fullName)){throw new TypeError("Invalid Fullname, expected: `type:name` got: "+fullName)}}function addInjection(rules,factoryName,property,injectionName){var injections=rules[factoryName]=rules[factoryName]||[];injections.push({property:property,fullName:injectionName})}__exports__["default"]=Container});define("container/inheriting_dict",["exports"],function(__exports__){"use strict";function InheritingDict(parent){this.parent=parent;this.dict={}}InheritingDict.prototype={parent:null,dict:null,get:function(key){var dict=this.dict;if(dict.hasOwnProperty(key)){return dict[key]}if(this.parent){return this.parent.get(key)}},set:function(key,value){this.dict[key]=value},remove:function(key){delete this.dict[key]},has:function(key){var dict=this.dict;if(dict.hasOwnProperty(key)){return true}if(this.parent){return this.parent.has(key)}return false},eachLocal:function(callback,binding){var dict=this.dict;for(var prop in dict){if(dict.hasOwnProperty(prop)){callback.call(binding,prop,dict[prop])}}}};__exports__["default"]=InheritingDict});define("container",["container/container","exports"],function(__dependency1__,__exports__){"use strict";Ember.MODEL_FACTORY_INJECTIONS=false||!!Ember.ENV.MODEL_FACTORY_INJECTIONS;var Container=__dependency1__["default"];__exports__["default"]=Container})})();(function(){var indexOf=Ember.EnumerableUtils.indexOf;Ember.compare=function compare(v,w){if(v===w){return 0}var type1=Ember.typeOf(v);var type2=Ember.typeOf(w);var Comparable=Ember.Comparable;if(Comparable){if(type1==="instance"&&Comparable.detect(v.constructor)){return v.constructor.compare(v,w)}if(type2==="instance"&&Comparable.detect(w.constructor)){return 1-w.constructor.compare(w,v)}}var mapping=Ember.ORDER_DEFINITION_MAPPING;if(!mapping){var order=Ember.ORDER_DEFINITION;mapping=Ember.ORDER_DEFINITION_MAPPING={};var idx,len;for(idx=0,len=order.length;idx<len;++idx){mapping[order[idx]]=idx}delete Ember.ORDER_DEFINITION}var type1Index=mapping[type1];var type2Index=mapping[type2];if(type1Index<type2Index){return-1}if(type1Index>type2Index){return 1}switch(type1){case"boolean":case"number":if(v<w){return-1}if(v>w){return 1}return 0;case"string":var comp=v.localeCompare(w);if(comp<0){return-1}if(comp>0){return 1}return 0;case"array":var vLen=v.length;var wLen=w.length;var l=Math.min(vLen,wLen);var r=0;var i=0;while(r===0&&i<l){r=compare(v[i],w[i]);i++}if(r!==0){return r}if(vLen<wLen){return-1}if(vLen>wLen){return 1}return 0;case"instance":if(Ember.Comparable&&Ember.Comparable.detect(v)){return v.compare(v,w)}return 0;case"date":var vNum=v.getTime();var wNum=w.getTime();if(vNum<wNum){return-1}if(vNum>wNum){return 1}return 0;default:return 0}};function _copy(obj,deep,seen,copies){var ret,loc,key;if("object"!==typeof obj||obj===null)return obj;if(deep&&(loc=indexOf(seen,obj))>=0)return copies[loc];Ember.assert("Cannot clone an Ember.Object that does not implement Ember.Copyable",!(obj instanceof Ember.Object)||Ember.Copyable&&Ember.Copyable.detect(obj));if(Ember.typeOf(obj)==="array"){ret=obj.slice();if(deep){loc=ret.length;while(--loc>=0)ret[loc]=_copy(ret[loc],deep,seen,copies)}}else if(Ember.Copyable&&Ember.Copyable.detect(obj)){ret=obj.copy(deep,seen,copies)}else if(obj instanceof Date){ret=new Date(obj.getTime())}else{ret={};for(key in obj){if(!obj.hasOwnProperty(key))continue;if(key.substring(0,2)==="__")continue;ret[key]=deep?_copy(obj[key],deep,seen,copies):obj[key]}}if(deep){seen.push(obj);copies.push(ret)}return ret}Ember.copy=function(obj,deep){if("object"!==typeof obj||obj===null)return obj;if(Ember.Copyable&&Ember.Copyable.detect(obj))return obj.copy(deep);return _copy(obj,deep,deep?[]:null,deep?[]:null)};Ember.isEqual=function(a,b){if(a&&"function"===typeof a.isEqual)return a.isEqual(b);return a===b};Ember.ORDER_DEFINITION=Ember.ENV.ORDER_DEFINITION||["undefined","null","boolean","number","string","array","object","instance","function","class","date"];Ember.keys=Object.keys;if(!Ember.keys||Ember.create.isSimulated){var prototypeProperties=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","valueOf","toLocaleString","toString"],pushPropertyName=function(obj,array,key){if(key.substring(0,2)==="__")return;if(key==="_super")return;if(indexOf(array,key)>=0)return;if(!obj.hasOwnProperty(key))return;array.push(key)};Ember.keys=function(obj){var ret=[],key;for(key in obj){pushPropertyName(obj,ret,key)}for(var i=0,l=prototypeProperties.length;i<l;i++){key=prototypeProperties[i];pushPropertyName(obj,ret,key)}return ret}}})();(function(){var STRING_DASHERIZE_REGEXP=/[ _]/g;var STRING_DASHERIZE_CACHE={};var STRING_DECAMELIZE_REGEXP=/([a-z\d])([A-Z])/g;var STRING_CAMELIZE_REGEXP=/(\-|_|\.|\s)+(.)?/g;var STRING_UNDERSCORE_REGEXP_1=/([a-z\d])([A-Z]+)/g;var STRING_UNDERSCORE_REGEXP_2=/\-|\s+/g;var STRING_PARAMETERIZE_REGEXP_1=/[_|\/|\s]+/g;var STRING_PARAMETERIZE_REGEXP_2=/[^a-z0-9\-]+/gi;var STRING_PARAMETERIZE_REGEXP_3=/[\-]+/g;var STRING_PARAMETERIZE_REGEXP_4=/^-+|-+$/g;Ember.STRINGS={};Ember.String={fmt:function(str,formats){var idx=0;return str.replace(/%@([0-9]+)?/g,function(s,argIndex){argIndex=argIndex?parseInt(argIndex,10)-1:idx++;s=formats[argIndex];return s===null?"(null)":s===undefined?"":Ember.inspect(s)})},loc:function(str,formats){str=Ember.STRINGS[str]||str;return Ember.String.fmt(str,formats)},w:function(str){return str.split(/\s+/)},decamelize:function(str){return str.replace(STRING_DECAMELIZE_REGEXP,"$1_$2").toLowerCase()},dasherize:function(str){var cache=STRING_DASHERIZE_CACHE,hit=cache.hasOwnProperty(str),ret;if(hit){return cache[str]}else{ret=Ember.String.decamelize(str).replace(STRING_DASHERIZE_REGEXP,"-");cache[str]=ret}return ret},camelize:function(str){return str.replace(STRING_CAMELIZE_REGEXP,function(match,separator,chr){return chr?chr.toUpperCase():""}).replace(/^([A-Z])/,function(match,separator,chr){return match.toLowerCase()})},classify:function(str){var parts=str.split("."),out=[];for(var i=0,l=parts.length;i<l;i++){var camelized=Ember.String.camelize(parts[i]);out.push(camelized.charAt(0).toUpperCase()+camelized.substr(1))}return out.join(".")},underscore:function(str){return str.replace(STRING_UNDERSCORE_REGEXP_1,"$1_$2").replace(STRING_UNDERSCORE_REGEXP_2,"_").toLowerCase()},capitalize:function(str){return str.charAt(0).toUpperCase()+str.substr(1)}}})();(function(){var fmt=Ember.String.fmt,w=Ember.String.w,loc=Ember.String.loc,camelize=Ember.String.camelize,decamelize=Ember.String.decamelize,dasherize=Ember.String.dasherize,underscore=Ember.String.underscore,capitalize=Ember.String.capitalize,classify=Ember.String.classify;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){String.prototype.fmt=function(){return fmt(this,arguments)};String.prototype.w=function(){return w(this)};String.prototype.loc=function(){return loc(this,arguments)};String.prototype.camelize=function(){return camelize(this)};String.prototype.decamelize=function(){return decamelize(this)};String.prototype.dasherize=function(){return dasherize(this)};String.prototype.underscore=function(){return underscore(this)};String.prototype.classify=function(){return classify(this)};String.prototype.capitalize=function(){return capitalize(this)}}})();(function(){var get=Ember.get,set=Ember.set,slice=Array.prototype.slice,getProperties=Ember.getProperties;Ember.Observable=Ember.Mixin.create({get:function(keyName){return get(this,keyName)},getProperties:function(){return getProperties.apply(null,[this].concat(slice.call(arguments)))},set:function(keyName,value){set(this,keyName,value);return this},setProperties:function(hash){return Ember.setProperties(this,hash)},beginPropertyChanges:function(){Ember.beginPropertyChanges();return this},endPropertyChanges:function(){Ember.endPropertyChanges();return this},propertyWillChange:function(keyName){Ember.propertyWillChange(this,keyName);return this},propertyDidChange:function(keyName){Ember.propertyDidChange(this,keyName);return this},notifyPropertyChange:function(keyName){this.propertyWillChange(keyName);this.propertyDidChange(keyName);return this},addBeforeObserver:function(key,target,method){Ember.addBeforeObserver(this,key,target,method)},addObserver:function(key,target,method){Ember.addObserver(this,key,target,method)},removeObserver:function(key,target,method){Ember.removeObserver(this,key,target,method)},hasObserverFor:function(key){return Ember.hasListeners(this,key+":change")},getWithDefault:function(keyName,defaultValue){return Ember.getWithDefault(this,keyName,defaultValue)},incrementProperty:function(keyName,increment){if(Ember.isNone(increment)){increment=1}Ember.assert("Must pass a numeric value to incrementProperty",!isNaN(parseFloat(increment))&&isFinite(increment));set(this,keyName,(get(this,keyName)||0)+increment);return get(this,keyName)},decrementProperty:function(keyName,decrement){if(Ember.isNone(decrement)){decrement=1}Ember.assert("Must pass a numeric value to decrementProperty",!isNaN(parseFloat(decrement))&&isFinite(decrement));set(this,keyName,(get(this,keyName)||0)-decrement);return get(this,keyName)},toggleProperty:function(keyName){set(this,keyName,!get(this,keyName));return get(this,keyName)},cacheFor:function(keyName){return Ember.cacheFor(this,keyName)},observersForKey:function(keyName){return Ember.observersFor(this,keyName)}})})();(function(){var set=Ember.set,get=Ember.get,o_create=Ember.create,o_defineProperty=Ember.platform.defineProperty,GUID_KEY=Ember.GUID_KEY,guidFor=Ember.guidFor,generateGuid=Ember.generateGuid,meta=Ember.meta,META_KEY=Ember.META_KEY,rewatch=Ember.rewatch,finishChains=Ember.finishChains,sendEvent=Ember.sendEvent,destroy=Ember.destroy,schedule=Ember.run.schedule,Mixin=Ember.Mixin,applyMixin=Mixin._apply,finishPartial=Mixin.finishPartial,reopen=Mixin.prototype.reopen,MANDATORY_SETTER=Ember.ENV.MANDATORY_SETTER,indexOf=Ember.EnumerableUtils.indexOf;var undefinedDescriptor={configurable:true,writable:true,enumerable:false,value:undefined};var nullDescriptor={configurable:true,writable:true,enumerable:false,value:null};function makeCtor(){var wasApplied=false,initMixins,initProperties;var Class=function(){if(!wasApplied){Class.proto()}o_defineProperty(this,GUID_KEY,nullDescriptor);o_defineProperty(this,"__nextSuper",undefinedDescriptor);var m=meta(this),proto=m.proto;m.proto=this;if(initMixins){var mixins=initMixins;initMixins=null;this.reopen.apply(this,mixins)}if(initProperties){var props=initProperties;initProperties=null;var concatenatedProperties=this.concatenatedProperties;for(var i=0,l=props.length;i<l;i++){var properties=props[i];Ember.assert("Ember.Object.create no longer supports mixing in other definitions, use createWithMixins instead.",!(properties instanceof Ember.Mixin));if(typeof properties!=="object"&&properties!==undefined){throw new Ember.Error("Ember.Object.create only accepts objects.")}if(!properties){continue}var keyNames=Ember.keys(properties);for(var j=0,ll=keyNames.length;j<ll;j++){var keyName=keyNames[j];if(!properties.hasOwnProperty(keyName)){continue}var value=properties[keyName],IS_BINDING=Ember.IS_BINDING;if(IS_BINDING.test(keyName)){var bindings=m.bindings;if(!bindings){bindings=m.bindings={}}else if(!m.hasOwnProperty("bindings")){bindings=m.bindings=o_create(m.bindings)}bindings[keyName]=value}var desc=m.descs[keyName];Ember.assert("Ember.Object.create no longer supports defining computed properties. Define computed properties using extend() or reopen() before calling create().",!(value instanceof Ember.ComputedProperty));Ember.assert("Ember.Object.create no longer supports defining methods that call _super.",!(typeof value==="function"&&value.toString().indexOf("._super")!==-1));Ember.assert("`actions` must be provided at extend time, not at create "+"time, when Ember.ActionHandler is used (i.e. views, "+"controllers & routes).",!(keyName==="actions"&&Ember.ActionHandler.detect(this)));if(concatenatedProperties&&indexOf(concatenatedProperties,keyName)>=0){var baseValue=this[keyName];if(baseValue){if("function"===typeof baseValue.concat){value=baseValue.concat(value)}else{value=Ember.makeArray(baseValue).concat(value)}}else{value=Ember.makeArray(value)}}if(desc){desc.set(this,keyName,value)}else{if(typeof this.setUnknownProperty==="function"&&!(keyName in this)){this.setUnknownProperty(keyName,value)}else if(MANDATORY_SETTER){Ember.defineProperty(this,keyName,null,value)}else{this[keyName]=value}}}}}finishPartial(this,m);this.init.apply(this,arguments);m.proto=proto;finishChains(this);sendEvent(this,"init")};Class.toString=Mixin.prototype.toString;Class.willReopen=function(){if(wasApplied){Class.PrototypeMixin=Mixin.create(Class.PrototypeMixin)}wasApplied=false};Class._initMixins=function(args){initMixins=args};Class._initProperties=function(args){initProperties=args};Class.proto=function(){var superclass=Class.superclass;if(superclass){superclass.proto()}if(!wasApplied){wasApplied=true;Class.PrototypeMixin.applyPartial(Class.prototype);rewatch(Class.prototype)}return this.prototype};return Class}var CoreObject=makeCtor();CoreObject.toString=function(){return"Ember.CoreObject"};CoreObject.PrototypeMixin=Mixin.create({reopen:function(){applyMixin(this,arguments,true);return this},init:function(){},concatenatedProperties:null,isDestroyed:false,isDestroying:false,destroy:function(){if(this.isDestroying){return}this.isDestroying=true;schedule("actions",this,this.willDestroy);schedule("destroy",this,this._scheduledDestroy);return this},willDestroy:Ember.K,_scheduledDestroy:function(){if(this.isDestroyed){return}destroy(this);this.isDestroyed=true},bind:function(to,from){if(!(from instanceof Ember.Binding)){from=Ember.Binding.from(from)}from.to(to).connect(this);return from},toString:function toString(){var hasToStringExtension=typeof this.toStringExtension==="function",extension=hasToStringExtension?":"+this.toStringExtension():"";var ret="<"+this.constructor.toString()+":"+guidFor(this)+extension+">";this.toString=makeToString(ret);return ret}});CoreObject.PrototypeMixin.ownerConstructor=CoreObject;function makeToString(ret){return function(){return ret}}if(Ember.config.overridePrototypeMixin){Ember.config.overridePrototypeMixin(CoreObject.PrototypeMixin)}CoreObject.__super__=null;var ClassMixin=Mixin.create({ClassMixin:Ember.required(),PrototypeMixin:Ember.required(),isClass:true,isMethod:false,extend:function(){var Class=makeCtor(),proto;Class.ClassMixin=Mixin.create(this.ClassMixin);Class.PrototypeMixin=Mixin.create(this.PrototypeMixin);Class.ClassMixin.ownerConstructor=Class;Class.PrototypeMixin.ownerConstructor=Class;reopen.apply(Class.PrototypeMixin,arguments);Class.superclass=this;Class.__super__=this.prototype;proto=Class.prototype=o_create(this.prototype);proto.constructor=Class;generateGuid(proto);meta(proto).proto=proto;Class.ClassMixin.apply(Class);return Class},createWithMixins:function(){var C=this;if(arguments.length>0){this._initMixins(arguments)}return new C},create:function(){var C=this;if(arguments.length>0){this._initProperties(arguments)}return new C},reopen:function(){this.willReopen();reopen.apply(this.PrototypeMixin,arguments);return this},reopenClass:function(){reopen.apply(this.ClassMixin,arguments);applyMixin(this,arguments,false);return this},detect:function(obj){if("function"!==typeof obj){return false}while(obj){if(obj===this){return true}obj=obj.superclass}return false},detectInstance:function(obj){return obj instanceof this},metaForProperty:function(key){var meta=this.proto()[META_KEY],desc=meta&&meta.descs[key];Ember.assert("metaForProperty() could not find a computed property with key '"+key+"'.",!!desc&&desc instanceof Ember.ComputedProperty);return desc._meta||{}},eachComputedProperty:function(callback,binding){var proto=this.proto(),descs=meta(proto).descs,empty={},property;for(var name in descs){property=descs[name];if(property instanceof Ember.ComputedProperty){callback.call(binding||this,name,property._meta||empty)}}}});ClassMixin.ownerConstructor=CoreObject;if(Ember.config.overrideClassMixin){Ember.config.overrideClassMixin(ClassMixin)}CoreObject.ClassMixin=ClassMixin;ClassMixin.apply(CoreObject);Ember.CoreObject=CoreObject})();(function(){Ember.Object=Ember.CoreObject.extend(Ember.Observable);Ember.Object.toString=function(){return"Ember.Object"}})();(function(){var get=Ember.get,indexOf=Ember.ArrayPolyfills.indexOf;var Namespace=Ember.Namespace=Ember.Object.extend({isNamespace:true,init:function(){Ember.Namespace.NAMESPACES.push(this);Ember.Namespace.PROCESSED=false},toString:function(){var name=get(this,"name");if(name){return name}findNamespaces();return this[Ember.GUID_KEY+"_name"]},nameClasses:function(){processNamespace([this.toString()],this,{})},destroy:function(){var namespaces=Ember.Namespace.NAMESPACES;Ember.lookup[this.toString()]=undefined;delete Ember.Namespace.NAMESPACES_BY_ID[this.toString()];namespaces.splice(indexOf.call(namespaces,this),1);this._super()}});Namespace.reopenClass({NAMESPACES:[Ember],NAMESPACES_BY_ID:{},PROCESSED:false,processAll:processAllNamespaces,byName:function(name){if(!Ember.BOOTED){processAllNamespaces()}return NAMESPACES_BY_ID[name]}});var NAMESPACES_BY_ID=Namespace.NAMESPACES_BY_ID;var hasOwnProp={}.hasOwnProperty,guidFor=Ember.guidFor;function processNamespace(paths,root,seen){var idx=paths.length;NAMESPACES_BY_ID[paths.join(".")]=root;for(var key in root){if(!hasOwnProp.call(root,key)){continue}var obj=root[key];paths[idx]=key;if(obj&&obj.toString===classToString){obj.toString=makeToString(paths.join("."));obj[NAME_KEY]=paths.join(".")}else if(obj&&obj.isNamespace){if(seen[guidFor(obj)]){continue}seen[guidFor(obj)]=true;processNamespace(paths,obj,seen)}}paths.length=idx}function findNamespaces(){var Namespace=Ember.Namespace,lookup=Ember.lookup,obj,isNamespace;if(Namespace.PROCESSED){return}for(var prop in lookup){if(prop==="parent"||prop==="top"||prop==="frameElement"||prop==="webkitStorageInfo"){continue}if(prop==="globalStorage"&&lookup.StorageList&&lookup.globalStorage instanceof lookup.StorageList){continue}if(lookup.hasOwnProperty&&!lookup.hasOwnProperty(prop)){continue}try{obj=Ember.lookup[prop];isNamespace=obj&&obj.isNamespace}catch(e){continue}if(isNamespace){Ember.deprecate("Namespaces should not begin with lowercase.",/^[A-Z]/.test(prop));obj[NAME_KEY]=prop}}}var NAME_KEY=Ember.NAME_KEY=Ember.GUID_KEY+"_name";function superClassString(mixin){var superclass=mixin.superclass;if(superclass){if(superclass[NAME_KEY]){return superclass[NAME_KEY]}else{return superClassString(superclass)}}else{return}}function classToString(){if(!Ember.BOOTED&&!this[NAME_KEY]){processAllNamespaces()}var ret;if(this[NAME_KEY]){ret=this[NAME_KEY]}else if(this._toString){ret=this._toString}else{var str=superClassString(this);if(str){ret="(subclass of "+str+")"}else{ret="(unknown mixin)"}this.toString=makeToString(ret)}return ret}function processAllNamespaces(){var unprocessedNamespaces=!Namespace.PROCESSED,unprocessedMixins=Ember.anyUnprocessedMixins;if(unprocessedNamespaces){findNamespaces();Namespace.PROCESSED=true}if(unprocessedNamespaces||unprocessedMixins){var namespaces=Namespace.NAMESPACES,namespace;for(var i=0,l=namespaces.length;i<l;i++){namespace=namespaces[i];processNamespace([namespace.toString()],namespace,{})}Ember.anyUnprocessedMixins=false}}function makeToString(ret){return function(){return ret}}Ember.Mixin.prototype.toString=classToString})();(function(){var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt,addBeforeObserver=Ember.addBeforeObserver,addObserver=Ember.addObserver,removeBeforeObserver=Ember.removeBeforeObserver,removeObserver=Ember.removeObserver,propertyWillChange=Ember.propertyWillChange,propertyDidChange=Ember.propertyDidChange,meta=Ember.meta,defineProperty=Ember.defineProperty;function contentPropertyWillChange(content,contentKey){var key=contentKey.slice(8);if(key in this){return}propertyWillChange(this,key)}function contentPropertyDidChange(content,contentKey){var key=contentKey.slice(8);if(key in this){return}propertyDidChange(this,key)}Ember.ObjectProxy=Ember.Object.extend({content:null,_contentDidChange:Ember.observer("content",function(){Ember.assert("Can't set ObjectProxy's content to itself",this.get("content")!==this)}),isTruthy:Ember.computed.bool("content"),_debugContainerKey:null,willWatchProperty:function(key){var contentKey="content."+key;
addBeforeObserver(this,contentKey,null,contentPropertyWillChange);addObserver(this,contentKey,null,contentPropertyDidChange)},didUnwatchProperty:function(key){var contentKey="content."+key;removeBeforeObserver(this,contentKey,null,contentPropertyWillChange);removeObserver(this,contentKey,null,contentPropertyDidChange)},unknownProperty:function(key){var content=get(this,"content");if(content){return get(content,key)}},setUnknownProperty:function(key,value){var m=meta(this);if(m.proto===this){defineProperty(this,key,null,value);return value}var content=get(this,"content");Ember.assert(fmt("Cannot delegate set('%@', %@) to the 'content' property of object proxy %@: its 'content' is undefined.",[key,value,this]),content);return set(content,key,value)}})})();(function(){var get=Ember.get,set=Ember.set;var a_slice=Array.prototype.slice;var a_indexOf=Ember.EnumerableUtils.indexOf;var contexts=[];function popCtx(){return contexts.length===0?{}:contexts.pop()}function pushCtx(ctx){contexts.push(ctx);return null}function iter(key,value){var valueProvided=arguments.length===2;function i(item){var cur=get(item,key);return valueProvided?value===cur:!!cur}return i}Ember.Enumerable=Ember.Mixin.create({nextObject:Ember.required(Function),firstObject:Ember.computed(function(){if(get(this,"length")===0)return undefined;var context=popCtx(),ret;ret=this.nextObject(0,null,context);pushCtx(context);return ret}).property("[]"),lastObject:Ember.computed(function(){var len=get(this,"length");if(len===0)return undefined;var context=popCtx(),idx=0,cur,last=null;do{last=cur;cur=this.nextObject(idx++,last,context)}while(cur!==undefined);pushCtx(context);return last}).property("[]"),contains:function(obj){return this.find(function(item){return item===obj})!==undefined},forEach:function(callback,target){if(typeof callback!=="function")throw new TypeError;var len=get(this,"length"),last=null,context=popCtx();if(target===undefined)target=null;for(var idx=0;idx<len;idx++){var next=this.nextObject(idx,last,context);callback.call(target,next,idx,this);last=next}last=null;context=pushCtx(context);return this},getEach:function(key){return this.mapBy(key)},setEach:function(key,value){return this.forEach(function(item){set(item,key,value)})},map:function(callback,target){var ret=Ember.A();this.forEach(function(x,idx,i){ret[idx]=callback.call(target,x,idx,i)});return ret},mapBy:function(key){return this.map(function(next){return get(next,key)})},mapProperty:Ember.aliasMethod("mapBy"),filter:function(callback,target){var ret=Ember.A();this.forEach(function(x,idx,i){if(callback.call(target,x,idx,i))ret.push(x)});return ret},reject:function(callback,target){return this.filter(function(){return!callback.apply(target,arguments)})},filterBy:function(key,value){return this.filter(iter.apply(this,arguments))},filterProperty:Ember.aliasMethod("filterBy"),rejectBy:function(key,value){var exactValue=function(item){return get(item,key)===value},hasValue=function(item){return!!get(item,key)},use=arguments.length===2?exactValue:hasValue;return this.reject(use)},rejectProperty:Ember.aliasMethod("rejectBy"),find:function(callback,target){var len=get(this,"length");if(target===undefined)target=null;var last=null,next,found=false,ret;var context=popCtx();for(var idx=0;idx<len&&!found;idx++){next=this.nextObject(idx,last,context);if(found=callback.call(target,next,idx,this))ret=next;last=next}next=last=null;context=pushCtx(context);return ret},findBy:function(key,value){return this.find(iter.apply(this,arguments))},findProperty:Ember.aliasMethod("findBy"),every:function(callback,target){return!this.find(function(x,idx,i){return!callback.call(target,x,idx,i)})},everyBy:Ember.aliasMethod("isEvery"),everyProperty:Ember.aliasMethod("isEvery"),isEvery:function(key,value){return this.every(iter.apply(this,arguments))},any:function(callback,target){var len=get(this,"length"),context=popCtx(),found=false,last=null,next,idx;if(target===undefined){target=null}for(idx=0;idx<len&&!found;idx++){next=this.nextObject(idx,last,context);found=callback.call(target,next,idx,this);last=next}next=last=null;context=pushCtx(context);return found},some:Ember.aliasMethod("any"),isAny:function(key,value){return this.any(iter.apply(this,arguments))},anyBy:Ember.aliasMethod("isAny"),someProperty:Ember.aliasMethod("isAny"),reduce:function(callback,initialValue,reducerProperty){if(typeof callback!=="function"){throw new TypeError}var ret=initialValue;this.forEach(function(item,i){ret=callback(ret,item,i,this,reducerProperty)},this);return ret},invoke:function(methodName){var args,ret=Ember.A();if(arguments.length>1)args=a_slice.call(arguments,1);this.forEach(function(x,idx){var method=x&&x[methodName];if("function"===typeof method){ret[idx]=args?method.apply(x,args):x[methodName]()}},this);return ret},toArray:function(){var ret=Ember.A();this.forEach(function(o,idx){ret[idx]=o});return ret},compact:function(){return this.filter(function(value){return value!=null})},without:function(value){if(!this.contains(value))return this;var ret=Ember.A();this.forEach(function(k){if(k!==value)ret[ret.length]=k});return ret},uniq:function(){var ret=Ember.A();this.forEach(function(k){if(a_indexOf(ret,k)<0)ret.push(k)});return ret},"[]":Ember.computed(function(key,value){return this}),addEnumerableObserver:function(target,opts){var willChange=opts&&opts.willChange||"enumerableWillChange",didChange=opts&&opts.didChange||"enumerableDidChange";var hasObservers=get(this,"hasEnumerableObservers");if(!hasObservers)Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.addListener(this,"@enumerable:before",target,willChange);Ember.addListener(this,"@enumerable:change",target,didChange);if(!hasObservers)Ember.propertyDidChange(this,"hasEnumerableObservers");return this},removeEnumerableObserver:function(target,opts){var willChange=opts&&opts.willChange||"enumerableWillChange",didChange=opts&&opts.didChange||"enumerableDidChange";var hasObservers=get(this,"hasEnumerableObservers");if(hasObservers)Ember.propertyWillChange(this,"hasEnumerableObservers");Ember.removeListener(this,"@enumerable:before",target,willChange);Ember.removeListener(this,"@enumerable:change",target,didChange);if(hasObservers)Ember.propertyDidChange(this,"hasEnumerableObservers");return this},hasEnumerableObservers:Ember.computed(function(){return Ember.hasListeners(this,"@enumerable:change")||Ember.hasListeners(this,"@enumerable:before")}),enumerableContentWillChange:function(removing,adding){var removeCnt,addCnt,hasDelta;if("number"===typeof removing)removeCnt=removing;else if(removing)removeCnt=get(removing,"length");else removeCnt=removing=-1;if("number"===typeof adding)addCnt=adding;else if(adding)addCnt=get(adding,"length");else addCnt=adding=-1;hasDelta=addCnt<0||removeCnt<0||addCnt-removeCnt!==0;if(removing===-1)removing=null;if(adding===-1)adding=null;Ember.propertyWillChange(this,"[]");if(hasDelta)Ember.propertyWillChange(this,"length");Ember.sendEvent(this,"@enumerable:before",[this,removing,adding]);return this},enumerableContentDidChange:function(removing,adding){var removeCnt,addCnt,hasDelta;if("number"===typeof removing)removeCnt=removing;else if(removing)removeCnt=get(removing,"length");else removeCnt=removing=-1;if("number"===typeof adding)addCnt=adding;else if(adding)addCnt=get(adding,"length");else addCnt=adding=-1;hasDelta=addCnt<0||removeCnt<0||addCnt-removeCnt!==0;if(removing===-1)removing=null;if(adding===-1)adding=null;Ember.sendEvent(this,"@enumerable:change",[this,removing,adding]);if(hasDelta)Ember.propertyDidChange(this,"length");Ember.propertyDidChange(this,"[]");return this},sortBy:function(){var sortKeys=arguments;return this.toArray().sort(function(a,b){for(var i=0;i<sortKeys.length;i++){var key=sortKeys[i],propA=get(a,key),propB=get(b,key);var compareValue=Ember.compare(propA,propB);if(compareValue){return compareValue}}return 0})}})})();(function(){var get=Ember.get,set=Ember.set,isNone=Ember.isNone,map=Ember.EnumerableUtils.map,cacheFor=Ember.cacheFor;Ember.Array=Ember.Mixin.create(Ember.Enumerable,{length:Ember.required(),objectAt:function(idx){if(idx<0||idx>=get(this,"length"))return undefined;return get(this,idx)},objectsAt:function(indexes){var self=this;return map(indexes,function(idx){return self.objectAt(idx)})},nextObject:function(idx){return this.objectAt(idx)},"[]":Ember.computed(function(key,value){if(value!==undefined)this.replace(0,get(this,"length"),value);return this}),firstObject:Ember.computed(function(){return this.objectAt(0)}),lastObject:Ember.computed(function(){return this.objectAt(get(this,"length")-1)}),contains:function(obj){return this.indexOf(obj)>=0},slice:function(beginIndex,endIndex){var ret=Ember.A();var length=get(this,"length");if(isNone(beginIndex))beginIndex=0;if(isNone(endIndex)||endIndex>length)endIndex=length;if(beginIndex<0)beginIndex=length+beginIndex;if(endIndex<0)endIndex=length+endIndex;while(beginIndex<endIndex){ret[ret.length]=this.objectAt(beginIndex++)}return ret},indexOf:function(object,startAt){var idx,len=get(this,"length");if(startAt===undefined)startAt=0;if(startAt<0)startAt+=len;for(idx=startAt;idx<len;idx++){if(this.objectAt(idx)===object)return idx}return-1},lastIndexOf:function(object,startAt){var idx,len=get(this,"length");if(startAt===undefined||startAt>=len)startAt=len-1;if(startAt<0)startAt+=len;for(idx=startAt;idx>=0;idx--){if(this.objectAt(idx)===object)return idx}return-1},addArrayObserver:function(target,opts){var willChange=opts&&opts.willChange||"arrayWillChange",didChange=opts&&opts.didChange||"arrayDidChange";var hasObservers=get(this,"hasArrayObservers");if(!hasObservers)Ember.propertyWillChange(this,"hasArrayObservers");Ember.addListener(this,"@array:before",target,willChange);Ember.addListener(this,"@array:change",target,didChange);if(!hasObservers)Ember.propertyDidChange(this,"hasArrayObservers");return this},removeArrayObserver:function(target,opts){var willChange=opts&&opts.willChange||"arrayWillChange",didChange=opts&&opts.didChange||"arrayDidChange";var hasObservers=get(this,"hasArrayObservers");if(hasObservers)Ember.propertyWillChange(this,"hasArrayObservers");Ember.removeListener(this,"@array:before",target,willChange);Ember.removeListener(this,"@array:change",target,didChange);if(hasObservers)Ember.propertyDidChange(this,"hasArrayObservers");return this},hasArrayObservers:Ember.computed(function(){return Ember.hasListeners(this,"@array:change")||Ember.hasListeners(this,"@array:before")}),arrayContentWillChange:function(startIdx,removeAmt,addAmt){if(startIdx===undefined){startIdx=0;removeAmt=addAmt=-1}else{if(removeAmt===undefined)removeAmt=-1;if(addAmt===undefined)addAmt=-1}if(Ember.isWatching(this,"@each")){get(this,"@each")}Ember.sendEvent(this,"@array:before",[this,startIdx,removeAmt,addAmt]);var removing,lim;if(startIdx>=0&&removeAmt>=0&&get(this,"hasEnumerableObservers")){removing=[];lim=startIdx+removeAmt;for(var idx=startIdx;idx<lim;idx++)removing.push(this.objectAt(idx))}else{removing=removeAmt}this.enumerableContentWillChange(removing,addAmt);return this},arrayContentDidChange:function(startIdx,removeAmt,addAmt){if(startIdx===undefined){startIdx=0;removeAmt=addAmt=-1}else{if(removeAmt===undefined)removeAmt=-1;if(addAmt===undefined)addAmt=-1}var adding,lim;if(startIdx>=0&&addAmt>=0&&get(this,"hasEnumerableObservers")){adding=[];lim=startIdx+addAmt;for(var idx=startIdx;idx<lim;idx++)adding.push(this.objectAt(idx))}else{adding=addAmt}this.enumerableContentDidChange(removeAmt,adding);Ember.sendEvent(this,"@array:change",[this,startIdx,removeAmt,addAmt]);var length=get(this,"length"),cachedFirst=cacheFor(this,"firstObject"),cachedLast=cacheFor(this,"lastObject");if(this.objectAt(0)!==cachedFirst){Ember.propertyWillChange(this,"firstObject");Ember.propertyDidChange(this,"firstObject")}if(this.objectAt(length-1)!==cachedLast){Ember.propertyWillChange(this,"lastObject");Ember.propertyDidChange(this,"lastObject")}return this},"@each":Ember.computed(function(){if(!this.__each)this.__each=new Ember.EachProxy(this);return this.__each})})})();(function(){var e_get=Ember.get,set=Ember.set,guidFor=Ember.guidFor,metaFor=Ember.meta,propertyWillChange=Ember.propertyWillChange,propertyDidChange=Ember.propertyDidChange,addBeforeObserver=Ember.addBeforeObserver,removeBeforeObserver=Ember.removeBeforeObserver,addObserver=Ember.addObserver,removeObserver=Ember.removeObserver,ComputedProperty=Ember.ComputedProperty,a_slice=[].slice,o_create=Ember.create,forEach=Ember.EnumerableUtils.forEach,cacheSet=Ember.cacheFor.set,cacheGet=Ember.cacheFor.get,cacheRemove=Ember.cacheFor.remove,eachPropertyPattern=/^(.*)\.@each\.(.*)/,doubleEachPropertyPattern=/(.*\.@each){2,}/,arrayBracketPattern=/\.\[\]$/;var expandProperties=Ember.expandProperties;function get(obj,key){if(key==="@this"){return obj}return e_get(obj,key)}function DependentArraysObserver(callbacks,cp,instanceMeta,context,propertyName,sugarMeta){this.callbacks=callbacks;this.cp=cp;this.instanceMeta=instanceMeta;this.dependentKeysByGuid={};this.trackedArraysByGuid={};this.suspended=false;this.changedItems={}}function ItemPropertyObserverContext(dependentArray,index,trackedArray){Ember.assert("Internal error: trackedArray is null or undefined",trackedArray);this.dependentArray=dependentArray;this.index=index;this.item=dependentArray.objectAt(index);this.trackedArray=trackedArray;this.beforeObserver=null;this.observer=null;this.destroyed=false}DependentArraysObserver.prototype={setValue:function(newValue){this.instanceMeta.setValue(newValue,true)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(dependentArray,dependentKey){this.dependentKeysByGuid[guidFor(dependentArray)]=dependentKey;dependentArray.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"});if(this.cp._itemPropertyKeys[dependentKey]){this.setupPropertyObservers(dependentKey,this.cp._itemPropertyKeys[dependentKey])}},teardownObservers:function(dependentArray,dependentKey){var itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey]||[];delete this.dependentKeysByGuid[guidFor(dependentArray)];this.teardownPropertyObservers(dependentKey,itemPropertyKeys);dependentArray.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(callback,binding){var oldSuspended=this.suspended;this.suspended=true;callback.call(binding);this.suspended=oldSuspended},setupPropertyObservers:function(dependentKey,itemPropertyKeys){var dependentArray=get(this.instanceMeta.context,dependentKey),length=get(dependentArray,"length"),observerContexts=new Array(length);this.resetTransformations(dependentKey,observerContexts);forEach(dependentArray,function(item,index){var observerContext=this.createPropertyObserverContext(dependentArray,index,this.trackedArraysByGuid[dependentKey]);observerContexts[index]=observerContext;forEach(itemPropertyKeys,function(propertyKey){addBeforeObserver(item,propertyKey,this,observerContext.beforeObserver);addObserver(item,propertyKey,this,observerContext.observer)},this)},this)},teardownPropertyObservers:function(dependentKey,itemPropertyKeys){var dependentArrayObserver=this,trackedArray=this.trackedArraysByGuid[dependentKey],beforeObserver,observer,item;if(!trackedArray){return}trackedArray.apply(function(observerContexts,offset,operation){if(operation===Ember.TrackedArray.DELETE){return}forEach(observerContexts,function(observerContext){observerContext.destroyed=true;beforeObserver=observerContext.beforeObserver;observer=observerContext.observer;item=observerContext.item;forEach(itemPropertyKeys,function(propertyKey){removeBeforeObserver(item,propertyKey,dependentArrayObserver,beforeObserver);removeObserver(item,propertyKey,dependentArrayObserver,observer)})})})},createPropertyObserverContext:function(dependentArray,index,trackedArray){var observerContext=new ItemPropertyObserverContext(dependentArray,index,trackedArray);this.createPropertyObserver(observerContext);return observerContext},createPropertyObserver:function(observerContext){var dependentArrayObserver=this;observerContext.beforeObserver=function(obj,keyName){return dependentArrayObserver.itemPropertyWillChange(obj,keyName,observerContext.dependentArray,observerContext)};observerContext.observer=function(obj,keyName){return dependentArrayObserver.itemPropertyDidChange(obj,keyName,observerContext.dependentArray,observerContext)}},resetTransformations:function(dependentKey,observerContexts){this.trackedArraysByGuid[dependentKey]=new Ember.TrackedArray(observerContexts)},trackAdd:function(dependentKey,index,newItems){var trackedArray=this.trackedArraysByGuid[dependentKey];if(trackedArray){trackedArray.addItems(index,newItems)}},trackRemove:function(dependentKey,index,removedCount){var trackedArray=this.trackedArraysByGuid[dependentKey];if(trackedArray){return trackedArray.removeItems(index,removedCount)}return[]},updateIndexes:function(trackedArray,array){var length=get(array,"length");trackedArray.apply(function(observerContexts,offset,operation){if(operation===Ember.TrackedArray.DELETE){return}if(operation===Ember.TrackedArray.RETAIN&&observerContexts.length===length&&offset===0){return}forEach(observerContexts,function(context,index){context.index=index+offset})})},dependentArrayWillChange:function(dependentArray,index,removedCount,addedCount){if(this.suspended){return}var removedItem=this.callbacks.removedItem,changeMeta,guid=guidFor(dependentArray),dependentKey=this.dependentKeysByGuid[guid],itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey]||[],length=get(dependentArray,"length"),normalizedIndex=normalizeIndex(index,length,0),normalizedRemoveCount=normalizeRemoveCount(normalizedIndex,length,removedCount),item,itemIndex,sliceIndex,observerContexts;observerContexts=this.trackRemove(dependentKey,normalizedIndex,normalizedRemoveCount);function removeObservers(propertyKey){observerContexts[sliceIndex].destroyed=true;removeBeforeObserver(item,propertyKey,this,observerContexts[sliceIndex].beforeObserver);removeObserver(item,propertyKey,this,observerContexts[sliceIndex].observer)}for(sliceIndex=normalizedRemoveCount-1;sliceIndex>=0;--sliceIndex){itemIndex=normalizedIndex+sliceIndex;if(itemIndex>=length){break}item=dependentArray.objectAt(itemIndex);forEach(itemPropertyKeys,removeObservers,this);changeMeta=createChangeMeta(dependentArray,item,itemIndex,this.instanceMeta.propertyName,this.cp);this.setValue(removedItem.call(this.instanceMeta.context,this.getValue(),item,changeMeta,this.instanceMeta.sugarMeta))}},dependentArrayDidChange:function(dependentArray,index,removedCount,addedCount){if(this.suspended){return}var addedItem=this.callbacks.addedItem,guid=guidFor(dependentArray),dependentKey=this.dependentKeysByGuid[guid],observerContexts=new Array(addedCount),itemPropertyKeys=this.cp._itemPropertyKeys[dependentKey],length=get(dependentArray,"length"),normalizedIndex=normalizeIndex(index,length,addedCount),changeMeta,observerContext;forEach(dependentArray.slice(normalizedIndex,normalizedIndex+addedCount),function(item,sliceIndex){if(itemPropertyKeys){observerContext=observerContexts[sliceIndex]=this.createPropertyObserverContext(dependentArray,normalizedIndex+sliceIndex,this.trackedArraysByGuid[dependentKey]);forEach(itemPropertyKeys,function(propertyKey){addBeforeObserver(item,propertyKey,this,observerContext.beforeObserver);addObserver(item,propertyKey,this,observerContext.observer)},this)}changeMeta=createChangeMeta(dependentArray,item,normalizedIndex+sliceIndex,this.instanceMeta.propertyName,this.cp);this.setValue(addedItem.call(this.instanceMeta.context,this.getValue(),item,changeMeta,this.instanceMeta.sugarMeta))},this);this.trackAdd(dependentKey,normalizedIndex,observerContexts)},itemPropertyWillChange:function(obj,keyName,array,observerContext){var guid=guidFor(obj);if(!this.changedItems[guid]){this.changedItems[guid]={array:array,observerContext:observerContext,obj:obj,previousValues:{}}}this.changedItems[guid].previousValues[keyName]=get(obj,keyName)},itemPropertyDidChange:function(obj,keyName,array,observerContext){this.flushChanges()},flushChanges:function(){var changedItems=this.changedItems,key,c,changeMeta;for(key in changedItems){c=changedItems[key];if(c.observerContext.destroyed){continue}this.updateIndexes(c.observerContext.trackedArray,c.observerContext.dependentArray);changeMeta=createChangeMeta(c.array,c.obj,c.observerContext.index,this.instanceMeta.propertyName,this.cp,c.previousValues);this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),c.obj,changeMeta,this.instanceMeta.sugarMeta));this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),c.obj,changeMeta,this.instanceMeta.sugarMeta))}this.changedItems={}}};function normalizeIndex(index,length,newItemsOffset){if(index<0){return Math.max(0,length+index)}else if(index<length){return index}else{return Math.min(length-newItemsOffset,index)}}function normalizeRemoveCount(index,length,removedCount){return Math.min(removedCount,length-index)}function createChangeMeta(dependentArray,item,index,propertyName,property,previousValues){var meta={arrayChanged:dependentArray,index:index,item:item,propertyName:propertyName,property:property};if(previousValues){meta.previousValues=previousValues}return meta}function addItems(dependentArray,callbacks,cp,propertyName,meta){forEach(dependentArray,function(item,index){meta.setValue(callbacks.addedItem.call(this,meta.getValue(),item,createChangeMeta(dependentArray,item,index,propertyName,cp),meta.sugarMeta))},this)}function reset(cp,propertyName){var callbacks=cp._callbacks(),meta;if(cp._hasInstanceMeta(this,propertyName)){meta=cp._instanceMeta(this,propertyName);meta.setValue(cp.resetValue(meta.getValue()))}else{meta=cp._instanceMeta(this,propertyName)}if(cp.options.initialize){cp.options.initialize.call(this,meta.getValue(),{property:cp,propertyName:propertyName},meta.sugarMeta)}}function partiallyRecomputeFor(obj,dependentKey){if(arrayBracketPattern.test(dependentKey)){return false}var value=get(obj,dependentKey);return Ember.Array.detect(value)}function ReduceComputedPropertyInstanceMeta(context,propertyName,initialValue){this.context=context;this.propertyName=propertyName;this.cache=metaFor(context).cache;this.dependentArrays={};this.sugarMeta={};this.initialValue=initialValue}ReduceComputedPropertyInstanceMeta.prototype={getValue:function(){if(this.propertyName in this.cache){return this.cache[this.propertyName]}else{return this.initialValue}},setValue:function(newValue,triggerObservers){if(newValue===this.cache[this.propertyName]){return}if(triggerObservers){propertyWillChange(this.context,this.propertyName)}if(newValue===undefined){delete this.cache[this.propertyName]}else{this.cache[this.propertyName]=newValue}if(triggerObservers){propertyDidChange(this.context,this.propertyName)}}};function ReduceComputedProperty(options){var cp=this;this.options=options;this._dependentKeys=null;this._itemPropertyKeys={};this._previousItemPropertyKeys={};this.readOnly();this.cacheable();this.recomputeOnce=function(propertyName){recompute.call(this,propertyName)};var recompute=function(propertyName){var dependentKeys=cp._dependentKeys,meta=cp._instanceMeta(this,propertyName),callbacks=cp._callbacks();reset.call(this,cp,propertyName);meta.dependentArraysObserver.suspendArrayObservers(function(){forEach(cp._dependentKeys,function(dependentKey){Ember.assert("dependent array "+dependentKey+" must be an `Ember.Array`.  "+"If you are not extending arrays, you will need to wrap native arrays with `Ember.A`",!(Ember.isArray(get(this,dependentKey))&&!Ember.Array.detect(get(this,dependentKey))));if(!partiallyRecomputeFor(this,dependentKey)){return}var dependentArray=get(this,dependentKey),previousDependentArray=meta.dependentArrays[dependentKey];if(dependentArray===previousDependentArray){if(cp._previousItemPropertyKeys[dependentKey]){delete cp._previousItemPropertyKeys[dependentKey];meta.dependentArraysObserver.setupPropertyObservers(dependentKey,cp._itemPropertyKeys[dependentKey])}}else{meta.dependentArrays[dependentKey]=dependentArray;if(previousDependentArray){meta.dependentArraysObserver.teardownObservers(previousDependentArray,dependentKey)}if(dependentArray){meta.dependentArraysObserver.setupObservers(dependentArray,dependentKey)}}},this)},this);forEach(cp._dependentKeys,function(dependentKey){if(!partiallyRecomputeFor(this,dependentKey)){return}var dependentArray=get(this,dependentKey);if(dependentArray){addItems.call(this,dependentArray,callbacks,cp,propertyName,meta)}},this)};this.func=function(propertyName){Ember.assert("Computed reduce values require at least one dependent key",cp._dependentKeys);recompute.call(this,propertyName);return cp._instanceMeta(this,propertyName).getValue()}}Ember.ReduceComputedProperty=ReduceComputedProperty;ReduceComputedProperty.prototype=o_create(ComputedProperty.prototype);function defaultCallback(computedValue){return computedValue}ReduceComputedProperty.prototype._callbacks=function(){if(!this.callbacks){var options=this.options;this.callbacks={removedItem:options.removedItem||defaultCallback,addedItem:options.addedItem||defaultCallback}}return this.callbacks};ReduceComputedProperty.prototype._hasInstanceMeta=function(context,propertyName){return!!metaFor(context).cacheMeta[propertyName]};ReduceComputedProperty.prototype._instanceMeta=function(context,propertyName){var cacheMeta=metaFor(context).cacheMeta,meta=cacheMeta[propertyName];if(!meta){meta=cacheMeta[propertyName]=new ReduceComputedPropertyInstanceMeta(context,propertyName,this.initialValue());meta.dependentArraysObserver=new DependentArraysObserver(this._callbacks(),this,meta,context,propertyName,meta.sugarMeta)}return meta};ReduceComputedProperty.prototype.initialValue=function(){if(typeof this.options.initialValue==="function"){return this.options.initialValue()}else{return this.options.initialValue}};ReduceComputedProperty.prototype.resetValue=function(value){return this.initialValue()};ReduceComputedProperty.prototype.itemPropertyKey=function(dependentArrayKey,itemPropertyKey){this._itemPropertyKeys[dependentArrayKey]=this._itemPropertyKeys[dependentArrayKey]||[];this._itemPropertyKeys[dependentArrayKey].push(itemPropertyKey)};ReduceComputedProperty.prototype.clearItemPropertyKeys=function(dependentArrayKey){if(this._itemPropertyKeys[dependentArrayKey]){this._previousItemPropertyKeys[dependentArrayKey]=this._itemPropertyKeys[dependentArrayKey];this._itemPropertyKeys[dependentArrayKey]=[]}};ReduceComputedProperty.prototype.property=function(){var cp=this,args=a_slice.call(arguments),propertyArgs=new Ember.Set,match,dependentArrayKey,itemPropertyKey;forEach(args,function(dependentKey){if(doubleEachPropertyPattern.test(dependentKey)){throw new Ember.Error("Nested @each properties not supported: "+dependentKey)}else if(match=eachPropertyPattern.exec(dependentKey)){dependentArrayKey=match[1];var itemPropertyKeyPattern=match[2],addItemPropertyKey=function(itemPropertyKey){cp.itemPropertyKey(dependentArrayKey,itemPropertyKey)};expandProperties(itemPropertyKeyPattern,addItemPropertyKey);propertyArgs.add(dependentArrayKey)}else{propertyArgs.add(dependentKey)}});return ComputedProperty.prototype.property.apply(this,propertyArgs.toArray())};Ember.reduceComputed=function(options){var args;if(arguments.length>1){args=a_slice.call(arguments,0,-1);options=a_slice.call(arguments,-1)[0]}if(typeof options!=="object"){throw new Ember.Error("Reduce Computed Property declared without an options hash")}if(!("initialValue"in options)){throw new Ember.Error("Reduce Computed Property declared without an initial value")}var cp=new ReduceComputedProperty(options);if(args){cp.property.apply(cp,args)}return cp}})();(function(){var ReduceComputedProperty=Ember.ReduceComputedProperty,a_slice=[].slice,o_create=Ember.create,forEach=Ember.EnumerableUtils.forEach;function ArrayComputedProperty(){var cp=this;ReduceComputedProperty.apply(this,arguments);this.func=function(reduceFunc){return function(propertyName){if(!cp._hasInstanceMeta(this,propertyName)){forEach(cp._dependentKeys,function(dependentKey){Ember.addObserver(this,dependentKey,function(){cp.recomputeOnce.call(this,propertyName)})},this)}return reduceFunc.apply(this,arguments)}}(this.func);return this}Ember.ArrayComputedProperty=ArrayComputedProperty;ArrayComputedProperty.prototype=o_create(ReduceComputedProperty.prototype);ArrayComputedProperty.prototype.initialValue=function(){return Ember.A()};ArrayComputedProperty.prototype.resetValue=function(array){array.clear();return array};ArrayComputedProperty.prototype.didChange=function(obj,keyName){return};Ember.arrayComputed=function(options){var args;if(arguments.length>1){args=a_slice.call(arguments,0,-1);options=a_slice.call(arguments,-1)[0]}if(typeof options!=="object"){throw new Ember.Error("Array Computed Property declared without an options hash")}var cp=new ArrayComputedProperty(options);if(args){cp.property.apply(cp,args)}return cp}})();(function(){var get=Ember.get,set=Ember.set,guidFor=Ember.guidFor,merge=Ember.merge,a_slice=[].slice,forEach=Ember.EnumerableUtils.forEach,map=Ember.EnumerableUtils.map,SearchProxy;Ember.computed.sum=function(dependentKey){return Ember.reduceComputed(dependentKey,{initialValue:0,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return accumulatedValue+item},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return accumulatedValue-item}})};Ember.computed.max=function(dependentKey){return Ember.reduceComputed(dependentKey,{initialValue:-Infinity,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return Math.max(accumulatedValue,item)},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){if(item<accumulatedValue){return accumulatedValue}}})};Ember.computed.min=function(dependentKey){return Ember.reduceComputed(dependentKey,{initialValue:Infinity,addedItem:function(accumulatedValue,item,changeMeta,instanceMeta){return Math.min(accumulatedValue,item)},removedItem:function(accumulatedValue,item,changeMeta,instanceMeta){if(item>accumulatedValue){return accumulatedValue}}})};Ember.computed.map=function(dependentKey,callback){var options={addedItem:function(array,item,changeMeta,instanceMeta){var mapped=callback.call(this,item);array.insertAt(changeMeta.index,mapped);return array},removedItem:function(array,item,changeMeta,instanceMeta){array.removeAt(changeMeta.index,1);return array}};return Ember.arrayComputed(dependentKey,options)};Ember.computed.mapBy=function(dependentKey,propertyKey){var callback=function(item){return get(item,propertyKey)};return Ember.computed.map(dependentKey+".@each."+propertyKey,callback)};Ember.computed.mapProperty=Ember.computed.mapBy;Ember.computed.filter=function(dependentKey,callback){var options={initialize:function(array,changeMeta,instanceMeta){instanceMeta.filteredArrayIndexes=new Ember.SubArray},addedItem:function(array,item,changeMeta,instanceMeta){var match=!!callback.call(this,item),filterIndex=instanceMeta.filteredArrayIndexes.addItem(changeMeta.index,match);if(match){array.insertAt(filterIndex,item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var filterIndex=instanceMeta.filteredArrayIndexes.removeItem(changeMeta.index);if(filterIndex>-1){array.removeAt(filterIndex)}return array}};return Ember.arrayComputed(dependentKey,options)};Ember.computed.filterBy=function(dependentKey,propertyKey,value){var callback;if(arguments.length===2){callback=function(item){return get(item,propertyKey)}}else{callback=function(item){return get(item,propertyKey)===value}}return Ember.computed.filter(dependentKey+".@each."+propertyKey,callback)};Ember.computed.filterProperty=Ember.computed.filterBy;Ember.computed.uniq=function(){var args=a_slice.call(arguments);args.push({initialize:function(array,changeMeta,instanceMeta){instanceMeta.itemCounts={}},addedItem:function(array,item,changeMeta,instanceMeta){var guid=guidFor(item);
if(!instanceMeta.itemCounts[guid]){instanceMeta.itemCounts[guid]=1}else{++instanceMeta.itemCounts[guid]}array.addObject(item);return array},removedItem:function(array,item,_,instanceMeta){var guid=guidFor(item),itemCounts=instanceMeta.itemCounts;if(--itemCounts[guid]===0){array.removeObject(item)}return array}});return Ember.arrayComputed.apply(null,args)};Ember.computed.union=Ember.computed.uniq;Ember.computed.intersect=function(){var getDependentKeyGuids=function(changeMeta){return map(changeMeta.property._dependentKeys,function(dependentKey){return guidFor(dependentKey)})};var args=a_slice.call(arguments);args.push({initialize:function(array,changeMeta,instanceMeta){instanceMeta.itemCounts={}},addedItem:function(array,item,changeMeta,instanceMeta){var itemGuid=guidFor(item),dependentGuids=getDependentKeyGuids(changeMeta),dependentGuid=guidFor(changeMeta.arrayChanged),numberOfDependentArrays=changeMeta.property._dependentKeys.length,itemCounts=instanceMeta.itemCounts;if(!itemCounts[itemGuid]){itemCounts[itemGuid]={}}if(itemCounts[itemGuid][dependentGuid]===undefined){itemCounts[itemGuid][dependentGuid]=0}if(++itemCounts[itemGuid][dependentGuid]===1&&numberOfDependentArrays===Ember.keys(itemCounts[itemGuid]).length){array.addObject(item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var itemGuid=guidFor(item),dependentGuids=getDependentKeyGuids(changeMeta),dependentGuid=guidFor(changeMeta.arrayChanged),numberOfDependentArrays=changeMeta.property._dependentKeys.length,numberOfArraysItemAppearsIn,itemCounts=instanceMeta.itemCounts;if(itemCounts[itemGuid][dependentGuid]===undefined){itemCounts[itemGuid][dependentGuid]=0}if(--itemCounts[itemGuid][dependentGuid]===0){delete itemCounts[itemGuid][dependentGuid];numberOfArraysItemAppearsIn=Ember.keys(itemCounts[itemGuid]).length;if(numberOfArraysItemAppearsIn===0){delete itemCounts[itemGuid]}array.removeObject(item)}return array}});return Ember.arrayComputed.apply(null,args)};Ember.computed.setDiff=function(setAProperty,setBProperty){if(arguments.length!==2){throw new Ember.Error("setDiff requires exactly two dependent arrays.")}return Ember.arrayComputed(setAProperty,setBProperty,{addedItem:function(array,item,changeMeta,instanceMeta){var setA=get(this,setAProperty),setB=get(this,setBProperty);if(changeMeta.arrayChanged===setA){if(!setB.contains(item)){array.addObject(item)}}else{array.removeObject(item)}return array},removedItem:function(array,item,changeMeta,instanceMeta){var setA=get(this,setAProperty),setB=get(this,setBProperty);if(changeMeta.arrayChanged===setB){if(setA.contains(item)){array.addObject(item)}}else{array.removeObject(item)}return array}})};function binarySearch(array,item,low,high){var mid,midItem,res,guidMid,guidItem;if(arguments.length<4){high=get(array,"length")}if(arguments.length<3){low=0}if(low===high){return low}mid=low+Math.floor((high-low)/2);midItem=array.objectAt(mid);guidMid=_guidFor(midItem);guidItem=_guidFor(item);if(guidMid===guidItem){return mid}res=this.order(midItem,item);if(res===0){res=guidMid<guidItem?-1:1}if(res<0){return this.binarySearch(array,item,mid+1,high)}else if(res>0){return this.binarySearch(array,item,low,mid)}return mid;function _guidFor(item){if(SearchProxy.detectInstance(item)){return guidFor(get(item,"content"))}return guidFor(item)}}SearchProxy=Ember.ObjectProxy.extend();Ember.computed.sort=function(itemsKey,sortDefinition){Ember.assert("Ember.computed.sort requires two arguments: an array key to sort and either a sort properties key or sort function",arguments.length===2);var initFn,sortPropertiesKey;if(typeof sortDefinition==="function"){initFn=function(array,changeMeta,instanceMeta){instanceMeta.order=sortDefinition;instanceMeta.binarySearch=binarySearch}}else{sortPropertiesKey=sortDefinition;initFn=function(array,changeMeta,instanceMeta){function setupSortProperties(){var sortPropertyDefinitions=get(this,sortPropertiesKey),sortProperty,sortProperties=instanceMeta.sortProperties=[],sortPropertyAscending=instanceMeta.sortPropertyAscending={},idx,asc;Ember.assert("Cannot sort: '"+sortPropertiesKey+"' is not an array.",Ember.isArray(sortPropertyDefinitions));changeMeta.property.clearItemPropertyKeys(itemsKey);forEach(sortPropertyDefinitions,function(sortPropertyDefinition){if((idx=sortPropertyDefinition.indexOf(":"))!==-1){sortProperty=sortPropertyDefinition.substring(0,idx);asc=sortPropertyDefinition.substring(idx+1).toLowerCase()!=="desc"}else{sortProperty=sortPropertyDefinition;asc=true}sortProperties.push(sortProperty);sortPropertyAscending[sortProperty]=asc;changeMeta.property.itemPropertyKey(itemsKey,sortProperty)});sortPropertyDefinitions.addObserver("@each",this,updateSortPropertiesOnce)}function updateSortPropertiesOnce(){Ember.run.once(this,updateSortProperties,changeMeta.propertyName)}function updateSortProperties(propertyName){setupSortProperties.call(this);changeMeta.property.recomputeOnce.call(this,propertyName)}Ember.addObserver(this,sortPropertiesKey,updateSortPropertiesOnce);setupSortProperties.call(this);instanceMeta.order=function(itemA,itemB){var isProxy=itemB instanceof SearchProxy,sortProperty,result,asc;for(var i=0;i<this.sortProperties.length;++i){sortProperty=this.sortProperties[i];result=Ember.compare(get(itemA,sortProperty),isProxy?itemB[sortProperty]:get(itemB,sortProperty));if(result!==0){asc=this.sortPropertyAscending[sortProperty];return asc?result:-1*result}}return 0};instanceMeta.binarySearch=binarySearch}}return Ember.arrayComputed(itemsKey,{initialize:initFn,addedItem:function(array,item,changeMeta,instanceMeta){var index=instanceMeta.binarySearch(array,item);array.insertAt(index,item);return array},removedItem:function(array,item,changeMeta,instanceMeta){var proxyProperties,index,searchItem;if(changeMeta.previousValues){proxyProperties=merge({content:item},changeMeta.previousValues);searchItem=SearchProxy.create(proxyProperties)}else{searchItem=item}index=instanceMeta.binarySearch(array,searchItem);array.removeAt(index);return array}})}})();(function(){Ember.RSVP=requireModule("rsvp");Ember.RSVP.onerrorDefault=function(error){if(error instanceof Error){if(Ember.testing){if(Ember.Test&&Ember.Test.adapter){Ember.Test.adapter.exception(error)}else{throw error}}else{Ember.Logger.error(error.stack);Ember.assert(error,false)}}};Ember.RSVP.on("error",Ember.RSVP.onerrorDefault)})();(function(){var a_slice=Array.prototype.slice;var expandProperties=Ember.expandProperties;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Function){Function.prototype.property=function(){var ret=Ember.computed(this);return ret.property.apply(ret,arguments)};Function.prototype.observes=function(){var addWatchedProperty=function(obs){watched.push(obs)};var watched=[];for(var i=0;i<arguments.length;++i){expandProperties(arguments[i],addWatchedProperty)}this.__ember_observes__=watched;return this};Function.prototype.observesImmediately=function(){for(var i=0,l=arguments.length;i<l;i++){var arg=arguments[i];Ember.assert("Immediate observers must observe internal properties only, not properties on other objects.",arg.indexOf(".")===-1)}return this.observes.apply(this,arguments)};Function.prototype.observesBefore=function(){var addWatchedProperty=function(obs){watched.push(obs)};var watched=[];for(var i=0;i<arguments.length;++i){expandProperties(arguments[i],addWatchedProperty)}this.__ember_observesBefore__=watched;return this};Function.prototype.on=function(){var events=a_slice.call(arguments);this.__ember_listens__=events;return this}}})();(function(){})();(function(){Ember.Comparable=Ember.Mixin.create({compare:Ember.required(Function)})})();(function(){var get=Ember.get,set=Ember.set;Ember.Copyable=Ember.Mixin.create({copy:Ember.required(Function),frozenCopy:function(){if(Ember.Freezable&&Ember.Freezable.detect(this)){return get(this,"isFrozen")?this:this.copy().freeze()}else{throw new Ember.Error(Ember.String.fmt("%@ does not support freezing",[this]))}}})})();(function(){var get=Ember.get,set=Ember.set;Ember.Freezable=Ember.Mixin.create({isFrozen:false,freeze:function(){if(get(this,"isFrozen"))return this;set(this,"isFrozen",true);return this}});Ember.FROZEN_ERROR="Frozen object cannot be modified."})();(function(){var forEach=Ember.EnumerableUtils.forEach;Ember.MutableEnumerable=Ember.Mixin.create(Ember.Enumerable,{addObject:Ember.required(Function),addObjects:function(objects){Ember.beginPropertyChanges(this);forEach(objects,function(obj){this.addObject(obj)},this);Ember.endPropertyChanges(this);return this},removeObject:Ember.required(Function),removeObjects:function(objects){Ember.beginPropertyChanges(this);forEach(objects,function(obj){this.removeObject(obj)},this);Ember.endPropertyChanges(this);return this}})})();(function(){var OUT_OF_RANGE_EXCEPTION="Index out of range";var EMPTY=[];var get=Ember.get,set=Ember.set;Ember.MutableArray=Ember.Mixin.create(Ember.Array,Ember.MutableEnumerable,{replace:Ember.required(),clear:function(){var len=get(this,"length");if(len===0)return this;this.replace(0,len,EMPTY);return this},insertAt:function(idx,object){if(idx>get(this,"length"))throw new Ember.Error(OUT_OF_RANGE_EXCEPTION);this.replace(idx,0,[object]);return this},removeAt:function(start,len){if("number"===typeof start){if(start<0||start>=get(this,"length")){throw new Ember.Error(OUT_OF_RANGE_EXCEPTION)}if(len===undefined)len=1;this.replace(start,len,EMPTY)}return this},pushObject:function(obj){this.insertAt(get(this,"length"),obj);return obj},pushObjects:function(objects){if(!(Ember.Enumerable.detect(objects)||Ember.isArray(objects))){throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects")}this.replace(get(this,"length"),0,objects);return this},popObject:function(){var len=get(this,"length");if(len===0)return null;var ret=this.objectAt(len-1);this.removeAt(len-1,1);return ret},shiftObject:function(){if(get(this,"length")===0)return null;var ret=this.objectAt(0);this.removeAt(0);return ret},unshiftObject:function(obj){this.insertAt(0,obj);return obj},unshiftObjects:function(objects){this.replace(0,0,objects);return this},reverseObjects:function(){var len=get(this,"length");if(len===0)return this;var objects=this.toArray().reverse();this.replace(0,len,objects);return this},setObjects:function(objects){if(objects.length===0)return this.clear();var len=get(this,"length");this.replace(0,len,objects);return this},removeObject:function(obj){var loc=get(this,"length")||0;while(--loc>=0){var curObject=this.objectAt(loc);if(curObject===obj)this.removeAt(loc)}return this},addObject:function(obj){if(!this.contains(obj))this.pushObject(obj);return this}})})();(function(){var get=Ember.get,set=Ember.set;Ember.TargetActionSupport=Ember.Mixin.create({target:null,action:null,actionContext:null,targetObject:Ember.computed(function(){var target=get(this,"target");if(Ember.typeOf(target)==="string"){var value=get(this,target);if(value===undefined){value=get(Ember.lookup,target)}return value}else{return target}}).property("target"),actionContextObject:Ember.computed(function(){var actionContext=get(this,"actionContext");if(Ember.typeOf(actionContext)==="string"){var value=get(this,actionContext);if(value===undefined){value=get(Ember.lookup,actionContext)}return value}else{return actionContext}}).property("actionContext"),triggerAction:function(opts){opts=opts||{};var action=opts.action||get(this,"action"),target=opts.target||get(this,"targetObject"),actionContext=opts.actionContext;function args(options,actionName){var ret=[];if(actionName){ret.push(actionName)}return ret.concat(options)}if(typeof actionContext==="undefined"){actionContext=get(this,"actionContextObject")||this}if(target&&action){var ret;if(target.send){ret=target.send.apply(target,args(actionContext,action))}else{Ember.assert("The action '"+action+"' did not exist on "+target,typeof target[action]==="function");ret=target[action].apply(target,args(actionContext))}if(ret!==false)ret=true;return ret}else{return false}}})})();(function(){Ember.Evented=Ember.Mixin.create({on:function(name,target,method){Ember.addListener(this,name,target,method);return this},one:function(name,target,method){if(!method){method=target;target=null}Ember.addListener(this,name,target,method,true);return this},trigger:function(name){var args=[],i,l;for(i=1,l=arguments.length;i<l;i++){args.push(arguments[i])}Ember.sendEvent(this,name,args)},off:function(name,target,method){Ember.removeListener(this,name,target,method);return this},has:function(name){return Ember.hasListeners(this,name)}})})();(function(){var RSVP=requireModule("rsvp");if(Ember.FEATURES["ember-runtime-test-friendly-promises"]){var asyncStart=function(){if(Ember.Test&&Ember.Test.adapter){Ember.Test.adapter.asyncStart()}};var asyncEnd=function(){if(Ember.Test&&Ember.Test.adapter){Ember.Test.adapter.asyncEnd()}};RSVP.configure("async",function(callback,promise){var async=!Ember.run.currentRunLoop;if(Ember.testing&&async){asyncStart()}Ember.run.backburner.schedule("actions",function(){if(Ember.testing&&async){asyncEnd()}callback(promise)})})}else{RSVP.configure("async",function(callback,promise){Ember.run.backburner.schedule("actions",function(){callback(promise)})})}RSVP.Promise.prototype.fail=function(callback,label){Ember.deprecate("RSVP.Promise.fail has been renamed as RSVP.Promise.catch");return this["catch"](callback,label)};var get=Ember.get;Ember.DeferredMixin=Ember.Mixin.create({then:function(resolve,reject,label){var deferred,promise,entity;entity=this;deferred=get(this,"_deferred");promise=deferred.promise;function fulfillmentHandler(fulfillment){if(fulfillment===promise){return resolve(entity)}else{return resolve(fulfillment)}}return promise.then(resolve&&fulfillmentHandler,reject,label)},resolve:function(value){var deferred,promise;deferred=get(this,"_deferred");promise=deferred.promise;if(value===this){deferred.resolve(promise)}else{deferred.resolve(value)}},reject:function(value){get(this,"_deferred").reject(value)},_deferred:Ember.computed(function(){return RSVP.defer("Ember: DeferredMixin - "+this)})})})();(function(){var get=Ember.get,typeOf=Ember.typeOf;Ember.ActionHandler=Ember.Mixin.create({mergedProperties:["_actions"],willMergeMixin:function(props){var hashName;if(!props._actions){Ember.assert("'actions' should not be a function",typeof props.actions!=="function");if(typeOf(props.actions)==="object"){hashName="actions"}else if(typeOf(props.events)==="object"){Ember.deprecate("Action handlers contained in an `events` object are deprecated in favor of putting them in an `actions` object",false);hashName="events"}if(hashName){props._actions=Ember.merge(props._actions||{},props[hashName])}delete props[hashName]}},send:function(actionName){var args=[].slice.call(arguments,1),target;if(this._actions&&this._actions[actionName]){if(this._actions[actionName].apply(this,args)===true){}else{return}}else if(!Ember.FEATURES.isEnabled("ember-routing-drop-deprecated-action-style")&&this.deprecatedSend&&this.deprecatedSendHandles&&this.deprecatedSendHandles(actionName)){Ember.warn("The current default is deprecated but will prefer to handle actions directly on the controller instead of a similarly named action in the actions hash. To turn off this deprecated feature set: Ember.FEATURES['ember-routing-drop-deprecated-action-style'] = true");if(this.deprecatedSend.apply(this,[].slice.call(arguments))===true){}else{return}}if(target=get(this,"target")){Ember.assert("The `target` for "+this+" ("+target+") does not have a `send` method",typeof target.send==="function");target.send.apply(target,arguments)}}})})();(function(){var set=Ember.set,get=Ember.get,not=Ember.computed.not,or=Ember.computed.or;function tap(proxy,promise){set(proxy,"isFulfilled",false);set(proxy,"isRejected",false);return promise.then(function(value){set(proxy,"isFulfilled",true);set(proxy,"content",value);return value},function(reason){set(proxy,"isRejected",true);set(proxy,"reason",reason);throw reason},"Ember: PromiseProxy")}Ember.PromiseProxyMixin=Ember.Mixin.create({reason:null,isPending:not("isSettled").readOnly(),isSettled:or("isRejected","isFulfilled").readOnly(),isRejected:false,isFulfilled:false,promise:Ember.computed(function(key,promise){if(arguments.length===2){return tap(this,promise)}else{throw new Ember.Error("PromiseProxy's promise must be set")}}),then:promiseAlias("then"),"catch":promiseAlias("catch"),"finally":promiseAlias("finally")});function promiseAlias(name){return function(){var promise=get(this,"promise");return promise[name].apply(promise,arguments)}}})();(function(){})();(function(){var get=Ember.get,forEach=Ember.EnumerableUtils.forEach,RETAIN="r",INSERT="i",DELETE="d";Ember.TrackedArray=function(items){if(arguments.length<1){items=[]}var length=get(items,"length");if(length){this._operations=[new ArrayOperation(RETAIN,length,items)]}else{this._operations=[]}};Ember.TrackedArray.RETAIN=RETAIN;Ember.TrackedArray.INSERT=INSERT;Ember.TrackedArray.DELETE=DELETE;Ember.TrackedArray.prototype={addItems:function(index,newItems){var count=get(newItems,"length");if(count<1){return}var match=this._findArrayOperation(index),arrayOperation=match.operation,arrayOperationIndex=match.index,arrayOperationRangeStart=match.rangeStart,composeIndex,splitIndex,splitItems,splitArrayOperation,newArrayOperation;newArrayOperation=new ArrayOperation(INSERT,count,newItems);if(arrayOperation){if(!match.split){this._operations.splice(arrayOperationIndex,0,newArrayOperation);composeIndex=arrayOperationIndex}else{this._split(arrayOperationIndex,index-arrayOperationRangeStart,newArrayOperation);composeIndex=arrayOperationIndex+1}}else{this._operations.push(newArrayOperation);composeIndex=arrayOperationIndex}this._composeInsert(composeIndex)},removeItems:function(index,count){if(count<1){return}var match=this._findArrayOperation(index),arrayOperation=match.operation,arrayOperationIndex=match.index,arrayOperationRangeStart=match.rangeStart,newArrayOperation,composeIndex;newArrayOperation=new ArrayOperation(DELETE,count);if(!match.split){this._operations.splice(arrayOperationIndex,0,newArrayOperation);composeIndex=arrayOperationIndex}else{this._split(arrayOperationIndex,index-arrayOperationRangeStart,newArrayOperation);composeIndex=arrayOperationIndex+1}return this._composeDelete(composeIndex)},apply:function(callback){var items=[],offset=0;forEach(this._operations,function(arrayOperation){callback(arrayOperation.items,offset,arrayOperation.type);if(arrayOperation.type!==DELETE){offset+=arrayOperation.count;items=items.concat(arrayOperation.items)}});this._operations=[new ArrayOperation(RETAIN,items.length,items)]},_findArrayOperation:function(index){var arrayOperationIndex,len,split=false,arrayOperation,arrayOperationRangeStart,arrayOperationRangeEnd;for(arrayOperationIndex=arrayOperationRangeStart=0,len=this._operations.length;arrayOperationIndex<len;++arrayOperationIndex){arrayOperation=this._operations[arrayOperationIndex];if(arrayOperation.type===DELETE){continue}arrayOperationRangeEnd=arrayOperationRangeStart+arrayOperation.count-1;if(index===arrayOperationRangeStart){break}else if(index>arrayOperationRangeStart&&index<=arrayOperationRangeEnd){split=true;break}else{arrayOperationRangeStart=arrayOperationRangeEnd+1}}return new ArrayOperationMatch(arrayOperation,arrayOperationIndex,split,arrayOperationRangeStart)},_split:function(arrayOperationIndex,splitIndex,newArrayOperation){var arrayOperation=this._operations[arrayOperationIndex],splitItems=arrayOperation.items.slice(splitIndex),splitArrayOperation=new ArrayOperation(arrayOperation.type,splitItems.length,splitItems);arrayOperation.count=splitIndex;arrayOperation.items=arrayOperation.items.slice(0,splitIndex);this._operations.splice(arrayOperationIndex+1,0,newArrayOperation,splitArrayOperation)},_composeInsert:function(index){var newArrayOperation=this._operations[index],leftArrayOperation=this._operations[index-1],rightArrayOperation=this._operations[index+1],leftOp=leftArrayOperation&&leftArrayOperation.type,rightOp=rightArrayOperation&&rightArrayOperation.type;if(leftOp===INSERT){leftArrayOperation.count+=newArrayOperation.count;leftArrayOperation.items=leftArrayOperation.items.concat(newArrayOperation.items);if(rightOp===INSERT){leftArrayOperation.count+=rightArrayOperation.count;leftArrayOperation.items=leftArrayOperation.items.concat(rightArrayOperation.items);this._operations.splice(index,2)}else{this._operations.splice(index,1)}}else if(rightOp===INSERT){newArrayOperation.count+=rightArrayOperation.count;newArrayOperation.items=newArrayOperation.items.concat(rightArrayOperation.items);this._operations.splice(index+1,1)}},_composeDelete:function(index){var arrayOperation=this._operations[index],deletesToGo=arrayOperation.count,leftArrayOperation=this._operations[index-1],leftOp=leftArrayOperation&&leftArrayOperation.type,nextArrayOperation,nextOp,nextCount,removeNewAndNextOp=false,removedItems=[];if(leftOp===DELETE){arrayOperation=leftArrayOperation;index-=1}for(var i=index+1;deletesToGo>0;++i){nextArrayOperation=this._operations[i];nextOp=nextArrayOperation.type;nextCount=nextArrayOperation.count;if(nextOp===DELETE){arrayOperation.count+=nextCount;continue}if(nextCount>deletesToGo){removedItems=removedItems.concat(nextArrayOperation.items.splice(0,deletesToGo));nextArrayOperation.count-=deletesToGo;i-=1;nextCount=deletesToGo;deletesToGo=0}else{if(nextCount===deletesToGo){removeNewAndNextOp=true}removedItems=removedItems.concat(nextArrayOperation.items);deletesToGo-=nextCount}if(nextOp===INSERT){arrayOperation.count-=nextCount}}if(arrayOperation.count>0){this._operations.splice(index+1,i-1-index)}else{this._operations.splice(index,removeNewAndNextOp?2:1)}return removedItems},toString:function(){var str="";forEach(this._operations,function(operation){str+=" "+operation.type+":"+operation.count});return str.substring(1)}};function ArrayOperation(operation,count,items){this.type=operation;this.count=count;this.items=items}function ArrayOperationMatch(operation,index,split,rangeStart){this.operation=operation;this.index=index;this.split=split;this.rangeStart=rangeStart}})();(function(){var get=Ember.get,forEach=Ember.EnumerableUtils.forEach,RETAIN="r",FILTER="f";function Operation(type,count){this.type=type;this.count=count}Ember.SubArray=function(length){if(arguments.length<1){length=0}if(length>0){this._operations=[new Operation(RETAIN,length)]}else{this._operations=[]}};Ember.SubArray.prototype={addItem:function(index,match){var returnValue=-1,itemType=match?RETAIN:FILTER,self=this;this._findOperation(index,function(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray){var newOperation,splitOperation;if(itemType===operation.type){++operation.count}else if(index===rangeStart){self._operations.splice(operationIndex,0,new Operation(itemType,1))}else{newOperation=new Operation(itemType,1);splitOperation=new Operation(operation.type,rangeEnd-index+1);operation.count=index-rangeStart;self._operations.splice(operationIndex+1,0,newOperation,splitOperation)}if(match){if(operation.type===RETAIN){returnValue=seenInSubArray+(index-rangeStart)}else{returnValue=seenInSubArray}}self._composeAt(operationIndex)},function(seenInSubArray){self._operations.push(new Operation(itemType,1));if(match){returnValue=seenInSubArray}self._composeAt(self._operations.length-1)});return returnValue},removeItem:function(index){var returnValue=-1,self=this;this._findOperation(index,function(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray){if(operation.type===RETAIN){returnValue=seenInSubArray+(index-rangeStart)}if(operation.count>1){--operation.count}else{self._operations.splice(operationIndex,1);self._composeAt(operationIndex)}},function(){throw new Ember.Error("Can't remove an item that has never been added.")});return returnValue},_findOperation:function(index,foundCallback,notFoundCallback){var operationIndex,len,operation,rangeStart,rangeEnd,seenInSubArray=0;for(operationIndex=rangeStart=0,len=this._operations.length;operationIndex<len;rangeStart=rangeEnd+1,++operationIndex){operation=this._operations[operationIndex];rangeEnd=rangeStart+operation.count-1;if(index>=rangeStart&&index<=rangeEnd){foundCallback(operation,operationIndex,rangeStart,rangeEnd,seenInSubArray);return}else if(operation.type===RETAIN){seenInSubArray+=operation.count}}notFoundCallback(seenInSubArray)},_composeAt:function(index){var op=this._operations[index],otherOp;if(!op){return}if(index>0){otherOp=this._operations[index-1];if(otherOp.type===op.type){op.count+=otherOp.count;this._operations.splice(index-1,1);--index}}if(index<this._operations.length-1){otherOp=this._operations[index+1];if(otherOp.type===op.type){op.count+=otherOp.count;this._operations.splice(index+1,1)}}},toString:function(){var str="";forEach(this._operations,function(operation){str+=" "+operation.type+":"+operation.count});return str.substring(1)}}})();(function(){Ember.Container=requireModule("container")["default"];Ember.Container.set=Ember.set})();(function(){Ember.Application=Ember.Namespace.extend()})();(function(){var OUT_OF_RANGE_EXCEPTION="Index out of range";var EMPTY=[];var get=Ember.get,set=Ember.set;Ember.ArrayProxy=Ember.Object.extend(Ember.MutableArray,{content:null,arrangedContent:Ember.computed.alias("content"),objectAtContent:function(idx){return get(this,"arrangedContent").objectAt(idx)},replaceContent:function(idx,amt,objects){get(this,"content").replace(idx,amt,objects)},_contentWillChange:Ember.beforeObserver("content",function(){this._teardownContent()}),_teardownContent:function(){var content=get(this,"content");if(content){content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})}},contentArrayWillChange:Ember.K,contentArrayDidChange:Ember.K,_contentDidChange:Ember.observer("content",function(){var content=get(this,"content");Ember.assert("Can't set ArrayProxy's content to itself",content!==this);this._setupContent()}),_setupContent:function(){var content=get(this,"content");if(content){Ember.assert(Ember.String.fmt("ArrayProxy expects an Array or "+"Ember.ArrayProxy, but you passed %@",[typeof content]),Ember.isArray(content)||content.isDestroyed);content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})}},_arrangedContentWillChange:Ember.beforeObserver("arrangedContent",function(){var arrangedContent=get(this,"arrangedContent"),len=arrangedContent?get(arrangedContent,"length"):0;this.arrangedContentArrayWillChange(this,0,len,undefined);this.arrangedContentWillChange(this);this._teardownArrangedContent(arrangedContent)}),_arrangedContentDidChange:Ember.observer("arrangedContent",function(){var arrangedContent=get(this,"arrangedContent"),len=arrangedContent?get(arrangedContent,"length"):0;Ember.assert("Can't set ArrayProxy's content to itself",arrangedContent!==this);this._setupArrangedContent();this.arrangedContentDidChange(this);this.arrangedContentArrayDidChange(this,0,undefined,len)}),_setupArrangedContent:function(){var arrangedContent=get(this,"arrangedContent");if(arrangedContent){Ember.assert(Ember.String.fmt("ArrayProxy expects an Array or "+"Ember.ArrayProxy, but you passed %@",[typeof arrangedContent]),Ember.isArray(arrangedContent)||arrangedContent.isDestroyed);arrangedContent.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})}},_teardownArrangedContent:function(){var arrangedContent=get(this,"arrangedContent");if(arrangedContent){arrangedContent.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})}},arrangedContentWillChange:Ember.K,arrangedContentDidChange:Ember.K,objectAt:function(idx){return get(this,"content")&&this.objectAtContent(idx)},length:Ember.computed(function(){var arrangedContent=get(this,"arrangedContent");return arrangedContent?get(arrangedContent,"length"):0}),_replace:function(idx,amt,objects){var content=get(this,"content");Ember.assert("The content property of "+this.constructor+" should be set before modifying it",content);if(content)this.replaceContent(idx,amt,objects);return this},replace:function(){if(get(this,"arrangedContent")===get(this,"content")){this._replace.apply(this,arguments)}else{throw new Ember.Error("Using replace on an arranged ArrayProxy is not allowed.")}},_insertAt:function(idx,object){if(idx>get(this,"content.length"))throw new Ember.Error(OUT_OF_RANGE_EXCEPTION);this._replace(idx,0,[object]);return this},insertAt:function(idx,object){if(get(this,"arrangedContent")===get(this,"content")){return this._insertAt(idx,object)}else{throw new Ember.Error("Using insertAt on an arranged ArrayProxy is not allowed.")}},removeAt:function(start,len){if("number"===typeof start){var content=get(this,"content"),arrangedContent=get(this,"arrangedContent"),indices=[],i;if(start<0||start>=get(this,"length")){throw new Ember.Error(OUT_OF_RANGE_EXCEPTION)}if(len===undefined)len=1;for(i=start;i<start+len;i++){indices.push(content.indexOf(arrangedContent.objectAt(i)))}indices.sort(function(a,b){return b-a});Ember.beginPropertyChanges();for(i=0;i<indices.length;i++){this._replace(indices[i],1,EMPTY)}Ember.endPropertyChanges()}return this},pushObject:function(obj){this._insertAt(get(this,"content.length"),obj);return obj},pushObjects:function(objects){if(!(Ember.Enumerable.detect(objects)||Ember.isArray(objects))){throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects")}this._replace(get(this,"length"),0,objects);return this},setObjects:function(objects){if(objects.length===0)return this.clear();var len=get(this,"length");this._replace(0,len,objects);return this},unshiftObject:function(obj){this._insertAt(0,obj);return obj},unshiftObjects:function(objects){this._replace(0,0,objects);return this},slice:function(){var arr=this.toArray();return arr.slice.apply(arr,arguments)},arrangedContentArrayWillChange:function(item,idx,removedCnt,addedCnt){this.arrayContentWillChange(idx,removedCnt,addedCnt)},arrangedContentArrayDidChange:function(item,idx,removedCnt,addedCnt){this.arrayContentDidChange(idx,removedCnt,addedCnt)},init:function(){this._super();this._setupContent();this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent();this._teardownContent()}})})();(function(){var set=Ember.set,get=Ember.get,guidFor=Ember.guidFor;var forEach=Ember.EnumerableUtils.forEach,indexOf=Ember.ArrayPolyfills.indexOf;var EachArray=Ember.Object.extend(Ember.Array,{init:function(content,keyName,owner){this._super();this._keyName=keyName;this._owner=owner;this._content=content},objectAt:function(idx){var item=this._content.objectAt(idx);return item&&get(item,this._keyName)},length:Ember.computed(function(){var content=this._content;return content?get(content,"length"):0})});var IS_OBSERVER=/^.+:(before|change)$/;function addObserverForContentKey(content,keyName,proxy,idx,loc){var objects=proxy._objects,guid;if(!objects)objects=proxy._objects={};while(--loc>=idx){var item=content.objectAt(loc);if(item){Ember.assert("When using @each to observe the array "+content+", the array must return an object",Ember.typeOf(item)==="instance"||Ember.typeOf(item)==="object");Ember.addBeforeObserver(item,keyName,proxy,"contentKeyWillChange");Ember.addObserver(item,keyName,proxy,"contentKeyDidChange");guid=guidFor(item);if(!objects[guid])objects[guid]=[];objects[guid].push(loc)}}}function removeObserverForContentKey(content,keyName,proxy,idx,loc){var objects=proxy._objects;if(!objects)objects=proxy._objects={};var indicies,guid;while(--loc>=idx){var item=content.objectAt(loc);if(item){Ember.removeBeforeObserver(item,keyName,proxy,"contentKeyWillChange");Ember.removeObserver(item,keyName,proxy,"contentKeyDidChange");guid=guidFor(item);indicies=objects[guid];indicies[indexOf.call(indicies,loc)]=null}}}Ember.EachProxy=Ember.Object.extend({init:function(content){this._super();this._content=content;content.addArrayObserver(this);forEach(Ember.watchedEvents(this),function(eventName){this.didAddListener(eventName)
},this)},unknownProperty:function(keyName,value){var ret;ret=new EachArray(this._content,keyName,this);Ember.defineProperty(this,keyName,null,ret);this.beginObservingContentKey(keyName);return ret},arrayWillChange:function(content,idx,removedCnt,addedCnt){var keys=this._keys,key,lim;lim=removedCnt>0?idx+removedCnt:-1;Ember.beginPropertyChanges(this);for(key in keys){if(!keys.hasOwnProperty(key)){continue}if(lim>0){removeObserverForContentKey(content,key,this,idx,lim)}Ember.propertyWillChange(this,key)}Ember.propertyWillChange(this._content,"@each");Ember.endPropertyChanges(this)},arrayDidChange:function(content,idx,removedCnt,addedCnt){var keys=this._keys,lim;lim=addedCnt>0?idx+addedCnt:-1;Ember.changeProperties(function(){for(var key in keys){if(!keys.hasOwnProperty(key)){continue}if(lim>0){addObserverForContentKey(content,key,this,idx,lim)}Ember.propertyDidChange(this,key)}Ember.propertyDidChange(this._content,"@each")},this)},didAddListener:function(eventName){if(IS_OBSERVER.test(eventName)){this.beginObservingContentKey(eventName.slice(0,-7))}},didRemoveListener:function(eventName){if(IS_OBSERVER.test(eventName)){this.stopObservingContentKey(eventName.slice(0,-7))}},beginObservingContentKey:function(keyName){var keys=this._keys;if(!keys)keys=this._keys={};if(!keys[keyName]){keys[keyName]=1;var content=this._content,len=get(content,"length");addObserverForContentKey(content,keyName,this,0,len)}else{keys[keyName]++}},stopObservingContentKey:function(keyName){var keys=this._keys;if(keys&&keys[keyName]>0&&--keys[keyName]<=0){var content=this._content,len=get(content,"length");removeObserverForContentKey(content,keyName,this,0,len)}},contentKeyWillChange:function(obj,keyName){Ember.propertyWillChange(this,keyName)},contentKeyDidChange:function(obj,keyName){Ember.propertyDidChange(this,keyName)}})})();(function(){var get=Ember.get,set=Ember.set,replace=Ember.EnumerableUtils._replace;var NativeArray=Ember.Mixin.create(Ember.MutableArray,Ember.Observable,Ember.Copyable,{get:function(key){if(key==="length")return this.length;else if("number"===typeof key)return this[key];else return this._super(key)},objectAt:function(idx){return this[idx]},replace:function(idx,amt,objects){if(this.isFrozen)throw Ember.FROZEN_ERROR;var len=objects?get(objects,"length"):0;this.arrayContentWillChange(idx,amt,len);if(len===0){this.splice(idx,amt)}else{replace(this,idx,amt,objects)}this.arrayContentDidChange(idx,amt,len);return this},unknownProperty:function(key,value){var ret;if(value!==undefined&&ret===undefined){ret=this[key]=value}return ret},indexOf:function(object,startAt){var idx,len=this.length;if(startAt===undefined)startAt=0;else startAt=startAt<0?Math.ceil(startAt):Math.floor(startAt);if(startAt<0)startAt+=len;for(idx=startAt;idx<len;idx++){if(this[idx]===object)return idx}return-1},lastIndexOf:function(object,startAt){var idx,len=this.length;if(startAt===undefined)startAt=len-1;else startAt=startAt<0?Math.ceil(startAt):Math.floor(startAt);if(startAt<0)startAt+=len;for(idx=startAt;idx>=0;idx--){if(this[idx]===object)return idx}return-1},copy:function(deep){if(deep){return this.map(function(item){return Ember.copy(item,true)})}return this.slice()}});var ignore=["length"];Ember.EnumerableUtils.forEach(NativeArray.keys(),function(methodName){if(Array.prototype[methodName])ignore.push(methodName)});if(ignore.length>0){NativeArray=NativeArray.without.apply(NativeArray,ignore)}Ember.NativeArray=NativeArray;Ember.A=function(arr){if(arr===undefined){arr=[]}return Ember.Array.detect(arr)?arr:Ember.NativeArray.apply(arr)};Ember.NativeArray.activate=function(){NativeArray.apply(Array.prototype);Ember.A=function(arr){return arr||[]}};if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Array){Ember.NativeArray.activate()}})();(function(){var get=Ember.get,set=Ember.set,guidFor=Ember.guidFor,isNone=Ember.isNone,fmt=Ember.String.fmt;Ember.Set=Ember.CoreObject.extend(Ember.MutableEnumerable,Ember.Copyable,Ember.Freezable,{length:0,clear:function(){if(this.isFrozen){throw new Ember.Error(Ember.FROZEN_ERROR)}var len=get(this,"length");if(len===0){return this}var guid;this.enumerableContentWillChange(len,0);Ember.propertyWillChange(this,"firstObject");Ember.propertyWillChange(this,"lastObject");for(var i=0;i<len;i++){guid=guidFor(this[i]);delete this[guid];delete this[i]}set(this,"length",0);Ember.propertyDidChange(this,"firstObject");Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(len,0);return this},isEqual:function(obj){if(!Ember.Enumerable.detect(obj))return false;var loc=get(this,"length");if(get(obj,"length")!==loc)return false;while(--loc>=0){if(!obj.contains(this[loc]))return false}return true},add:Ember.aliasMethod("addObject"),remove:Ember.aliasMethod("removeObject"),pop:function(){if(get(this,"isFrozen"))throw new Ember.Error(Ember.FROZEN_ERROR);var obj=this.length>0?this[this.length-1]:null;this.remove(obj);return obj},push:Ember.aliasMethod("addObject"),shift:Ember.aliasMethod("pop"),unshift:Ember.aliasMethod("push"),addEach:Ember.aliasMethod("addObjects"),removeEach:Ember.aliasMethod("removeObjects"),init:function(items){this._super();if(items)this.addObjects(items)},nextObject:function(idx){return this[idx]},firstObject:Ember.computed(function(){return this.length>0?this[0]:undefined}),lastObject:Ember.computed(function(){return this.length>0?this[this.length-1]:undefined}),addObject:function(obj){if(get(this,"isFrozen"))throw new Ember.Error(Ember.FROZEN_ERROR);if(isNone(obj))return this;var guid=guidFor(obj),idx=this[guid],len=get(this,"length"),added;if(idx>=0&&idx<len&&this[idx]===obj)return this;added=[obj];this.enumerableContentWillChange(null,added);Ember.propertyWillChange(this,"lastObject");len=get(this,"length");this[guid]=len;this[len]=obj;set(this,"length",len+1);Ember.propertyDidChange(this,"lastObject");this.enumerableContentDidChange(null,added);return this},removeObject:function(obj){if(get(this,"isFrozen"))throw new Ember.Error(Ember.FROZEN_ERROR);if(isNone(obj))return this;var guid=guidFor(obj),idx=this[guid],len=get(this,"length"),isFirst=idx===0,isLast=idx===len-1,last,removed;if(idx>=0&&idx<len&&this[idx]===obj){removed=[obj];this.enumerableContentWillChange(removed,null);if(isFirst){Ember.propertyWillChange(this,"firstObject")}if(isLast){Ember.propertyWillChange(this,"lastObject")}if(idx<len-1){last=this[len-1];this[idx]=last;this[guidFor(last)]=idx}delete this[guid];delete this[len-1];set(this,"length",len-1);if(isFirst){Ember.propertyDidChange(this,"firstObject")}if(isLast){Ember.propertyDidChange(this,"lastObject")}this.enumerableContentDidChange(removed,null)}return this},contains:function(obj){return this[guidFor(obj)]>=0},copy:function(){var C=this.constructor,ret=new C,loc=get(this,"length");set(ret,"length",loc);while(--loc>=0){ret[loc]=this[loc];ret[guidFor(this[loc])]=loc}return ret},toString:function(){var len=this.length,idx,array=[];for(idx=0;idx<len;idx++){array[idx]=this[idx]}return fmt("Ember.Set<%@>",[array.join(",")])}})})();(function(){var DeferredMixin=Ember.DeferredMixin,get=Ember.get;var Deferred=Ember.Object.extend(DeferredMixin);Deferred.reopenClass({promise:function(callback,binding){var deferred=Deferred.create();callback.call(binding,deferred);return deferred}});Ember.Deferred=Deferred})();(function(){var forEach=Ember.ArrayPolyfills.forEach;var loadHooks=Ember.ENV.EMBER_LOAD_HOOKS||{};var loaded={};Ember.onLoad=function(name,callback){var object;loadHooks[name]=loadHooks[name]||Ember.A();loadHooks[name].pushObject(callback);if(object=loaded[name]){callback(object)}};Ember.runLoadHooks=function(name,object){loaded[name]=object;if(typeof window==="object"&&typeof window.dispatchEvent==="function"&&typeof CustomEvent==="function"){var event=new CustomEvent(name,{detail:object,name:name});window.dispatchEvent(event)}if(loadHooks[name]){forEach.call(loadHooks[name],function(callback){callback(object)})}}})();(function(){})();(function(){var get=Ember.get;Ember.ControllerMixin=Ember.Mixin.create(Ember.ActionHandler,{isController:true,target:null,container:null,parentController:null,store:null,model:Ember.computed.alias("content"),deprecatedSendHandles:function(actionName){return!!this[actionName]},deprecatedSend:function(actionName){var args=[].slice.call(arguments,1);Ember.assert(""+this+" has the action "+actionName+" but it is not a function",typeof this[actionName]==="function");Ember.deprecate("Action handlers implemented directly on controllers are deprecated in favor of action handlers on an `actions` object ( action: `"+actionName+"` on "+this+")",false);this[actionName].apply(this,args);return}});Ember.Controller=Ember.Object.extend(Ember.ControllerMixin)})();(function(){var get=Ember.get,set=Ember.set,forEach=Ember.EnumerableUtils.forEach;Ember.SortableMixin=Ember.Mixin.create(Ember.MutableEnumerable,{sortProperties:null,sortAscending:true,sortFunction:Ember.compare,orderBy:function(item1,item2){var result=0,sortProperties=get(this,"sortProperties"),sortAscending=get(this,"sortAscending"),sortFunction=get(this,"sortFunction");Ember.assert("you need to define `sortProperties`",!!sortProperties);forEach(sortProperties,function(propertyName){if(result===0){result=sortFunction(get(item1,propertyName),get(item2,propertyName));if(result!==0&&!sortAscending){result=-1*result}}});return result},destroy:function(){var content=get(this,"content"),sortProperties=get(this,"sortProperties");if(content&&sortProperties){forEach(content,function(item){forEach(sortProperties,function(sortProperty){Ember.removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super()},isSorted:Ember.computed.bool("sortProperties"),arrangedContent:Ember.computed("content","sortProperties.@each",function(key,value){var content=get(this,"content"),isSorted=get(this,"isSorted"),sortProperties=get(this,"sortProperties"),self=this;if(content&&isSorted){content=content.slice();content.sort(function(item1,item2){return self.orderBy(item1,item2)});forEach(content,function(item){forEach(sortProperties,function(sortProperty){Ember.addObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this);return Ember.A(content)}return content}),_contentWillChange:Ember.beforeObserver("content",function(){var content=get(this,"content"),sortProperties=get(this,"sortProperties");if(content&&sortProperties){forEach(content,function(item){forEach(sortProperties,function(sortProperty){Ember.removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}this._super()}),sortAscendingWillChange:Ember.beforeObserver("sortAscending",function(){this._lastSortAscending=get(this,"sortAscending")}),sortAscendingDidChange:Ember.observer("sortAscending",function(){if(get(this,"sortAscending")!==this._lastSortAscending){var arrangedContent=get(this,"arrangedContent");arrangedContent.reverseObjects()}}),contentArrayWillChange:function(array,idx,removedCount,addedCount){var isSorted=get(this,"isSorted");if(isSorted){var arrangedContent=get(this,"arrangedContent");var removedObjects=array.slice(idx,idx+removedCount);var sortProperties=get(this,"sortProperties");forEach(removedObjects,function(item){arrangedContent.removeObject(item);forEach(sortProperties,function(sortProperty){Ember.removeObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(array,idx,removedCount,addedCount)},contentArrayDidChange:function(array,idx,removedCount,addedCount){var isSorted=get(this,"isSorted"),sortProperties=get(this,"sortProperties");if(isSorted){var addedObjects=array.slice(idx,idx+addedCount);forEach(addedObjects,function(item){this.insertItemSorted(item);forEach(sortProperties,function(sortProperty){Ember.addObserver(item,sortProperty,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(array,idx,removedCount,addedCount)},insertItemSorted:function(item){var arrangedContent=get(this,"arrangedContent");var length=get(arrangedContent,"length");var idx=this._binarySearch(item,0,length);arrangedContent.insertAt(idx,item)},contentItemSortPropertyDidChange:function(item){var arrangedContent=get(this,"arrangedContent"),oldIndex=arrangedContent.indexOf(item),leftItem=arrangedContent.objectAt(oldIndex-1),rightItem=arrangedContent.objectAt(oldIndex+1),leftResult=leftItem&&this.orderBy(item,leftItem),rightResult=rightItem&&this.orderBy(item,rightItem);if(leftResult<0||rightResult>0){arrangedContent.removeObject(item);this.insertItemSorted(item)}},_binarySearch:function(item,low,high){var mid,midItem,res,arrangedContent;if(low===high){return low}arrangedContent=get(this,"arrangedContent");mid=low+Math.floor((high-low)/2);midItem=arrangedContent.objectAt(mid);res=this.orderBy(midItem,item);if(res<0){return this._binarySearch(item,mid+1,high)}else if(res>0){return this._binarySearch(item,low,mid)}return mid}})})();(function(){var get=Ember.get,set=Ember.set,forEach=Ember.EnumerableUtils.forEach,replace=Ember.EnumerableUtils.replace;Ember.ArrayController=Ember.ArrayProxy.extend(Ember.ControllerMixin,Ember.SortableMixin,{itemController:null,lookupItemController:function(object){return get(this,"itemController")},objectAtContent:function(idx){var length=get(this,"length"),arrangedContent=get(this,"arrangedContent"),object=arrangedContent&&arrangedContent.objectAt(idx);if(idx>=0&&idx<length){var controllerClass=this.lookupItemController(object);if(controllerClass){return this.controllerAt(idx,object,controllerClass)}}return object},arrangedContentDidChange:function(){this._super();this._resetSubControllers()},arrayContentDidChange:function(idx,removedCnt,addedCnt){var subControllers=get(this,"_subControllers"),subControllersToRemove=subControllers.slice(idx,idx+removedCnt);forEach(subControllersToRemove,function(subController){if(subController){subController.destroy()}});replace(subControllers,idx,removedCnt,new Array(addedCnt));this._super(idx,removedCnt,addedCnt)},init:function(){this._super();this.set("_subControllers",Ember.A())},content:Ember.computed(function(){return Ember.A()}),_isVirtual:false,controllerAt:function(idx,object,controllerClass){var container=get(this,"container"),subControllers=get(this,"_subControllers"),subController=subControllers[idx],fullName;if(subController){return subController}fullName="controller:"+controllerClass;if(!container.has(fullName)){throw new Ember.Error('Could not resolve itemController: "'+controllerClass+'"')}var parentController;if(this._isVirtual){parentController=get(this,"parentController")}parentController=parentController||this;subController=container.lookupFactory(fullName).create({target:this,parentController:parentController,content:object});subControllers[idx]=subController;return subController},_subControllers:null,_resetSubControllers:function(){var subControllers=get(this,"_subControllers");if(subControllers){forEach(subControllers,function(subController){if(subController){subController.destroy()}})}this.set("_subControllers",Ember.A())}})})();(function(){Ember.ObjectController=Ember.ObjectProxy.extend(Ember.ControllerMixin)})();(function(){})();(function(){})();(function(){var jQuery=Ember.imports&&Ember.imports.jQuery||this&&this.jQuery;if(!jQuery&&typeof require==="function"){jQuery=require("jquery")}Ember.assert("Ember Views require jQuery between 1.7 and 2.1",jQuery&&(jQuery().jquery.match(/^((1\.(7|8|9|10|11))|(2\.(0|1)))(\.\d+)?(pre|rc\d?)?/)||Ember.ENV.FORCE_JQUERY));Ember.$=jQuery})();(function(){if(Ember.$){var dragEvents=Ember.String.w("dragstart drag dragenter dragleave dragover drop dragend");Ember.EnumerableUtils.forEach(dragEvents,function(eventName){Ember.$.event.fixHooks[eventName]={props:["dataTransfer"]}})}})();(function(){var needsShy=typeof document!=="undefined"&&function(){var testEl=document.createElement("div");testEl.innerHTML="<div></div>";testEl.firstChild.innerHTML="<script></script>";return testEl.firstChild.innerHTML===""}();var movesWhitespace=typeof document!=="undefined"&&function(){var testEl=document.createElement("div");testEl.innerHTML="Test: <script type='text/x-placeholder'></script>Value";return testEl.childNodes[0].nodeValue==="Test:"&&testEl.childNodes[2].nodeValue===" Value"}();var findChildById=function(element,id){if(element.getAttribute("id")===id){return element}var len=element.childNodes.length,idx,node,found;for(idx=0;idx<len;idx++){node=element.childNodes[idx];found=node.nodeType===1&&findChildById(node,id);if(found){return found}}};var setInnerHTMLWithoutFix=function(element,html){if(needsShy){html="&shy;"+html}var matches=[];if(movesWhitespace){html=html.replace(/(\s+)(<script id='([^']+)')/g,function(match,spaces,tag,id){matches.push([id,spaces]);return tag})}element.innerHTML=html;if(matches.length>0){var len=matches.length,idx;for(idx=0;idx<len;idx++){var script=findChildById(element,matches[idx][0]),node=document.createTextNode(matches[idx][1]);script.parentNode.insertBefore(node,script)}}if(needsShy){var shyElement=element.firstChild;while(shyElement.nodeType===1&&!shyElement.nodeName){shyElement=shyElement.firstChild}if(shyElement.nodeType===3&&shyElement.nodeValue.charAt(0)==="­"){shyElement.nodeValue=shyElement.nodeValue.slice(1)}}};var innerHTMLTags={};var canSetInnerHTML=function(tagName){if(innerHTMLTags[tagName]!==undefined){return innerHTMLTags[tagName]}var canSet=true;if(tagName.toLowerCase()==="select"){var el=document.createElement("select");setInnerHTMLWithoutFix(el,'<option value="test">Test</option>');canSet=el.options.length===1}innerHTMLTags[tagName]=canSet;return canSet};var setInnerHTML=function(element,html){var tagName=element.tagName;if(canSetInnerHTML(tagName)){setInnerHTMLWithoutFix(element,html)}else{var outerHTML=element.outerHTML||(new XMLSerializer).serializeToString(element);Ember.assert("Can't set innerHTML on "+element.tagName+" in this browser",outerHTML);var startTag=outerHTML.match(new RegExp("<"+tagName+"([^>]*)>","i"))[0],endTag="</"+tagName+">";var wrapper=document.createElement("div");setInnerHTMLWithoutFix(wrapper,startTag+html+endTag);element=wrapper.firstChild;while(element.tagName!==tagName){element=element.nextSibling}}return element};function isSimpleClick(event){var modifier=event.shiftKey||event.metaKey||event.altKey||event.ctrlKey,secondaryClick=event.which>1;return!modifier&&!secondaryClick}Ember.ViewUtils={setInnerHTML:setInnerHTML,isSimpleClick:isSimpleClick}})();(function(){var get=Ember.get,set=Ember.set;var ClassSet=function(){this.seen={};this.list=[]};ClassSet.prototype={add:function(string){if(string in this.seen){return}this.seen[string]=true;this.list.push(string)},toDOM:function(){return this.list.join(" ")}};var BAD_TAG_NAME_TEST_REGEXP=/[^a-zA-Z0-9\-]/;var BAD_TAG_NAME_REPLACE_REGEXP=/[^a-zA-Z0-9\-]/g;function stripTagName(tagName){if(!tagName){return tagName}if(!BAD_TAG_NAME_TEST_REGEXP.test(tagName)){return tagName}return tagName.replace(BAD_TAG_NAME_REPLACE_REGEXP,"")}var BAD_CHARS_REGEXP=/&(?!\w+;)|[<>"'`]/g;var POSSIBLE_CHARS_REGEXP=/[&<>"'`]/;function escapeAttribute(value){var escape={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var escapeChar=function(chr){return escape[chr]||"&amp;"};var string=value.toString();if(!POSSIBLE_CHARS_REGEXP.test(string)){return string}return string.replace(BAD_CHARS_REGEXP,escapeChar)}var canSetNameOnInputs=function(){var div=document.createElement("div"),el=document.createElement("input");el.setAttribute("name","foo");div.appendChild(el);return!!div.innerHTML.match("foo")}();Ember.RenderBuffer=function(tagName){return new Ember._RenderBuffer(tagName)};Ember._RenderBuffer=function(tagName){this.tagNames=[tagName||null];this.buffer=""};Ember._RenderBuffer.prototype={_element:null,_hasElement:true,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,parentBuffer:null,push:function(string){this.buffer+=string;return this},addClass:function(className){this.elementClasses=this.elementClasses||new ClassSet;this.elementClasses.add(className);this.classes=this.elementClasses.list;return this},setClasses:function(classNames){this.elementClasses=null;var len=classNames.length,i;for(i=0;i<len;i++){this.addClass(classNames[i])}},id:function(id){this.elementId=id;return this},attr:function(name,value){var attributes=this.elementAttributes=this.elementAttributes||{};if(arguments.length===1){return attributes[name]}else{attributes[name]=value}return this},removeAttr:function(name){var attributes=this.elementAttributes;if(attributes){delete attributes[name]}return this},prop:function(name,value){var properties=this.elementProperties=this.elementProperties||{};if(arguments.length===1){return properties[name]}else{properties[name]=value}return this},removeProp:function(name){var properties=this.elementProperties;if(properties){delete properties[name]}return this},style:function(name,value){this.elementStyle=this.elementStyle||{};this.elementStyle[name]=value;return this},begin:function(tagName){this.tagNames.push(tagName||null);return this},pushOpeningTag:function(){var tagName=this.currentTagName();if(!tagName){return}if(this._hasElement&&!this._element&&this.buffer.length===0){this._element=this.generateElement();return}var buffer=this.buffer,id=this.elementId,classes=this.classes,attrs=this.elementAttributes,props=this.elementProperties,style=this.elementStyle,attr,prop;buffer+="<"+stripTagName(tagName);if(id){buffer+=' id="'+escapeAttribute(id)+'"';this.elementId=null}if(classes){buffer+=' class="'+escapeAttribute(classes.join(" "))+'"';this.classes=null;this.elementClasses=null}if(style){buffer+=' style="';for(prop in style){if(style.hasOwnProperty(prop)){buffer+=prop+":"+escapeAttribute(style[prop])+";"}}buffer+='"';this.elementStyle=null}if(attrs){for(attr in attrs){if(attrs.hasOwnProperty(attr)){buffer+=" "+attr+'="'+escapeAttribute(attrs[attr])+'"'}}this.elementAttributes=null}if(props){for(prop in props){if(props.hasOwnProperty(prop)){var value=props[prop];if(value||typeof value==="number"){if(value===true){buffer+=" "+prop+'="'+prop+'"'}else{buffer+=" "+prop+'="'+escapeAttribute(props[prop])+'"'}}}}this.elementProperties=null}buffer+=">";this.buffer=buffer},pushClosingTag:function(){var tagName=this.tagNames.pop();if(tagName){this.buffer+="</"+stripTagName(tagName)+">"}},currentTagName:function(){return this.tagNames[this.tagNames.length-1]},generateElement:function(){var tagName=this.tagNames.pop(),id=this.elementId,classes=this.classes,attrs=this.elementAttributes,props=this.elementProperties,style=this.elementStyle,styleBuffer="",attr,prop,tagString;if(attrs&&attrs.name&&!canSetNameOnInputs){tagString="<"+stripTagName(tagName)+' name="'+escapeAttribute(attrs.name)+'">'}else{tagString=tagName}var element=document.createElement(tagString),$element=Ember.$(element);if(id){$element.attr("id",id);this.elementId=null}if(classes){$element.attr("class",classes.join(" "));this.classes=null;this.elementClasses=null}if(style){for(prop in style){if(style.hasOwnProperty(prop)){styleBuffer+=prop+":"+style[prop]+";"}}$element.attr("style",styleBuffer);this.elementStyle=null}if(attrs){for(attr in attrs){if(attrs.hasOwnProperty(attr)){$element.attr(attr,attrs[attr])}}this.elementAttributes=null}if(props){for(prop in props){if(props.hasOwnProperty(prop)){$element.prop(prop,props[prop])}}this.elementProperties=null}return element},element:function(){var html=this.innerString();if(html){this._element=Ember.ViewUtils.setInnerHTML(this._element,html)}return this._element},string:function(){if(this._hasElement&&this._element){var thisElement=this.element(),outerHTML=thisElement.outerHTML;if(typeof outerHTML==="undefined"){return Ember.$("<div/>").append(thisElement).html()}return outerHTML}else{return this.innerString()}},innerString:function(){return this.buffer}}})();(function(){var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt;Ember.EventDispatcher=Ember.Object.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",setup:function(addedEvents,rootElement){var event,events=get(this,"events");Ember.$.extend(events,addedEvents||{});if(!Ember.isNone(rootElement)){set(this,"rootElement",rootElement)}rootElement=Ember.$(get(this,"rootElement"));Ember.assert(fmt("You cannot use the same root element (%@) multiple times in an Ember.Application",[rootElement.selector||rootElement[0].tagName]),!rootElement.is(".ember-application"));Ember.assert("You cannot make a new Ember.Application using a root element that is a descendent of an existing Ember.Application",!rootElement.closest(".ember-application").length);Ember.assert("You cannot make a new Ember.Application using a root element that is an ancestor of an existing Ember.Application",!rootElement.find(".ember-application").length);rootElement.addClass("ember-application");Ember.assert('Unable to add "ember-application" class to rootElement. Make sure you set rootElement to the body or an element in the body.',rootElement.is(".ember-application"));for(event in events){if(events.hasOwnProperty(event)){this.setupHandler(rootElement,event,events[event])}}},setupHandler:function(rootElement,event,eventName){var self=this;rootElement.on(event+".ember",".ember-view",function(evt,triggeringManager){var view=Ember.View.views[this.id],result=true,manager=null;manager=self._findNearestEventManager(view,eventName);if(manager&&manager!==triggeringManager){result=self._dispatchEvent(manager,evt,eventName,view)}else if(view){result=self._bubbleEvent(view,evt,eventName)}else{evt.stopPropagation()}return result});rootElement.on(event+".ember","[data-ember-action]",function(evt){var actionId=Ember.$(evt.currentTarget).attr("data-ember-action"),action=Ember.Handlebars.ActionHelper.registeredActions[actionId];if(action&&action.eventName===eventName){return action.handler(evt)}})},_findNearestEventManager:function(view,eventName){var manager=null;while(view){manager=get(view,"eventManager");if(manager&&manager[eventName]){break}view=get(view,"parentView")}return manager},_dispatchEvent:function(object,evt,eventName,view){var result=true;var handler=object[eventName];if(Ember.typeOf(handler)==="function"){result=Ember.run(object,handler,evt,view);evt.stopPropagation()}else{result=this._bubbleEvent(view,evt,eventName)}return result},_bubbleEvent:function(view,evt,eventName){return Ember.run(view,view.handleEvent,eventName,evt)},destroy:function(){var rootElement=get(this,"rootElement");Ember.$(rootElement).off(".ember","**").removeClass("ember-application");return this._super()}})})();(function(){var queues=Ember.run.queues,indexOf=Ember.ArrayPolyfills.indexOf;queues.splice(indexOf.call(queues,"actions")+1,0,"render","afterRender")})();(function(){})();(function(){var states={};var get=Ember.get,set=Ember.set,guidFor=Ember.guidFor,a_forEach=Ember.EnumerableUtils.forEach,a_addObject=Ember.EnumerableUtils.addObject,meta=Ember.meta,defineProperty=Ember.defineProperty;function nullViewsBuffer(view){view.buffer=null}var childViewsProperty=Ember.computed(function(){var childViews=this._childViews,ret=Ember.A(),view=this;a_forEach(childViews,function(view){var currentChildViews;if(view.isVirtual){if(currentChildViews=get(view,"childViews")){ret.pushObjects(currentChildViews)}}else{ret.push(view)}});ret.replace=function(idx,removedCount,addedViews){if(view instanceof Ember.ContainerView){Ember.deprecate("Manipulating an Ember.ContainerView through its childViews property is deprecated. Please use the ContainerView instance itself as an Ember.MutableArray.");return view.replace(idx,removedCount,addedViews)}throw new Ember.Error("childViews is immutable")};return ret});Ember.warn("The VIEW_PRESERVES_CONTEXT flag has been removed and the functionality can no longer be disabled.",Ember.ENV.VIEW_PRESERVES_CONTEXT!==false);Ember.TEMPLATES={};Ember.CoreView=Ember.Object.extend(Ember.Evented,Ember.ActionHandler,{isView:true,states:states,init:function(){this._super();this.transitionTo("preRender");this._isVisible=get(this,"isVisible")},parentView:Ember.computed("_parentView",function(){var parent=this._parentView;if(parent&&parent.isVirtual){return get(parent,"parentView")}else{return parent}}),state:null,_parentView:null,concreteView:Ember.computed("parentView",function(){if(!this.isVirtual){return this}else{return get(this,"parentView")}}),instrumentName:"core_view",instrumentDetails:function(hash){hash.object=this.toString()},renderToBuffer:function(parentBuffer,bufferOperation){var name="render."+this.instrumentName,details={};this.instrumentDetails(details);return Ember.instrument(name,details,function instrumentRenderToBuffer(){return this._renderToBuffer(parentBuffer,bufferOperation)},this)},_renderToBuffer:function(parentBuffer,bufferOperation){var tagName=this.tagName;if(tagName===null||tagName===undefined){tagName="div"}var buffer=this.buffer=parentBuffer&&parentBuffer.begin(tagName)||Ember.RenderBuffer(tagName);this.transitionTo("inBuffer",false);this.beforeRender(buffer);this.render(buffer);this.afterRender(buffer);return buffer},trigger:function(name){this._super.apply(this,arguments);var method=this[name];if(method){var args=[],i,l;for(i=1,l=arguments.length;i<l;i++){args.push(arguments[i])}return method.apply(this,args)}},deprecatedSendHandles:function(actionName){return!!this[actionName]},deprecatedSend:function(actionName){var args=[].slice.call(arguments,1);Ember.assert(""+this+" has the action "+actionName+" but it is not a function",typeof this[actionName]==="function");Ember.deprecate("Action handlers implemented directly on views are deprecated in favor of action handlers on an `actions` object ( action: `"+actionName+"` on "+this+")",false);this[actionName].apply(this,args);return},has:function(name){return Ember.typeOf(this[name])==="function"||this._super(name)},destroy:function(){var parent=this._parentView;if(!this._super()){return}if(!this.removedFromDOM){this.destroyElement()}if(parent){parent.removeChild(this)}this.transitionTo("destroying",false);return this},clearRenderedChildren:Ember.K,triggerRecursively:Ember.K,invokeRecursively:Ember.K,transitionTo:Ember.K,destroyElement:Ember.K});var ViewCollection=Ember._ViewCollection=function(initialViews){var views=this.views=initialViews||[];this.length=views.length};ViewCollection.prototype={length:0,trigger:function(eventName){var views=this.views,view;for(var i=0,l=views.length;i<l;i++){view=views[i];if(view.trigger){view.trigger(eventName)}}},triggerRecursively:function(eventName){var views=this.views;for(var i=0,l=views.length;i<l;i++){views[i].triggerRecursively(eventName)}},invokeRecursively:function(fn){var views=this.views,view;for(var i=0,l=views.length;i<l;i++){view=views[i];fn(view)}},transitionTo:function(state,children){var views=this.views;for(var i=0,l=views.length;i<l;i++){views[i].transitionTo(state,children)}},push:function(){this.length+=arguments.length;var views=this.views;return views.push.apply(views,arguments)},objectAt:function(idx){return this.views[idx]},forEach:function(callback){var views=this.views;return a_forEach(views,callback)},clear:function(){this.length=0;this.views.length=0}};var EMPTY_ARRAY=[];Ember.View=Ember.CoreView.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:true,templateName:null,layoutName:null,template:Ember.computed("templateName",function(key,value){if(value!==undefined){return value}var templateName=get(this,"templateName"),template=this.templateForName(templateName,"template");Ember.assert("You specified the templateName "+templateName+" for "+this+", but it did not exist.",!templateName||template);
return template||get(this,"defaultTemplate")}),controller:Ember.computed("_parentView",function(key){var parentView=get(this,"_parentView");return parentView?get(parentView,"controller"):null}),layout:Ember.computed(function(key){var layoutName=get(this,"layoutName"),layout=this.templateForName(layoutName,"layout");Ember.assert("You specified the layoutName "+layoutName+" for "+this+", but it did not exist.",!layoutName||layout);return layout||get(this,"defaultLayout")}).property("layoutName"),_yield:function(context,options){var template=get(this,"template");if(template){template(context,options)}},templateForName:function(name,type){if(!name){return}Ember.assert("templateNames are not allowed to contain periods: "+name,name.indexOf(".")===-1);var container=this.container||Ember.Container&&Ember.Container.defaultContainer;return container&&container.lookup("template:"+name)},context:Ember.computed(function(key,value){if(arguments.length===2){set(this,"_context",value);return value}else{return get(this,"_context")}}).volatile(),_context:Ember.computed(function(key){var parentView,controller;if(controller=get(this,"controller")){return controller}parentView=this._parentView;if(parentView){return get(parentView,"_context")}return null}),_contextDidChange:Ember.observer("context",function(){this.rerender()}),isVisible:true,childViews:childViewsProperty,_childViews:EMPTY_ARRAY,_childViewsWillChange:Ember.beforeObserver("childViews",function(){if(this.isVirtual){var parentView=get(this,"parentView");if(parentView){Ember.propertyWillChange(parentView,"childViews")}}}),_childViewsDidChange:Ember.observer("childViews",function(){if(this.isVirtual){var parentView=get(this,"parentView");if(parentView){Ember.propertyDidChange(parentView,"childViews")}}}),nearestInstanceOf:function(klass){Ember.deprecate("nearestInstanceOf is deprecated and will be removed from future releases. Use nearestOfType.");var view=get(this,"parentView");while(view){if(view instanceof klass){return view}view=get(view,"parentView")}},nearestOfType:function(klass){var view=get(this,"parentView"),isOfType=klass instanceof Ember.Mixin?function(view){return klass.detect(view)}:function(view){return klass.detect(view.constructor)};while(view){if(isOfType(view)){return view}view=get(view,"parentView")}},nearestWithProperty:function(property){var view=get(this,"parentView");while(view){if(property in view){return view}view=get(view,"parentView")}},nearestChildOf:function(klass){var view=get(this,"parentView");while(view){if(get(view,"parentView")instanceof klass){return view}view=get(view,"parentView")}},_parentViewDidChange:Ember.observer("_parentView",function(){if(this.isDestroying){return}this.trigger("parentViewDidChange");if(get(this,"parentView.controller")&&!get(this,"controller")){this.notifyPropertyChange("controller")}}),_controllerDidChange:Ember.observer("controller",function(){if(this.isDestroying){return}this.rerender();this.forEachChildView(function(view){view.propertyDidChange("controller")})}),cloneKeywords:function(){var templateData=get(this,"templateData");var keywords=templateData?Ember.copy(templateData.keywords):{};set(keywords,"view",get(this,"concreteView"));set(keywords,"_view",this);set(keywords,"controller",get(this,"controller"));return keywords},render:function(buffer){var template=get(this,"layout")||get(this,"template");if(template){var context=get(this,"context");var keywords=this.cloneKeywords();var output;var data={view:this,buffer:buffer,isRenderData:true,keywords:keywords,insideGroup:get(this,"templateData.insideGroup")};Ember.assert('template must be a function. Did you mean to call Ember.Handlebars.compile("...") or specify templateName instead?',typeof template==="function");output=template(context,{data:data});if(output!==undefined){buffer.push(output)}}},rerender:function(){return this.currentState.rerender(this)},clearRenderedChildren:function(){var lengthBefore=this.lengthBeforeRender,lengthAfter=this.lengthAfterRender;var childViews=this._childViews;for(var i=lengthAfter-1;i>=lengthBefore;i--){if(childViews[i]){childViews[i].destroy()}}},_applyClassNameBindings:function(classBindings){var classNames=this.classNames,elem,newClass,dasherizedClass;a_forEach(classBindings,function(binding){Ember.assert("classNameBindings must not have spaces in them. Multiple class name bindings can be provided as elements of an array, e.g. ['foo', ':bar']",binding.indexOf(" ")===-1);var oldClass;var parsedPath=Ember.View._parsePropertyPath(binding);var observer=function(){newClass=this._classStringForProperty(binding);elem=this.$();if(oldClass){elem.removeClass(oldClass);classNames.removeObject(oldClass)}if(newClass){elem.addClass(newClass);oldClass=newClass}else{oldClass=null}};dasherizedClass=this._classStringForProperty(binding);if(dasherizedClass){a_addObject(classNames,dasherizedClass);oldClass=dasherizedClass}this.registerObserver(this,parsedPath.path,observer);this.one("willClearRender",function(){if(oldClass){classNames.removeObject(oldClass);oldClass=null}})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(buffer,attributeBindings){var attributeValue,unspecifiedAttributeBindings=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};a_forEach(attributeBindings,function(binding){var split=binding.split(":"),property=split[0],attributeName=split[1]||property;if(property in this){this._setupAttributeBindingObservation(property,attributeName);attributeValue=get(this,property);Ember.View.applyAttributeBindings(buffer,attributeName,attributeValue)}else{unspecifiedAttributeBindings[property]=attributeName}},this);this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(property,attributeName){var attributeValue,elem;var observer=function(){elem=this.$();attributeValue=get(this,property);Ember.View.applyAttributeBindings(elem,attributeName,attributeValue)};this.registerObserver(this,property,observer)},setUnknownProperty:null,_setUnknownProperty:function(key,value){var attributeName=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[key];if(attributeName){this._setupAttributeBindingObservation(key,attributeName)}defineProperty(this,key);return set(this,key,value)},_classStringForProperty:function(property){var parsedPath=Ember.View._parsePropertyPath(property);var path=parsedPath.path;var val=get(this,path);if(val===undefined&&Ember.isGlobalPath(path)){val=get(Ember.lookup,path)}return Ember.View._classStringForValue(path,val,parsedPath.className,parsedPath.falsyClassName)},element:Ember.computed("_parentView",function(key,value){if(value!==undefined){return this.currentState.setElement(this,value)}else{return this.currentState.getElement(this)}}),$:function(sel){return this.currentState.$(this,sel)},mutateChildViews:function(callback){var childViews=this._childViews,idx=childViews.length,view;while(--idx>=0){view=childViews[idx];callback(this,view,idx)}return this},forEachChildView:function(callback){var childViews=this._childViews;if(!childViews){return this}var len=childViews.length,view,idx;for(idx=0;idx<len;idx++){view=childViews[idx];callback(view)}return this},appendTo:function(target){this._insertElementLater(function(){Ember.assert("You tried to append to ("+target+") but that isn't in the DOM",Ember.$(target).length>0);Ember.assert("You cannot append to an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(target).is(".ember-view")&&!Ember.$(target).parents().is(".ember-view"));this.$().appendTo(target)});return this},replaceIn:function(target){Ember.assert("You tried to replace in ("+target+") but that isn't in the DOM",Ember.$(target).length>0);Ember.assert("You cannot replace an existing Ember.View. Consider using Ember.ContainerView instead.",!Ember.$(target).is(".ember-view")&&!Ember.$(target).parents().is(".ember-view"));this._insertElementLater(function(){Ember.$(target).empty();this.$().appendTo(target)});return this},_insertElementLater:function(fn){this._scheduledInsert=Ember.run.scheduleOnce("render",this,"_insertElement",fn)},_insertElement:function(fn){this._scheduledInsert=null;this.currentState.insertElement(this,fn)},append:function(){return this.appendTo(document.body)},remove:function(){if(!this.removedFromDOM){this.destroyElement()}this.invokeRecursively(function(view){if(view.clearRenderedChildren){view.clearRenderedChildren()}})},elementId:null,findElementInParentElement:function(parentElem){var id="#"+this.elementId;return Ember.$(id)[0]||Ember.$(id,parentElem)[0]},createElement:function(){if(get(this,"element")){return this}var buffer=this.renderToBuffer();set(this,"element",buffer.element());return this},willInsertElement:Ember.K,didInsertElement:Ember.K,willClearRender:Ember.K,invokeRecursively:function(fn,includeSelf){var childViews=includeSelf===false?this._childViews:[this];var currentViews,view,currentChildViews;while(childViews.length){currentViews=childViews.slice();childViews=[];for(var i=0,l=currentViews.length;i<l;i++){view=currentViews[i];currentChildViews=view._childViews?view._childViews.slice(0):null;fn(view);if(currentChildViews){childViews.push.apply(childViews,currentChildViews)}}}},triggerRecursively:function(eventName){var childViews=[this],currentViews,view,currentChildViews;while(childViews.length){currentViews=childViews.slice();childViews=[];for(var i=0,l=currentViews.length;i<l;i++){view=currentViews[i];currentChildViews=view._childViews?view._childViews.slice(0):null;if(view.trigger){view.trigger(eventName)}if(currentChildViews){childViews.push.apply(childViews,currentChildViews)}}}},viewHierarchyCollection:function(){var currentView,viewCollection=new ViewCollection([this]);for(var i=0;i<viewCollection.length;i++){currentView=viewCollection.objectAt(i);if(currentView._childViews){viewCollection.push.apply(viewCollection,currentView._childViews)}}return viewCollection},destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:Ember.K,_notifyWillDestroyElement:function(){var viewCollection=this.viewHierarchyCollection();viewCollection.trigger("willClearRender");viewCollection.trigger("willDestroyElement");return viewCollection},_elementDidChange:Ember.observer("element",function(){this.forEachChildView(function(view){delete meta(view).cache.element})}),parentViewDidChange:Ember.K,instrumentName:"view",instrumentDetails:function(hash){hash.template=get(this,"templateName");this._super(hash)},_renderToBuffer:function(parentBuffer,bufferOperation){this.lengthBeforeRender=this._childViews.length;var buffer=this._super(parentBuffer,bufferOperation);this.lengthAfterRender=this._childViews.length;return buffer},renderToBufferIfNeeded:function(buffer){return this.currentState.renderToBufferIfNeeded(this,buffer)},beforeRender:function(buffer){this.applyAttributesToBuffer(buffer);buffer.pushOpeningTag()},afterRender:function(buffer){buffer.pushClosingTag()},applyAttributesToBuffer:function(buffer){var classNameBindings=get(this,"classNameBindings");if(classNameBindings.length){this._applyClassNameBindings(classNameBindings)}var attributeBindings=get(this,"attributeBindings");if(attributeBindings.length){this._applyAttributeBindings(buffer,attributeBindings)}buffer.setClasses(this.classNames);buffer.id(this.elementId);var role=get(this,"ariaRole");if(role){buffer.attr("role",role)}if(get(this,"isVisible")===false){buffer.style("display","none")}},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:EMPTY_ARRAY,attributeBindings:EMPTY_ARRAY,init:function(){this.elementId=this.elementId||guidFor(this);this._super();this._childViews=this._childViews.slice();Ember.assert("Only arrays are allowed for 'classNameBindings'",Ember.typeOf(this.classNameBindings)==="array");this.classNameBindings=Ember.A(this.classNameBindings.slice());Ember.assert("Only arrays are allowed for 'classNames'",Ember.typeOf(this.classNames)==="array");this.classNames=Ember.A(this.classNames.slice())},appendChild:function(view,options){return this.currentState.appendChild(this,view,options)},removeChild:function(view){if(this.isDestroying){return}set(view,"_parentView",null);var childViews=this._childViews;Ember.EnumerableUtils.removeObject(childViews,view);this.propertyDidChange("childViews");return this},removeAllChildren:function(){return this.mutateChildViews(function(parentView,view){parentView.removeChild(view)})},destroyAllChildren:function(){return this.mutateChildViews(function(parentView,view){view.destroy()})},removeFromParent:function(){var parent=this._parentView;this.remove();if(parent){parent.removeChild(this)}return this},destroy:function(){var childViews=this._childViews,nonVirtualParentView=get(this,"parentView"),viewName=this.viewName,childLen,i;if(!this._super()){return}childLen=childViews.length;for(i=childLen-1;i>=0;i--){childViews[i].removedFromDOM=true}if(viewName&&nonVirtualParentView){nonVirtualParentView.set(viewName,null)}childLen=childViews.length;for(i=childLen-1;i>=0;i--){childViews[i].destroy()}return this},createChildView:function(view,attrs){if(!view){throw new TypeError("createChildViews first argument must exist")}if(view.isView&&view._parentView===this&&view.container===this.container){return view}attrs=attrs||{};attrs._parentView=this;if(Ember.CoreView.detect(view)){attrs.templateData=attrs.templateData||get(this,"templateData");attrs.container=this.container;view=view.create(attrs);if(view.viewName){set(get(this,"concreteView"),view.viewName,view)}}else if("string"===typeof view){var fullName="view:"+view;var View=this.container.lookupFactory(fullName);Ember.assert("Could not find view: '"+fullName+"'",!!View);attrs.templateData=get(this,"templateData");view=View.create(attrs)}else{Ember.assert("You must pass instance or subclass of View",view.isView);attrs.container=this.container;if(!get(view,"templateData")){attrs.templateData=get(this,"templateData")}Ember.setProperties(view,attrs)}return view},becameVisible:Ember.K,becameHidden:Ember.K,_isVisibleDidChange:Ember.observer("isVisible",function(){if(this._isVisible===get(this,"isVisible")){return}Ember.run.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var $el=this.$();if(!$el){return}var isVisible=get(this,"isVisible");if(this._isVisible===isVisible){return}$el.toggle(isVisible);this._isVisible=isVisible;if(this._isAncestorHidden()){return}if(isVisible){this._notifyBecameVisible()}else{this._notifyBecameHidden()}},_notifyBecameVisible:function(){this.trigger("becameVisible");this.forEachChildView(function(view){var isVisible=get(view,"isVisible");if(isVisible||isVisible===null){view._notifyBecameVisible()}})},_notifyBecameHidden:function(){this.trigger("becameHidden");this.forEachChildView(function(view){var isVisible=get(view,"isVisible");if(isVisible||isVisible===null){view._notifyBecameHidden()}})},_isAncestorHidden:function(){var parent=get(this,"parentView");while(parent){if(get(parent,"isVisible")===false){return true}parent=get(parent,"parentView")}return false},clearBuffer:function(){this.invokeRecursively(nullViewsBuffer)},transitionTo:function(state,children){var priorState=this.currentState,currentState=this.currentState=this.states[state];this.state=state;if(priorState&&priorState.exit){priorState.exit(this)}if(currentState.enter){currentState.enter(this)}if(state==="inDOM"){delete Ember.meta(this).cache.element}if(children!==false){this.forEachChildView(function(view){view.transitionTo(state)})}},handleEvent:function(eventName,evt){return this.currentState.handleEvent(this,eventName,evt)},registerObserver:function(root,path,target,observer){if(!observer&&"function"===typeof target){observer=target;target=null}if(!root||typeof root!=="object"){return}var view=this,stateCheckedObserver=function(){view.currentState.invokeObserver(this,observer)},scheduledObserver=function(){Ember.run.scheduleOnce("render",this,stateCheckedObserver)};Ember.addObserver(root,path,target,scheduledObserver);this.one("willClearRender",function(){Ember.removeObserver(root,path,target,scheduledObserver)})}});function notifyMutationListeners(){Ember.run.once(Ember.View,"notifyMutationListeners")}var DOMManager={prepend:function(view,html){view.$().prepend(html);notifyMutationListeners()},after:function(view,html){view.$().after(html);notifyMutationListeners()},html:function(view,html){view.$().html(html);notifyMutationListeners()},replace:function(view){var element=get(view,"element");set(view,"element",null);view._insertElementLater(function(){Ember.$(element).replaceWith(get(view,"element"));notifyMutationListeners()})},remove:function(view){view.$().remove();notifyMutationListeners()},empty:function(view){view.$().empty();notifyMutationListeners()}};Ember.View.reopen({domManager:DOMManager});Ember.View.reopenClass({_parsePropertyPath:function(path){var split=path.split(":"),propertyPath=split[0],classNames="",className,falsyClassName;if(split.length>1){className=split[1];if(split.length===3){falsyClassName=split[2]}classNames=":"+className;if(falsyClassName){classNames+=":"+falsyClassName}}return{path:propertyPath,classNames:classNames,className:className===""?undefined:className,falsyClassName:falsyClassName}},_classStringForValue:function(path,val,className,falsyClassName){if(className||falsyClassName){if(className&&!!val){return className}else if(falsyClassName&&!val){return falsyClassName}else{return null}}else if(val===true){var parts=path.split(".");return Ember.String.dasherize(parts[parts.length-1])}else if(val!==false&&val!=null){return val}else{return null}}});var mutation=Ember.Object.extend(Ember.Evented).create();Ember.View.addMutationListener=function(callback){mutation.on("change",callback)};Ember.View.removeMutationListener=function(callback){mutation.off("change",callback)};Ember.View.notifyMutationListeners=function(){mutation.trigger("change")};Ember.View.views={};Ember.View.childViewsProperty=childViewsProperty;Ember.View.applyAttributeBindings=function(elem,name,value){var type=Ember.typeOf(value);if(name!=="value"&&(type==="string"||type==="number"&&!isNaN(value))){if(value!==elem.attr(name)){elem.attr(name,value)}}else if(name==="value"||type==="boolean"){if(Ember.isNone(value)||value===false){elem.removeAttr(name);elem.prop(name,"")}else if(value!==elem.prop(name)){elem.prop(name,value)}}else if(!value){elem.removeAttr(name)}};Ember.View.states=states})();(function(){var get=Ember.get,set=Ember.set;Ember.View.states._default={appendChild:function(){throw"You can't use appendChild outside of the rendering process"},$:function(){return undefined},getElement:function(){return null},handleEvent:function(){return true},destroyElement:function(view){set(view,"element",null);if(view._scheduledInsert){Ember.run.cancel(view._scheduledInsert);view._scheduledInsert=null}return view},renderToBufferIfNeeded:function(){return false},rerender:Ember.K,invokeObserver:Ember.K}})();(function(){var preRender=Ember.View.states.preRender=Ember.create(Ember.View.states._default);Ember.merge(preRender,{insertElement:function(view,fn){view.createElement();var viewCollection=view.viewHierarchyCollection();viewCollection.trigger("willInsertElement");fn.call(view);var element=view.get("element");if(document.body.contains(element)){viewCollection.transitionTo("inDOM",false);viewCollection.trigger("didInsertElement")}},renderToBufferIfNeeded:function(view,buffer){view.renderToBuffer(buffer);return true},empty:Ember.K,setElement:function(view,value){if(value!==null){view.transitionTo("hasElement")}return value}})})();(function(){var get=Ember.get,set=Ember.set;var inBuffer=Ember.View.states.inBuffer=Ember.create(Ember.View.states._default);Ember.merge(inBuffer,{$:function(view,sel){view.rerender();return Ember.$()},rerender:function(view){throw new Ember.Error("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(view,childView,options){var buffer=view.buffer,_childViews=view._childViews;childView=view.createChildView(childView,options);if(!_childViews.length){_childViews=view._childViews=_childViews.slice()}_childViews.push(childView);childView.renderToBuffer(buffer);view.propertyDidChange("childViews");return childView},destroyElement:function(view){view.clearBuffer();var viewCollection=view._notifyWillDestroyElement();viewCollection.transitionTo("preRender",false);return view},empty:function(){Ember.assert("Emptying a view in the inBuffer state is not allowed and "+"should not happen under normal circumstances. Most likely "+"there is a bug in your application. This may be due to "+"excessive property change notifications.")},renderToBufferIfNeeded:function(view,buffer){return false},insertElement:function(){throw"You can't insert an element that has already been rendered"},setElement:function(view,value){if(value===null){view.transitionTo("preRender")}else{view.clearBuffer();view.transitionTo("hasElement")}return value},invokeObserver:function(target,observer){observer.call(target)}})})();(function(){var get=Ember.get,set=Ember.set;var hasElement=Ember.View.states.hasElement=Ember.create(Ember.View.states._default);Ember.merge(hasElement,{$:function(view,sel){var elem=get(view,"element");return sel?Ember.$(sel,elem):Ember.$(elem)},getElement:function(view){var parent=get(view,"parentView");if(parent){parent=get(parent,"element")}if(parent){return view.findElementInParentElement(parent)}return Ember.$("#"+get(view,"elementId"))[0]},setElement:function(view,value){if(value===null){view.transitionTo("preRender")}else{throw"You cannot set an element to a non-null value when the element is already in the DOM."}return value},rerender:function(view){view.triggerRecursively("willClearRender");view.clearRenderedChildren();view.domManager.replace(view);return view},destroyElement:function(view){view._notifyWillDestroyElement();view.domManager.remove(view);set(view,"element",null);if(view._scheduledInsert){Ember.run.cancel(view._scheduledInsert);view._scheduledInsert=null}return view},empty:function(view){var _childViews=view._childViews,len,idx;if(_childViews){len=_childViews.length;for(idx=0;idx<len;idx++){_childViews[idx]._notifyWillDestroyElement()}}view.domManager.empty(view)},handleEvent:function(view,eventName,evt){if(view.has(eventName)){return view.trigger(eventName,evt)}else{return true}},invokeObserver:function(target,observer){observer.call(target)}})})();(function(){var hasElement=Ember.View.states.hasElement;var inDOM=Ember.View.states.inDOM=Ember.create(hasElement);Ember.merge(inDOM,{enter:function(view){if(!view.isVirtual){Ember.assert("Attempted to register a view with an id already in use: "+view.elementId,!Ember.View.views[view.elementId]);Ember.View.views[view.elementId]=view}view.addBeforeObserver("elementId",function(){throw new Ember.Error("Changing a view's elementId after creation is not allowed")})},exit:function(view){if(!this.isVirtual)delete Ember.View.views[view.elementId]},insertElement:function(view,fn){throw"You can't insert an element into the DOM that has already been inserted"}})})();(function(){var destroyingError="You can't call %@ on a view being destroyed",fmt=Ember.String.fmt;var destroying=Ember.View.states.destroying=Ember.create(Ember.View.states._default);Ember.merge(destroying,{appendChild:function(){throw fmt(destroyingError,["appendChild"])},rerender:function(){throw fmt(destroyingError,["rerender"])},destroyElement:function(){throw fmt(destroyingError,["destroyElement"])},empty:function(){throw fmt(destroyingError,["empty"])},setElement:function(){throw fmt(destroyingError,["set('element', ...)"])},renderToBufferIfNeeded:function(){return false},insertElement:Ember.K})})();(function(){Ember.View.cloneStates=function(from){var into={};into._default={};into.preRender=Ember.create(into._default);into.destroying=Ember.create(into._default);into.inBuffer=Ember.create(into._default);into.hasElement=Ember.create(into._default);into.inDOM=Ember.create(into.hasElement);for(var stateName in from){if(!from.hasOwnProperty(stateName)){continue}Ember.merge(into[stateName],from[stateName])}return into}})();(function(){var states=Ember.View.cloneStates(Ember.View.states);var get=Ember.get,set=Ember.set;var forEach=Ember.EnumerableUtils.forEach;var ViewCollection=Ember._ViewCollection;Ember.ContainerView=Ember.View.extend(Ember.MutableArray,{states:states,init:function(){this._super();var childViews=get(this,"childViews");Ember.defineProperty(this,"childViews",Ember.View.childViewsProperty);var _childViews=this._childViews;forEach(childViews,function(viewName,idx){var view;if("string"===typeof viewName){view=get(this,viewName);view=this.createChildView(view);set(this,viewName,view)}else{view=this.createChildView(viewName)}_childViews[idx]=view},this);var currentView=get(this,"currentView");if(currentView){if(!_childViews.length){_childViews=this._childViews=this._childViews.slice()}_childViews.push(this.createChildView(currentView))}},replace:function(idx,removedCount,addedViews){var addedCount=addedViews?get(addedViews,"length"):0;var self=this;Ember.assert("You can't add a child to a container that is already a child of another view",Ember.A(addedViews).every(function(item){return!get(item,"_parentView")||get(item,"_parentView")===self}));this.arrayContentWillChange(idx,removedCount,addedCount);this.childViewsWillChange(this._childViews,idx,removedCount);if(addedCount===0){this._childViews.splice(idx,removedCount)}else{var args=[idx,removedCount].concat(addedViews);if(addedViews.length&&!this._childViews.length){this._childViews=this._childViews.slice()}this._childViews.splice.apply(this._childViews,args)}this.arrayContentDidChange(idx,removedCount,addedCount);this.childViewsDidChange(this._childViews,idx,removedCount,addedCount);return this},objectAt:function(idx){return this._childViews[idx]},length:Ember.computed(function(){return this._childViews.length}).volatile(),render:function(buffer){this.forEachChildView(function(view){view.renderToBuffer(buffer)})},instrumentName:"container",childViewsWillChange:function(views,start,removed){this.propertyWillChange("childViews");if(removed>0){var changedViews=views.slice(start,start+removed);this.currentState.childViewsWillChange(this,views,start,removed);this.initializeViews(changedViews,null,null)}},removeChild:function(child){this.removeObject(child);return this},childViewsDidChange:function(views,start,removed,added){if(added>0){var changedViews=views.slice(start,start+added);this.initializeViews(changedViews,this,get(this,"templateData"));this.currentState.childViewsDidChange(this,views,start,added)}this.propertyDidChange("childViews")},initializeViews:function(views,parentView,templateData){forEach(views,function(view){set(view,"_parentView",parentView);if(!view.container&&parentView){set(view,"container",parentView.container)}if(!get(view,"templateData")){set(view,"templateData",templateData)}})},currentView:null,_currentViewWillChange:Ember.beforeObserver("currentView",function(){var currentView=get(this,"currentView");if(currentView){currentView.destroy()}}),_currentViewDidChange:Ember.observer("currentView",function(){var currentView=get(this,"currentView");if(currentView){Ember.assert("You tried to set a current view that already has a parent. Make sure you don't have multiple outlets in the same view.",!get(currentView,"_parentView"));this.pushObject(currentView)}}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});Ember.merge(states._default,{childViewsWillChange:Ember.K,childViewsDidChange:Ember.K,ensureChildrenAreInDOM:Ember.K});Ember.merge(states.inBuffer,{childViewsDidChange:function(parentView,views,start,added){throw new Ember.Error("You cannot modify child views while in the inBuffer state")}});Ember.merge(states.hasElement,{childViewsWillChange:function(view,views,start,removed){for(var i=start;i<start+removed;i++){views[i].remove()}},childViewsDidChange:function(view,views,start,added){Ember.run.scheduleOnce("render",view,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(view){var childViews=view._childViews,i,len,childView,previous,buffer,viewCollection=new ViewCollection;for(i=0,len=childViews.length;i<len;i++){childView=childViews[i];if(!buffer){buffer=Ember.RenderBuffer();buffer._hasElement=false}if(childView.renderToBufferIfNeeded(buffer)){viewCollection.push(childView)}else if(viewCollection.length){insertViewCollection(view,viewCollection,previous,buffer);buffer=null;previous=childView;viewCollection.clear()}else{previous=childView}}if(viewCollection.length){insertViewCollection(view,viewCollection,previous,buffer)}}});function insertViewCollection(view,viewCollection,previous,buffer){viewCollection.triggerRecursively("willInsertElement");if(previous){previous.domManager.after(previous,buffer.string())}else{view.domManager.prepend(view,buffer.string())}viewCollection.forEach(function(v){v.transitionTo("inDOM");v.propertyDidChange("element");v.triggerRecursively("didInsertElement")})}})();(function(){var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt;Ember.CollectionView=Ember.ContainerView.extend({content:null,emptyViewClass:Ember.View,emptyView:null,itemViewClass:Ember.View,init:function(){var ret=this._super();this._contentDidChange();return ret},_contentWillChange:Ember.beforeObserver("content",function(){var content=this.get("content");if(content){content.removeArrayObserver(this)}var len=content?get(content,"length"):0;this.arrayWillChange(content,0,len)}),_contentDidChange:Ember.observer("content",function(){var content=get(this,"content");if(content){this._assertArrayLike(content);content.addArrayObserver(this)}var len=content?get(content,"length"):0;this.arrayDidChange(content,0,null,len)}),_assertArrayLike:function(content){Ember.assert(fmt("an Ember.CollectionView's content must implement Ember.Array. You passed %@",[content]),Ember.Array.detect(content))},destroy:function(){if(!this._super()){return}var content=get(this,"content");if(content){content.removeArrayObserver(this)}if(this._createdEmptyView){this._createdEmptyView.destroy()}return this},arrayWillChange:function(content,start,removedCount){var emptyView=get(this,"emptyView");if(emptyView&&emptyView instanceof Ember.View){emptyView.removeFromParent()}var childViews=this._childViews,childView,idx,len;len=this._childViews.length;var removingAll=removedCount===len;if(removingAll){this.currentState.empty(this);this.invokeRecursively(function(view){view.removedFromDOM=true},false)}for(idx=start+removedCount-1;idx>=start;idx--){childView=childViews[idx];childView.destroy()}},arrayDidChange:function(content,start,removed,added){var addedViews=[],view,item,idx,len,itemViewClass,emptyView;len=content?get(content,"length"):0;if(len){itemViewClass=get(this,"itemViewClass");if("string"===typeof itemViewClass){itemViewClass=get(itemViewClass)||itemViewClass}Ember.assert(fmt("itemViewClass must be a subclass of Ember.View, not %@",[itemViewClass]),"string"===typeof itemViewClass||Ember.View.detect(itemViewClass));for(idx=start;idx<start+added;idx++){item=content.objectAt(idx);view=this.createChildView(itemViewClass,{content:item,contentIndex:idx});addedViews.push(view)}}else{emptyView=get(this,"emptyView");if(!emptyView){return}if("string"===typeof emptyView){emptyView=get(emptyView)||emptyView}emptyView=this.createChildView(emptyView);addedViews.push(emptyView);set(this,"emptyView",emptyView);if(Ember.CoreView.detect(emptyView)){this._createdEmptyView=emptyView}}this.replace(start,0,addedViews)},createChildView:function(view,attrs){view=this._super(view,attrs);var itemTagName=get(view,"tagName");if(itemTagName===null||itemTagName===undefined){itemTagName=Ember.CollectionView.CONTAINER_MAP[get(this,"tagName")];set(view,"tagName",itemTagName)}return view}});Ember.CollectionView.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"}})();(function(){var get=Ember.get;Ember.ComponentTemplateDeprecation=Ember.Mixin.create({willMergeMixin:function(props){this._super.apply(this,arguments);
var deprecatedProperty,replacementProperty,layoutSpecified=props.layoutName||props.layout||get(this,"layoutName");if(props.templateName&&!layoutSpecified){deprecatedProperty="templateName";replacementProperty="layoutName";props.layoutName=props.templateName;delete props["templateName"]}if(props.template&&!layoutSpecified){deprecatedProperty="template";replacementProperty="layout";props.layout=props.template;delete props["template"]}if(deprecatedProperty){Ember.deprecate("Do not specify "+deprecatedProperty+" on a Component, use "+replacementProperty+" instead.",false)}}})})();(function(){var get=Ember.get,set=Ember.set,isNone=Ember.isNone,a_slice=Array.prototype.slice;Ember.Component=Ember.View.extend(Ember.TargetActionSupport,Ember.ComponentTemplateDeprecation,{init:function(){this._super();set(this,"context",this);set(this,"controller",this)},defaultLayout:function(context,options){Ember.Handlebars.helpers["yield"].call(context,options)},template:Ember.computed(function(key,value){if(value!==undefined){return value}var templateName=get(this,"templateName"),template=this.templateForName(templateName,"template");Ember.assert("You specified the templateName "+templateName+" for "+this+", but it did not exist.",!templateName||template);return template||get(this,"defaultTemplate")}).property("templateName"),templateName:null,cloneKeywords:function(){return{view:this,controller:this}},_yield:function(context,options){var view=options.data.view,parentView=this._parentView,template=get(this,"template");if(template){Ember.assert("A Component must have a parent view in order to yield.",parentView);view.appendChild(Ember.View,{isVirtual:true,tagName:"",_contextView:parentView,template:template,context:get(parentView,"context"),controller:get(parentView,"controller"),templateData:{keywords:parentView.cloneKeywords()}})}},targetObject:Ember.computed(function(key){var parentView=get(this,"_parentView");return parentView?get(parentView,"controller"):null}).property("_parentView"),sendAction:function(action){var actionName,contexts=a_slice.call(arguments,1);if(action===undefined){actionName=get(this,"action");Ember.assert("The default action was triggered on the component "+this.toString()+", but the action name ("+actionName+") was not a string.",isNone(actionName)||typeof actionName==="string")}else{actionName=get(this,action);Ember.assert("The "+action+" action was triggered on the component "+this.toString()+", but the action name ("+actionName+") was not a string.",isNone(actionName)||typeof actionName==="string")}if(actionName===undefined){return}this.triggerAction({action:actionName,actionContext:contexts})}})})();(function(){})();(function(){Ember.ViewTargetActionSupport=Ember.Mixin.create(Ember.TargetActionSupport,{target:Ember.computed.alias("controller"),actionContext:Ember.computed.alias("context")})})();(function(){})();(function(){})();(function(){define("metamorph",[],function(){"use strict";var K=function(){},guid=0,disableRange=function(){if("undefined"!==typeof MetamorphENV){return MetamorphENV.DISABLE_RANGE_API}else if("undefined"!==ENV){return ENV.DISABLE_RANGE_API}else{return false}}(),supportsRange=!disableRange&&typeof document!=="undefined"&&"createRange"in document&&typeof Range!=="undefined"&&Range.prototype.createContextualFragment,needsShy=typeof document!=="undefined"&&function(){var testEl=document.createElement("div");testEl.innerHTML="<div></div>";testEl.firstChild.innerHTML="<script></script>";return testEl.firstChild.innerHTML===""}(),movesWhitespace=document&&function(){var testEl=document.createElement("div");testEl.innerHTML="Test: <script type='text/x-placeholder'></script>Value";return testEl.childNodes[0].nodeValue==="Test:"&&testEl.childNodes[2].nodeValue===" Value"}();var Metamorph=function(html){var self;if(this instanceof Metamorph){self=this}else{self=new K}self.innerHTML=html;var myGuid="metamorph-"+guid++;self.start=myGuid+"-start";self.end=myGuid+"-end";return self};K.prototype=Metamorph.prototype;var rangeFor,htmlFunc,removeFunc,outerHTMLFunc,appendToFunc,afterFunc,prependFunc,startTagFunc,endTagFunc;outerHTMLFunc=function(){return this.startTag()+this.innerHTML+this.endTag()};startTagFunc=function(){return"<script id='"+this.start+"' type='text/x-placeholder'></script>"};endTagFunc=function(){return"<script id='"+this.end+"' type='text/x-placeholder'></script>"};if(supportsRange){rangeFor=function(morph,outerToo){var range=document.createRange();var before=document.getElementById(morph.start);var after=document.getElementById(morph.end);if(outerToo){range.setStartBefore(before);range.setEndAfter(after)}else{range.setStartAfter(before);range.setEndBefore(after)}return range};htmlFunc=function(html,outerToo){var range=rangeFor(this,outerToo);range.deleteContents();var fragment=range.createContextualFragment(html);range.insertNode(fragment)};removeFunc=function(){var range=rangeFor(this,true);range.deleteContents()};appendToFunc=function(node){var range=document.createRange();range.setStart(node);range.collapse(false);var frag=range.createContextualFragment(this.outerHTML());node.appendChild(frag)};afterFunc=function(html){var range=document.createRange();var after=document.getElementById(this.end);range.setStartAfter(after);range.setEndAfter(after);var fragment=range.createContextualFragment(html);range.insertNode(fragment)};prependFunc=function(html){var range=document.createRange();var start=document.getElementById(this.start);range.setStartAfter(start);range.setEndAfter(start);var fragment=range.createContextualFragment(html);range.insertNode(fragment)}}else{var wrapMap={select:[1,"<select multiple='multiple'>","</select>"],fieldset:[1,"<fieldset>","</fieldset>"],table:[1,"<table>","</table>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"],colgroup:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],map:[1,"<map>","</map>"],_default:[0,"",""]};var findChildById=function(element,id){if(element.getAttribute("id")===id){return element}var len=element.childNodes.length,idx,node,found;for(idx=0;idx<len;idx++){node=element.childNodes[idx];found=node.nodeType===1&&findChildById(node,id);if(found){return found}}};var setInnerHTML=function(element,html){var matches=[];if(movesWhitespace){html=html.replace(/(\s+)(<script id='([^']+)')/g,function(match,spaces,tag,id){matches.push([id,spaces]);return tag})}element.innerHTML=html;if(matches.length>0){var len=matches.length,idx;for(idx=0;idx<len;idx++){var script=findChildById(element,matches[idx][0]),node=document.createTextNode(matches[idx][1]);script.parentNode.insertBefore(node,script)}}};var firstNodeFor=function(parentNode,html){var arr=wrapMap[parentNode.tagName.toLowerCase()]||wrapMap._default;var depth=arr[0],start=arr[1],end=arr[2];if(needsShy){html="&shy;"+html}var element=document.createElement("div");setInnerHTML(element,start+html+end);for(var i=0;i<=depth;i++){element=element.firstChild}if(needsShy){var shyElement=element;while(shyElement.nodeType===1&&!shyElement.nodeName){shyElement=shyElement.firstChild}if(shyElement.nodeType===3&&shyElement.nodeValue.charAt(0)==="­"){shyElement.nodeValue=shyElement.nodeValue.slice(1)}}return element};var realNode=function(start){while(start.parentNode.tagName===""){start=start.parentNode}return start};var fixParentage=function(start,end){if(start.parentNode!==end.parentNode){end.parentNode.insertBefore(start,end.parentNode.firstChild)}};htmlFunc=function(html,outerToo){var start=realNode(document.getElementById(this.start));var end=document.getElementById(this.end);var parentNode=end.parentNode;var node,nextSibling,last;fixParentage(start,end);node=start.nextSibling;while(node){nextSibling=node.nextSibling;last=node===end;if(last){if(outerToo){end=node.nextSibling}else{break}}node.parentNode.removeChild(node);if(last){break}node=nextSibling}node=firstNodeFor(start.parentNode,html);if(outerToo){start.parentNode.removeChild(start)}while(node){nextSibling=node.nextSibling;parentNode.insertBefore(node,end);node=nextSibling}};removeFunc=function(){var start=realNode(document.getElementById(this.start));var end=document.getElementById(this.end);this.html("");start.parentNode.removeChild(start);end.parentNode.removeChild(end)};appendToFunc=function(parentNode){var node=firstNodeFor(parentNode,this.outerHTML());var nextSibling;while(node){nextSibling=node.nextSibling;parentNode.appendChild(node);node=nextSibling}};afterFunc=function(html){var end=document.getElementById(this.end);var insertBefore=end.nextSibling;var parentNode=end.parentNode;var nextSibling;var node;node=firstNodeFor(parentNode,html);while(node){nextSibling=node.nextSibling;parentNode.insertBefore(node,insertBefore);node=nextSibling}};prependFunc=function(html){var start=document.getElementById(this.start);var parentNode=start.parentNode;var nextSibling;var node;node=firstNodeFor(parentNode,html);var insertBefore=start.nextSibling;while(node){nextSibling=node.nextSibling;parentNode.insertBefore(node,insertBefore);node=nextSibling}}}Metamorph.prototype.html=function(html){this.checkRemoved();if(html===undefined){return this.innerHTML}htmlFunc.call(this,html);this.innerHTML=html};Metamorph.prototype.replaceWith=function(html){this.checkRemoved();htmlFunc.call(this,html,true)};Metamorph.prototype.remove=removeFunc;Metamorph.prototype.outerHTML=outerHTMLFunc;Metamorph.prototype.appendTo=appendToFunc;Metamorph.prototype.after=afterFunc;Metamorph.prototype.prepend=prependFunc;Metamorph.prototype.startTag=startTagFunc;Metamorph.prototype.endTag=endTagFunc;Metamorph.prototype.isRemoved=function(){var before=document.getElementById(this.start);var after=document.getElementById(this.end);return!before||!after};Metamorph.prototype.checkRemoved=function(){if(this.isRemoved()){throw new Error("Cannot perform operations on a Metamorph that is not in the DOM.")}};return Metamorph})})();(function(){var objectCreate=Object.create||function(parent){function F(){}F.prototype=parent;return new F};var Handlebars=Ember.imports&&Ember.imports.Handlebars||this&&this.Handlebars;if(!Handlebars&&typeof require==="function"){Handlebars=require("handlebars")}Ember.assert("Ember Handlebars requires Handlebars version 1.0 or 1.1. Include "+"a SCRIPT tag in the HTML HEAD linking to the Handlebars file "+"before you link to Ember.",Handlebars);Ember.assert("Ember Handlebars requires Handlebars version 1.0 or 1.1, "+"COMPILER_REVISION expected: 4, got: "+Handlebars.COMPILER_REVISION+" - Please note: Builds of master may have other COMPILER_REVISION values.",Handlebars.COMPILER_REVISION===4);Ember.Handlebars=objectCreate(Handlebars);Ember.Handlebars.helper=function(name,value){Ember.assert("You tried to register a component named '"+name+"', but component names must include a '-'",!Ember.Component.detect(value)||name.match(/-/));if(Ember.View.detect(value)){Ember.Handlebars.registerHelper(name,Ember.Handlebars.makeViewHelper(value))}else{Ember.Handlebars.registerBoundHelper.apply(null,arguments)}};Ember.Handlebars.makeViewHelper=function(ViewClass){return function(options){Ember.assert("You can only pass attributes (such as name=value) not bare values to a helper for a View found in '"+ViewClass.toString()+"'",arguments.length<2);return Ember.Handlebars.helpers.view.call(this,ViewClass,options)}};Ember.Handlebars.helpers=objectCreate(Handlebars.helpers);Ember.Handlebars.Compiler=function(){};if(Handlebars.Compiler){Ember.Handlebars.Compiler.prototype=objectCreate(Handlebars.Compiler.prototype)}Ember.Handlebars.Compiler.prototype.compiler=Ember.Handlebars.Compiler;Ember.Handlebars.JavaScriptCompiler=function(){};if(Handlebars.JavaScriptCompiler){Ember.Handlebars.JavaScriptCompiler.prototype=objectCreate(Handlebars.JavaScriptCompiler.prototype);Ember.Handlebars.JavaScriptCompiler.prototype.compiler=Ember.Handlebars.JavaScriptCompiler}Ember.Handlebars.JavaScriptCompiler.prototype.namespace="Ember.Handlebars";Ember.Handlebars.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"};Ember.Handlebars.JavaScriptCompiler.prototype.appendToBuffer=function(string){return"data.buffer.push("+string+");"};var DOT_LOOKUP_REGEX=/helpers\.(.*?)\)/,BRACKET_STRING_LOOKUP_REGEX=/helpers\['(.*?)'/,INVOCATION_SPLITTING_REGEX=/(.*blockHelperMissing\.call\(.*)(stack[0-9]+)(,.*)/;Ember.Handlebars.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation=function(source){var helperInvocation=source[source.length-1],helperName=(DOT_LOOKUP_REGEX.exec(helperInvocation)||BRACKET_STRING_LOOKUP_REGEX.exec(helperInvocation))[1],matches=INVOCATION_SPLITTING_REGEX.exec(helperInvocation);source[source.length-1]=matches[1]+"'"+helperName+"'"+matches[3]};var stringifyBlockHelperMissing=Ember.Handlebars.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation;var originalBlockValue=Ember.Handlebars.JavaScriptCompiler.prototype.blockValue;Ember.Handlebars.JavaScriptCompiler.prototype.blockValue=function(){originalBlockValue.apply(this,arguments);stringifyBlockHelperMissing(this.source)};var originalAmbiguousBlockValue=Ember.Handlebars.JavaScriptCompiler.prototype.ambiguousBlockValue;Ember.Handlebars.JavaScriptCompiler.prototype.ambiguousBlockValue=function(){originalAmbiguousBlockValue.apply(this,arguments);stringifyBlockHelperMissing(this.source)};Ember.Handlebars.Compiler.prototype.mustache=function(mustache){if(!(mustache.params.length||mustache.hash)){var id=new Handlebars.AST.IdNode([{part:"_triageMustache"}]);if(!mustache.escaped){mustache.hash=mustache.hash||new Handlebars.AST.HashNode([]);mustache.hash.pairs.push(["unescaped",new Handlebars.AST.StringNode("true")])}mustache=new Handlebars.AST.MustacheNode([id].concat([mustache.id]),mustache.hash,!mustache.escaped)}return Handlebars.Compiler.prototype.mustache.call(this,mustache)};Ember.Handlebars.precompile=function(string){var ast=Handlebars.parse(string);var options={knownHelpers:{action:true,unbound:true,"bind-attr":true,template:true,view:true,_triageMustache:true},data:true,stringParams:true};var environment=(new Ember.Handlebars.Compiler).compile(ast,options);return(new Ember.Handlebars.JavaScriptCompiler).compile(environment,options,undefined,true)};if(Handlebars.compile){Ember.Handlebars.compile=function(string){var ast=Handlebars.parse(string);var options={data:true,stringParams:true};var environment=(new Ember.Handlebars.Compiler).compile(ast,options);var templateSpec=(new Ember.Handlebars.JavaScriptCompiler).compile(environment,options,undefined,true);var template=Ember.Handlebars.template(templateSpec);template.isMethod=false;return template}}})();(function(){var slice=Array.prototype.slice,originalTemplate=Ember.Handlebars.template;var normalizePath=Ember.Handlebars.normalizePath=function(root,path,data){var keywords=data&&data.keywords||{},keyword,isKeyword;keyword=path.split(".",1)[0];if(keywords.hasOwnProperty(keyword)){root=keywords[keyword];isKeyword=true;if(path===keyword){path=""}else{path=path.substr(keyword.length+1)}}return{root:root,path:path,isKeyword:isKeyword}};var handlebarsGet=Ember.Handlebars.get=function(root,path,options){var data=options&&options.data,normalizedPath=normalizePath(root,path,data),value;root=normalizedPath.root;path=normalizedPath.path;value=Ember.get(root,path);if(value===undefined&&root!==Ember.lookup&&Ember.isGlobalPath(path)){value=Ember.get(Ember.lookup,path)}return value};Ember.Handlebars.getEscaped=function(root,path,options){var result=handlebarsGet(root,path,options);if(result===null||result===undefined){result=""}else if(!(result instanceof Handlebars.SafeString)){result=String(result)}if(!options.hash.unescaped){result=Handlebars.Utils.escapeExpression(result)}return result};Ember.Handlebars.resolveParams=function(context,params,options){var resolvedParams=[],types=options.types,param,type;for(var i=0,l=params.length;i<l;i++){param=params[i];type=types[i];if(type==="ID"){resolvedParams.push(handlebarsGet(context,param,options))}else{resolvedParams.push(param)}}return resolvedParams};Ember.Handlebars.resolveHash=function(context,hash,options){var resolvedHash={},types=options.hashTypes,type;for(var key in hash){if(!hash.hasOwnProperty(key)){continue}type=types[key];if(type==="ID"){resolvedHash[key]=handlebarsGet(context,hash[key],options)}else{resolvedHash[key]=hash[key]}}return resolvedHash};Ember.Handlebars.registerHelper("helperMissing",function(path){var error,view="";var options=arguments[arguments.length-1];var helper=Ember.Handlebars.resolveHelper(options.data.view.container,path);if(helper){return helper.apply(this,slice.call(arguments,1))}error="%@ Handlebars error: Could not find property '%@' on object %@.";if(options.data){view=options.data.view}throw new Ember.Error(Ember.String.fmt(error,[view,path,this]))});Ember.Handlebars.registerHelper("blockHelperMissing",function(path){var options=arguments[arguments.length-1];Ember.assert("`blockHelperMissing` was invoked without a helper name, which "+"is most likely due to a mismatch between the version of "+"Ember.js you're running now and the one used to precompile your "+"templates. Please make sure the version of "+"`ember-handlebars-compiler` you're using is up to date.",path);var helper=Ember.Handlebars.resolveHelper(options.data.view.container,path);if(helper){return helper.apply(this,slice.call(arguments,1))}else{return Handlebars.helpers.helperMissing.call(this,path)}return Handlebars.helpers.blockHelperMissing.apply(this,arguments)});Ember.Handlebars.registerBoundHelper=function(name,fn){var boundHelperArgs=slice.call(arguments,1),boundFn=Ember.Handlebars.makeBoundHelper.apply(this,boundHelperArgs);Ember.Handlebars.registerHelper(name,boundFn)};Ember.Handlebars.makeBoundHelper=function(fn){var dependentKeys=slice.call(arguments,1);function helper(){var properties=slice.call(arguments,0,-1),numProperties=properties.length,options=arguments[arguments.length-1],normalizedProperties=[],data=options.data,types=data.isUnbound?slice.call(options.types,1):options.types,hash=options.hash,view=data.view,contexts=options.contexts,currentContext=contexts&&contexts.length?contexts[0]:this,prefixPathForDependentKeys="",loc,len,hashOption,boundOption,property,normalizedValue=Ember._SimpleHandlebarsView.prototype.normalizedValue;Ember.assert("registerBoundHelper-generated helpers do not support use with Handlebars blocks.",!options.fn);var boundOptions=hash.boundOptions={};for(hashOption in hash){if(Ember.IS_BINDING.test(hashOption)){boundOptions[hashOption.slice(0,-7)]=hash[hashOption]}}var watchedProperties=[];data.properties=[];for(loc=0;loc<numProperties;++loc){data.properties.push(properties[loc]);if(types[loc]==="ID"){var normalizedProp=normalizePath(currentContext,properties[loc],data);normalizedProperties.push(normalizedProp);watchedProperties.push(normalizedProp)}else{if(data.isUnbound){normalizedProperties.push({path:properties[loc]})}else{normalizedProperties.push(null)}}}if(data.isUnbound){return evaluateUnboundHelper(this,fn,normalizedProperties,options)}var bindView=new Ember._SimpleHandlebarsView(null,null,!options.hash.unescaped,options.data);bindView.normalizedValue=function(){var args=[],boundOption;for(boundOption in boundOptions){if(!boundOptions.hasOwnProperty(boundOption)){continue}property=normalizePath(currentContext,boundOptions[boundOption],data);bindView.path=property.path;bindView.pathRoot=property.root;hash[boundOption]=normalizedValue.call(bindView)}for(loc=0;loc<numProperties;++loc){property=normalizedProperties[loc];if(property){bindView.path=property.path;bindView.pathRoot=property.root;args.push(normalizedValue.call(bindView))}else{args.push(properties[loc])}}args.push(options);return fn.apply(currentContext,args)};view.appendChild(bindView);for(boundOption in boundOptions){if(boundOptions.hasOwnProperty(boundOption)){watchedProperties.push(normalizePath(currentContext,boundOptions[boundOption],data))}}for(loc=0,len=watchedProperties.length;loc<len;++loc){property=watchedProperties[loc];view.registerObserver(property.root,property.path,bindView,bindView.rerender)}if(types[0]!=="ID"||normalizedProperties.length===0){return}var normalized=normalizedProperties[0],pathRoot=normalized.root,path=normalized.path;if(!Ember.isEmpty(path)){prefixPathForDependentKeys=path+"."}for(var i=0,l=dependentKeys.length;i<l;i++){view.registerObserver(pathRoot,prefixPathForDependentKeys+dependentKeys[i],bindView,bindView.rerender)}}helper._rawFunction=fn;return helper};function evaluateUnboundHelper(context,fn,normalizedProperties,options){var args=[],hash=options.hash,boundOptions=hash.boundOptions,types=slice.call(options.types,1),loc,len,property,propertyType,boundOption;for(boundOption in boundOptions){if(!boundOptions.hasOwnProperty(boundOption)){continue}hash[boundOption]=Ember.Handlebars.get(context,boundOptions[boundOption],options)}for(loc=0,len=normalizedProperties.length;loc<len;++loc){property=normalizedProperties[loc];propertyType=types[loc];if(propertyType==="ID"){args.push(Ember.Handlebars.get(property.root,property.path,options))}else{args.push(property.path)}}args.push(options);return fn.apply(context,args)}Ember.Handlebars.template=function(spec){var t=originalTemplate(spec);t.isTop=true;return t}})();(function(){Ember.String.htmlSafe=function(str){return new Handlebars.SafeString(str)};var htmlSafe=Ember.String.htmlSafe;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){String.prototype.htmlSafe=function(){return htmlSafe(this)}}})();(function(){Ember.Handlebars.resolvePaths=function(options){var ret=[],contexts=options.contexts,roots=options.roots,data=options.data;for(var i=0,l=contexts.length;i<l;i++){ret.push(Ember.Handlebars.get(roots[i],contexts[i],{data:data}))}return ret}})();(function(){var set=Ember.set,get=Ember.get;var Metamorph=requireModule("metamorph");function notifyMutationListeners(){Ember.run.once(Ember.View,"notifyMutationListeners")}var DOMManager={remove:function(view){view.morph.remove();notifyMutationListeners()},prepend:function(view,html){view.morph.prepend(html);notifyMutationListeners()},after:function(view,html){view.morph.after(html);notifyMutationListeners()},html:function(view,html){view.morph.html(html);notifyMutationListeners()},replace:function(view){var morph=view.morph;view.transitionTo("preRender");Ember.run.schedule("render",this,function renderMetamorphView(){if(view.isDestroying){return}view.clearRenderedChildren();var buffer=view.renderToBuffer();view.invokeRecursively(function(view){view.propertyWillChange("element")});view.triggerRecursively("willInsertElement");morph.replaceWith(buffer.string());view.transitionTo("inDOM");view.invokeRecursively(function(view){view.propertyDidChange("element")});view.triggerRecursively("didInsertElement");notifyMutationListeners()})},empty:function(view){view.morph.html("");notifyMutationListeners()}};Ember._Metamorph=Ember.Mixin.create({isVirtual:true,tagName:"",instrumentName:"metamorph",init:function(){this._super();this.morph=Metamorph();Ember.deprecate("Supplying a tagName to Metamorph views is unreliable and is deprecated. You may be setting the tagName on a Handlebars helper that creates a Metamorph.",!this.tagName)},beforeRender:function(buffer){buffer.push(this.morph.startTag());buffer.pushOpeningTag()},afterRender:function(buffer){buffer.pushClosingTag();buffer.push(this.morph.endTag())},createElement:function(){var buffer=this.renderToBuffer();this.outerHTML=buffer.string();this.clearBuffer()},domManager:DOMManager});Ember._MetamorphView=Ember.View.extend(Ember._Metamorph);Ember._SimpleMetamorphView=Ember.CoreView.extend(Ember._Metamorph)})();(function(){var get=Ember.get,set=Ember.set,handlebarsGet=Ember.Handlebars.get;var Metamorph=requireModule("metamorph");function SimpleHandlebarsView(path,pathRoot,isEscaped,templateData){this.path=path;this.pathRoot=pathRoot;this.isEscaped=isEscaped;this.templateData=templateData;this.morph=Metamorph();this.state="preRender";this.updateId=null;this._parentView=null;this.buffer=null}Ember._SimpleHandlebarsView=SimpleHandlebarsView;SimpleHandlebarsView.prototype={isVirtual:true,isView:true,destroy:function(){if(this.updateId){Ember.run.cancel(this.updateId);this.updateId=null}if(this._parentView){this._parentView.removeChild(this)}this.morph=null;this.state="destroyed"},propertyWillChange:Ember.K,propertyDidChange:Ember.K,normalizedValue:function(){var path=this.path,pathRoot=this.pathRoot,result,templateData;if(path===""){result=pathRoot}else{templateData=this.templateData;result=handlebarsGet(pathRoot,path,{data:templateData})}return result},renderToBuffer:function(buffer){var string="";string+=this.morph.startTag();string+=this.render();string+=this.morph.endTag();buffer.push(string)},render:function(){var escape=this.isEscaped;var result=this.normalizedValue();if(result===null||result===undefined){result=""}else if(!(result instanceof Handlebars.SafeString)){result=String(result)}if(escape){result=Handlebars.Utils.escapeExpression(result)}return result},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new Ember.Error("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=Ember.run.scheduleOnce("render",this,"update");break}return this},update:function(){this.updateId=null;this.morph.html(this.render())},transitionTo:function(state){this.state=state}};var states=Ember.View.cloneStates(Ember.View.states),merge=Ember.merge;merge(states._default,{rerenderIfNeeded:Ember.K});merge(states.inDOM,{rerenderIfNeeded:function(view){if(view.normalizedValue()!==view._lastNormalizedValue){view.rerender()}}});Ember._HandlebarsBoundView=Ember._MetamorphView.extend({instrumentName:"boundHandlebars",states:states,shouldDisplayFunc:null,preserveContext:false,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var path=get(this,"path"),pathRoot=get(this,"pathRoot"),valueNormalizer=get(this,"valueNormalizerFunc"),result,templateData;if(path===""){result=pathRoot}else{templateData=get(this,"templateData");result=handlebarsGet(pathRoot,path,{data:templateData})}return valueNormalizer?valueNormalizer(result):result},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(buffer){var escape=get(this,"isEscaped");var shouldDisplay=get(this,"shouldDisplayFunc"),preserveContext=get(this,"preserveContext"),context=get(this,"previousContext");var _contextController=get(this,"_contextController");var inverseTemplate=get(this,"inverseTemplate"),displayTemplate=get(this,"displayTemplate");var result=this.normalizedValue();this._lastNormalizedValue=result;if(shouldDisplay(result)){set(this,"template",displayTemplate);if(preserveContext){set(this,"_context",context)}else{if(displayTemplate){if(_contextController){set(_contextController,"content",result);result=_contextController}set(this,"_context",result)}else{if(result===null||result===undefined){result=""}else if(!(result instanceof Handlebars.SafeString)){result=String(result)}if(escape){result=Handlebars.Utils.escapeExpression(result)}buffer.push(result);return}}}else if(inverseTemplate){set(this,"template",inverseTemplate);if(preserveContext){set(this,"_context",context)}else{set(this,"_context",result)}}else{set(this,"template",function(){return""})}return this._super(buffer)}})})();(function(){var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt;var handlebarsGet=Ember.Handlebars.get,normalizePath=Ember.Handlebars.normalizePath;var handlebarsGetEscaped=Ember.Handlebars.getEscaped;var forEach=Ember.ArrayPolyfills.forEach;var o_create=Ember.create;var EmberHandlebars=Ember.Handlebars,helpers=EmberHandlebars.helpers;function exists(value){return!Ember.isNone(value)}function bind(property,options,preserveContext,shouldDisplay,valueNormalizer,childProperties){var data=options.data,fn=options.fn,inverse=options.inverse,view=data.view,currentContext=this,normalized,observer,i;normalized=normalizePath(currentContext,property,data);if("object"===typeof this){if(data.insideGroup){observer=function(){Ember.run.once(view,"rerender")};var template,context,result=handlebarsGet(currentContext,property,options);result=valueNormalizer?valueNormalizer(result):result;context=preserveContext?currentContext:result;if(shouldDisplay(result)){template=fn}else if(inverse){template=inverse}template(context,{data:options.data})}else{var bindView=view.createChildView(Ember._HandlebarsBoundView,{preserveContext:preserveContext,shouldDisplayFunc:shouldDisplay,valueNormalizerFunc:valueNormalizer,displayTemplate:fn,inverseTemplate:inverse,path:property,pathRoot:currentContext,previousContext:currentContext,isEscaped:!options.hash.unescaped,templateData:options.data});if(options.hash.controller){bindView.set("_contextController",this.container.lookupFactory("controller:"+options.hash.controller).create({container:currentContext.container,parentController:currentContext,target:currentContext}))}view.appendChild(bindView);observer=function(){Ember.run.scheduleOnce("render",bindView,"rerenderIfNeeded")}}if(normalized.path!==""){view.registerObserver(normalized.root,normalized.path,observer);if(childProperties){for(i=0;i<childProperties.length;i++){view.registerObserver(normalized.root,normalized.path+"."+childProperties[i],observer)}}}}else{data.buffer.push(handlebarsGetEscaped(currentContext,property,options))}}EmberHandlebars.bind=bind;function simpleBind(currentContext,property,options){var data=options.data,view=data.view,normalized,observer,pathRoot,output;normalized=normalizePath(currentContext,property,data);pathRoot=normalized.root;if(pathRoot&&"object"===typeof pathRoot){if(data.insideGroup){observer=function(){Ember.run.once(view,"rerender")};output=handlebarsGetEscaped(currentContext,property,options);data.buffer.push(output)}else{var bindView=new Ember._SimpleHandlebarsView(property,currentContext,!options.hash.unescaped,options.data);bindView._parentView=view;view.appendChild(bindView);observer=function(){Ember.run.scheduleOnce("render",bindView,"rerender")}}if(normalized.path!==""){view.registerObserver(normalized.root,normalized.path,observer)}}else{output=handlebarsGetEscaped(currentContext,property,options);data.buffer.push(output)}}function shouldDisplayIfHelperContent(result){var truthy=result&&get(result,"isTruthy");if(typeof truthy==="boolean"){return truthy}if(Ember.isArray(result)){return get(result,"length")!==0}else{return!!result}}EmberHandlebars.registerHelper("_triageMustache",function(property,options){Ember.assert("You cannot pass more than one argument to the _triageMustache helper",arguments.length<=2);if(helpers[property]){return helpers[property].call(this,options)}var helper=Ember.Handlebars.resolveHelper(options.data.view.container,property);if(helper){return helper.call(this,options)}return helpers.bind.call(this,property,options)});Ember.Handlebars.resolveHelper=function(container,name){if(!container||name.indexOf("-")===-1){return}var helper=container.lookup("helper:"+name);if(!helper){var componentLookup=container.lookup("component-lookup:main");Ember.assert("Could not find 'component-lookup:main' on the provided container, which is necessary for performing component lookups",componentLookup);var Component=componentLookup.lookupFactory(name,container);if(Component){helper=EmberHandlebars.makeViewHelper(Component);container.register("helper:"+name,helper)}}return helper};EmberHandlebars.registerHelper("bind",function bindHelper(property,options){Ember.assert("You cannot pass more than one argument to the bind helper",arguments.length<=2);var context=options.contexts&&options.contexts.length?options.contexts[0]:this;if(!options.fn){return simpleBind(context,property,options)}return bind.call(context,property,options,false,exists)});EmberHandlebars.registerHelper("boundIf",function boundIfHelper(property,fn){var context=fn.contexts&&fn.contexts.length?fn.contexts[0]:this;return bind.call(context,property,fn,true,shouldDisplayIfHelperContent,shouldDisplayIfHelperContent,["isTruthy","length"])
});EmberHandlebars.registerHelper("unboundIf",function unboundIfHelper(property,fn){var context=fn.contexts&&fn.contexts.length?fn.contexts[0]:this,data=fn.data,template=fn.fn,inverse=fn.inverse,normalized,propertyValue,result;normalized=normalizePath(context,property,data);propertyValue=handlebarsGet(context,property,fn);if(!shouldDisplayIfHelperContent(propertyValue)){template=inverse}template(context,{data:data})});EmberHandlebars.registerHelper("with",function withHelper(context,options){if(arguments.length===4){var keywordName,path,rootPath,normalized,contextPath;Ember.assert("If you pass more than one argument to the with helper, it must be in the form #with foo as bar",arguments[1]==="as");options=arguments[3];keywordName=arguments[2];path=arguments[0];Ember.assert("You must pass a block to the with helper",options.fn&&options.fn!==Handlebars.VM.noop);var localizedOptions=o_create(options);localizedOptions.data=o_create(options.data);localizedOptions.data.keywords=o_create(options.data.keywords||{});if(Ember.isGlobalPath(path)){contextPath=path}else{normalized=normalizePath(this,path,options.data);path=normalized.path;rootPath=normalized.root;var contextKey=Ember.$.expando+Ember.guidFor(rootPath);localizedOptions.data.keywords[contextKey]=rootPath;contextPath=path?contextKey+"."+path:contextKey}Ember.bind(localizedOptions.data.keywords,keywordName,contextPath);return bind.call(this,path,localizedOptions,true,exists)}else{Ember.assert("You must pass exactly one argument to the with helper",arguments.length===2);Ember.assert("You must pass a block to the with helper",options.fn&&options.fn!==Handlebars.VM.noop);return helpers.bind.call(options.contexts[0],context,options)}});EmberHandlebars.registerHelper("if",function ifHelper(context,options){Ember.assert("You must pass exactly one argument to the if helper",arguments.length===2);Ember.assert("You must pass a block to the if helper",options.fn&&options.fn!==Handlebars.VM.noop);if(options.data.isUnbound){return helpers.unboundIf.call(options.contexts[0],context,options)}else{return helpers.boundIf.call(options.contexts[0],context,options)}});EmberHandlebars.registerHelper("unless",function unlessHelper(context,options){Ember.assert("You must pass exactly one argument to the unless helper",arguments.length===2);Ember.assert("You must pass a block to the unless helper",options.fn&&options.fn!==Handlebars.VM.noop);var fn=options.fn,inverse=options.inverse;options.fn=inverse;options.inverse=fn;if(options.data.isUnbound){return helpers.unboundIf.call(options.contexts[0],context,options)}else{return helpers.boundIf.call(options.contexts[0],context,options)}});EmberHandlebars.registerHelper("bind-attr",function bindAttrHelper(options){var attrs=options.hash;Ember.assert("You must specify at least one hash argument to bind-attr",!!Ember.keys(attrs).length);var view=options.data.view;var ret=[];var ctx=this;var dataId=++Ember.uuid;var classBindings=attrs["class"];if(classBindings!=null){var classResults=EmberHandlebars.bindClasses(this,classBindings,view,dataId,options);ret.push('class="'+Handlebars.Utils.escapeExpression(classResults.join(" "))+'"');delete attrs["class"]}var attrKeys=Ember.keys(attrs);forEach.call(attrKeys,function(attr){var path=attrs[attr],normalized;Ember.assert(fmt("You must provide an expression as the value of bound attribute. You specified: %@=%@",[attr,path]),typeof path==="string");normalized=normalizePath(ctx,path,options.data);var value=path==="this"?normalized.root:handlebarsGet(ctx,path,options),type=Ember.typeOf(value);Ember.assert(fmt("Attributes must be numbers, strings or booleans, not %@",[value]),value===null||value===undefined||type==="number"||type==="string"||type==="boolean");var observer,invoker;observer=function observer(){var result=handlebarsGet(ctx,path,options);Ember.assert(fmt("Attributes must be numbers, strings or booleans, not %@",[result]),result===null||result===undefined||typeof result==="number"||typeof result==="string"||typeof result==="boolean");var elem=view.$("[data-bindattr-"+dataId+"='"+dataId+"']");if(!elem||elem.length===0){Ember.removeObserver(normalized.root,normalized.path,invoker);return}Ember.View.applyAttributeBindings(elem,attr,result)};if(path!=="this"&&!(normalized.isKeyword&&normalized.path==="")){view.registerObserver(normalized.root,normalized.path,observer)}if(type==="string"||type==="number"&&!isNaN(value)){ret.push(attr+'="'+Handlebars.Utils.escapeExpression(value)+'"')}else if(value&&type==="boolean"){ret.push(attr+'="'+attr+'"')}},this);ret.push("data-bindattr-"+dataId+'="'+dataId+'"');return new EmberHandlebars.SafeString(ret.join(" "))});EmberHandlebars.registerHelper("bindAttr",function bindAttrHelper(){Ember.warn("The 'bindAttr' view helper is deprecated in favor of 'bind-attr'");return EmberHandlebars.helpers["bind-attr"].apply(this,arguments)});EmberHandlebars.bindClasses=function(context,classBindings,view,bindAttrId,options){var ret=[],newClass,value,elem;var classStringForPath=function(root,parsedPath,options){var val,path=parsedPath.path;if(path==="this"){val=root}else if(path===""){val=true}else{val=handlebarsGet(root,path,options)}return Ember.View._classStringForValue(path,val,parsedPath.className,parsedPath.falsyClassName)};forEach.call(classBindings.split(" "),function(binding){var oldClass;var observer,invoker;var parsedPath=Ember.View._parsePropertyPath(binding),path=parsedPath.path,pathRoot=context,normalized;if(path!==""&&path!=="this"){normalized=normalizePath(context,path,options.data);pathRoot=normalized.root;path=normalized.path}observer=function(){newClass=classStringForPath(context,parsedPath,options);elem=bindAttrId?view.$("[data-bindattr-"+bindAttrId+"='"+bindAttrId+"']"):view.$();if(!elem||elem.length===0){Ember.removeObserver(pathRoot,path,invoker)}else{if(oldClass){elem.removeClass(oldClass)}if(newClass){elem.addClass(newClass);oldClass=newClass}else{oldClass=null}}};if(path!==""&&path!=="this"){view.registerObserver(pathRoot,path,observer)}value=classStringForPath(context,parsedPath,options);if(value){ret.push(value);oldClass=value}});return ret}})();(function(){var get=Ember.get,set=Ember.set;var EmberHandlebars=Ember.Handlebars;var LOWERCASE_A_Z=/^[a-z]/;var VIEW_PREFIX=/^view\./;function makeBindings(thisContext,options){var hash=options.hash,hashType=options.hashTypes;for(var prop in hash){if(hashType[prop]==="ID"){var value=hash[prop];if(Ember.IS_BINDING.test(prop)){Ember.warn("You're attempting to render a view by passing "+prop+"="+value+" to a view helper, but this syntax is ambiguous. You should either surround "+value+" in quotes or remove `Binding` from "+prop+".")}else{hash[prop+"Binding"]=value;hashType[prop+"Binding"]="STRING";delete hash[prop];delete hashType[prop]}}}if(hash.hasOwnProperty("idBinding")){hash.id=EmberHandlebars.get(thisContext,hash.idBinding,options);hashType.id="STRING";delete hash.idBinding;delete hashType.idBinding}}EmberHandlebars.ViewHelper=Ember.Object.create({propertiesFromHTMLOptions:function(options){var hash=options.hash,data=options.data;var extensions={},classes=hash["class"],dup=false;if(hash.id){extensions.elementId=hash.id;dup=true}if(hash.tag){extensions.tagName=hash.tag;dup=true}if(classes){classes=classes.split(" ");extensions.classNames=classes;dup=true}if(hash.classBinding){extensions.classNameBindings=hash.classBinding.split(" ");dup=true}if(hash.classNameBindings){if(extensions.classNameBindings===undefined)extensions.classNameBindings=[];extensions.classNameBindings=extensions.classNameBindings.concat(hash.classNameBindings.split(" "));dup=true}if(hash.attributeBindings){Ember.assert("Setting 'attributeBindings' via Handlebars is not allowed. Please subclass Ember.View and set it there instead.");extensions.attributeBindings=null;dup=true}if(dup){hash=Ember.$.extend({},hash);delete hash.id;delete hash.tag;delete hash["class"];delete hash.classBinding}var path;for(var prop in hash){if(!hash.hasOwnProperty(prop)){continue}if(Ember.IS_BINDING.test(prop)&&typeof hash[prop]==="string"){path=this.contextualizeBindingPath(hash[prop],data);if(path){hash[prop]=path}}}if(extensions.classNameBindings){for(var b in extensions.classNameBindings){var full=extensions.classNameBindings[b];if(typeof full==="string"){var parsedPath=Ember.View._parsePropertyPath(full);path=this.contextualizeBindingPath(parsedPath.path,data);if(path){extensions.classNameBindings[b]=path+parsedPath.classNames}}}}return Ember.$.extend(hash,extensions)},contextualizeBindingPath:function(path,data){var normalized=Ember.Handlebars.normalizePath(null,path,data);if(normalized.isKeyword){return"templateData.keywords."+path}else if(Ember.isGlobalPath(path)){return null}else if(path==="this"||path===""){return"_parentView.context"}else{return"_parentView.context."+path}},helper:function(thisContext,path,options){var data=options.data,fn=options.fn,newView;makeBindings(thisContext,options);if("string"===typeof path){if(options.types[0]==="STRING"&&LOWERCASE_A_Z.test(path)&&!VIEW_PREFIX.test(path)){Ember.assert("View requires a container",!!data.view.container);newView=data.view.container.lookupFactory("view:"+path)}else{newView=EmberHandlebars.get(thisContext,path,options)}Ember.assert("Unable to find view at path '"+path+"'",!!newView)}else{newView=path}Ember.assert(Ember.String.fmt("You must pass a view to the #view helper, not %@ (%@)",[path,newView]),Ember.View.detect(newView)||Ember.View.detectInstance(newView));var viewOptions=this.propertiesFromHTMLOptions(options,thisContext);var currentView=data.view;viewOptions.templateData=data;var newViewProto=newView.proto?newView.proto():newView;if(fn){Ember.assert("You cannot provide a template block if you also specified a templateName",!get(viewOptions,"templateName")&&!get(newViewProto,"templateName"));viewOptions.template=fn}if(!newViewProto.controller&&!newViewProto.controllerBinding&&!viewOptions.controller&&!viewOptions.controllerBinding){viewOptions._context=thisContext}currentView.appendChild(newView,viewOptions)}});EmberHandlebars.registerHelper("view",function viewHelper(path,options){Ember.assert("The view helper only takes a single argument",arguments.length<=2);if(path&&path.data&&path.data.isRenderData){options=path;path="Ember.View"}return EmberHandlebars.ViewHelper.helper(this,path,options)})})();(function(){var get=Ember.get,handlebarsGet=Ember.Handlebars.get,fmt=Ember.String.fmt;Ember.Handlebars.registerHelper("collection",function collectionHelper(path,options){Ember.deprecate("Using the {{collection}} helper without specifying a class has been deprecated as the {{each}} helper now supports the same functionality.",path!=="collection");if(path&&path.data&&path.data.isRenderData){options=path;path=undefined;Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===1)}else{Ember.assert("You cannot pass more than one argument to the collection helper",arguments.length===2)}var fn=options.fn;var data=options.data;var inverse=options.inverse;var view=options.data.view;var controller,container;var collectionClass;if(path){controller=data.keywords.controller;container=controller&&controller.container;collectionClass=handlebarsGet(this,path,options)||container.lookupFactory("view:"+path);Ember.assert(fmt("%@ #collection: Could not find collection class %@",[data.view,path]),!!collectionClass)}else{collectionClass=Ember.CollectionView}var hash=options.hash,itemHash={},match;var collectionPrototype=collectionClass.proto(),itemViewClass;if(hash.itemView){controller=data.keywords.controller;Ember.assert("You specified an itemView, but the current context has no "+"container to look the itemView up in. This probably means "+"that you created a view manually, instead of through the "+'container. Instead, use container.lookup("view:viewName"), '+"which will properly instantiate your view.",controller&&controller.container);container=controller.container;itemViewClass=container.lookupFactory("view:"+hash.itemView);Ember.assert("You specified the itemView "+hash.itemView+", but it was "+"not found at "+container.describe("view:"+hash.itemView)+" (and it was not registered in the container)",!!itemViewClass)}else if(hash.itemViewClass){itemViewClass=handlebarsGet(collectionPrototype,hash.itemViewClass,options)}else{itemViewClass=collectionPrototype.itemViewClass}Ember.assert(fmt("%@ #collection: Could not find itemViewClass %@",[data.view,itemViewClass]),!!itemViewClass);delete hash.itemViewClass;delete hash.itemView;for(var prop in hash){if(hash.hasOwnProperty(prop)){match=prop.match(/^item(.)(.*)$/);if(match&&prop!=="itemController"){itemHash[match[1].toLowerCase()+match[2]]=hash[prop];delete hash[prop]}}}if(fn){itemHash.template=fn;delete options.fn}var emptyViewClass;if(inverse&&inverse!==Ember.Handlebars.VM.noop){emptyViewClass=get(collectionPrototype,"emptyViewClass");emptyViewClass=emptyViewClass.extend({template:inverse,tagName:itemHash.tagName})}else if(hash.emptyViewClass){emptyViewClass=handlebarsGet(this,hash.emptyViewClass,options)}if(emptyViewClass){hash.emptyView=emptyViewClass}if(!hash.keyword){itemHash._context=Ember.computed.alias("content")}var viewOptions=Ember.Handlebars.ViewHelper.propertiesFromHTMLOptions({data:data,hash:itemHash},this);hash.itemViewClass=itemViewClass.extend(viewOptions);return Ember.Handlebars.helpers.view.call(this,collectionClass,options)})})();(function(){var handlebarsGet=Ember.Handlebars.get;Ember.Handlebars.registerHelper("unbound",function unboundHelper(property,fn){var options=arguments[arguments.length-1],helper,context,out;if(arguments.length>2){options.data.isUnbound=true;helper=Ember.Handlebars.helpers[arguments[0]]||Ember.Handlebars.helpers.helperMissing;out=helper.apply(this,Array.prototype.slice.call(arguments,1));delete options.data.isUnbound;return out}context=fn.contexts&&fn.contexts.length?fn.contexts[0]:this;return handlebarsGet(context,property,fn)})})();(function(){var get=Ember.get;var handlebarsGet=Ember.Handlebars.get,normalizePath=Ember.Handlebars.normalizePath;var a_slice=[].slice;Ember.Handlebars.registerHelper("log",function logHelper(){var params=a_slice.call(arguments,0,-1),options=arguments[arguments.length-1],logger=Ember.Logger.log,values=[],allowPrimitives=false;allowPrimitives=true;for(var i=0;i<params.length;i++){var type=options.types[i];if(type==="ID"||!allowPrimitives){var context=options.contexts&&options.contexts[i]||this,normalized=normalizePath(context,params[i],options.data);if(normalized.path==="this"){values.push(normalized.root)}else{values.push(handlebarsGet(normalized.root,normalized.path,options))}}else{values.push(params[i])}}logger.apply(logger,values)});Ember.Handlebars.registerHelper("debugger",function debuggerHelper(options){var templateContext=this;var typeOfTemplateContext=Ember.inspect(templateContext);debugger})})();(function(){var get=Ember.get,set=Ember.set;var fmt=Ember.String.fmt;Ember.Handlebars.EachView=Ember.CollectionView.extend(Ember._Metamorph,{init:function(){var itemController=get(this,"itemController");var binding;if(itemController){var controller=get(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:true,parentController:get(this,"controller"),itemController:itemController,target:get(this,"controller"),_eachView:this});this.disableContentObservers(function(){set(this,"content",controller);binding=new Ember.Binding("content","_eachView.dataSource").oneWay();binding.connect(controller)});set(this,"_arrayController",controller)}else{this.disableContentObservers(function(){binding=new Ember.Binding("content","dataSource").oneWay();binding.connect(this)})}return this._super()},_assertArrayLike:function(content){Ember.assert(fmt("The value that #each loops over must be an Array. You "+"passed %@, but it should have been an ArrayController",[content.constructor]),!Ember.ControllerMixin.detect(content)||content&&content.isGenerated||content instanceof Ember.ArrayController);Ember.assert(fmt("The value that #each loops over must be an Array. You passed %@",[Ember.ControllerMixin.detect(content)&&content.get("model")!==undefined?fmt("'%@' (wrapped in %@)",[content.get("model"),content]):content]),Ember.Array.detect(content))},disableContentObservers:function(callback){Ember.removeBeforeObserver(this,"content",null,"_contentWillChange");Ember.removeObserver(this,"content",null,"_contentDidChange");callback.call(this);Ember.addBeforeObserver(this,"content",null,"_contentWillChange");Ember.addObserver(this,"content",null,"_contentDidChange")},itemViewClass:Ember._MetamorphView,emptyViewClass:Ember._MetamorphView,createChildView:function(view,attrs){view=this._super(view,attrs);var keyword=get(this,"keyword");var content=get(view,"content");if(keyword){var data=get(view,"templateData");data=Ember.copy(data);data.keywords=view.cloneKeywords();set(view,"templateData",data);data.keywords[keyword]=content}if(content&&content.isController){set(view,"controller",content)}return view},destroy:function(){if(!this._super()){return}var arrayController=get(this,"_arrayController");if(arrayController){arrayController.destroy()}return this}});function _addMetamorphCheck(){Ember.Handlebars.EachView.reopen({_checkMetamorph:Ember.on("didInsertElement",function(){Ember.assert("The metamorph tags, "+this.morph.start+" and "+this.morph.end+", have different parents.\nThe browser has fixed your template to output valid HTML (for example, check that you have properly closed all tags and have used a TBODY tag when creating a table with '{{#each}}')",document.getElementById(this.morph.start).parentNode===document.getElementById(this.morph.end).parentNode)})})}Ember.runInDebug(function(){_addMetamorphCheck()});var GroupedEach=Ember.Handlebars.GroupedEach=function(context,path,options){var self=this,normalized=Ember.Handlebars.normalizePath(context,path,options.data);this.context=context;this.path=path;this.options=options;this.template=options.fn;this.containingView=options.data.view;this.normalizedRoot=normalized.root;this.normalizedPath=normalized.path;this.content=this.lookupContent();this.addContentObservers();this.addArrayObservers();this.containingView.on("willClearRender",function(){self.destroy()})};GroupedEach.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent();this.addArrayObservers();this.rerenderContainingView()},contentArrayWillChange:Ember.K,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return Ember.Handlebars.get(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){if(!this.content){return}this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){if(!this.content){return}this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){Ember.addBeforeObserver(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange);Ember.addObserver(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){Ember.removeBeforeObserver(this.normalizedRoot,this.normalizedPath,this.contentWillChange);Ember.removeObserver(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){if(!this.content){return}var content=this.content,contentLength=get(content,"length"),data=this.options.data,template=this.template;data.insideEach=true;for(var i=0;i<contentLength;i++){template(content.objectAt(i),{data:data})}},rerenderContainingView:function(){var self=this;Ember.run.scheduleOnce("render",this,function(){if(!self.destroyed){self.containingView.rerender()}})},destroy:function(){this.removeContentObservers();if(this.content){this.removeArrayObservers()}this.destroyed=true}};Ember.Handlebars.registerHelper("each",function eachHelper(path,options){if(arguments.length===4){Ember.assert("If you pass more than one argument to the each helper, it must be in the form #each foo in bar",arguments[1]==="in");var keywordName=arguments[0];options=arguments[3];path=arguments[2];if(path===""){path="this"}options.hash.keyword=keywordName}if(arguments.length===1){options=path;path="this"}options.hash.dataSourceBinding=path;if(options.data.insideGroup&&!options.hash.groupedRows&&!options.hash.itemViewClass){new Ember.Handlebars.GroupedEach(this,path,options).render()}else{return Ember.Handlebars.helpers.collection.call(this,"Ember.Handlebars.EachView",options)}})})();(function(){Ember.Handlebars.registerHelper("template",function(name,options){Ember.deprecate("The `template` helper has been deprecated in favor of the `partial` helper. Please use `partial` instead, which will work the same way.");return Ember.Handlebars.helpers.partial.apply(this,arguments)})})();(function(){Ember.Handlebars.registerHelper("partial",function partialHelper(name,options){var context=options.contexts&&options.contexts.length?options.contexts[0]:this;if(options.types[0]==="ID"){options.fn=function(context,fnOptions){var partialName=Ember.Handlebars.get(context,name,fnOptions);renderPartial(context,partialName,fnOptions)};return Ember.Handlebars.bind.call(context,name,options,true,exists)}else{renderPartial(context,name,options)}});function exists(value){return!Ember.isNone(value)}function renderPartial(context,name,options){var nameParts=name.split("/"),lastPart=nameParts[nameParts.length-1];nameParts[nameParts.length-1]="_"+lastPart;var view=options.data.view,underscoredName=nameParts.join("/"),template=view.templateForName(underscoredName),deprecatedTemplate=!template&&view.templateForName(name);Ember.assert("Unable to find partial with name '"+name+"'.",template||deprecatedTemplate);template=template||deprecatedTemplate;template(context,{data:options.data})}})();(function(){var get=Ember.get,set=Ember.set;Ember.Handlebars.registerHelper("yield",function yieldHelper(options){var view=options.data.view;while(view&&!get(view,"layout")){if(view._contextView){view=view._contextView}else{view=get(view,"parentView")}}Ember.assert("You called yield in a template that was not a layout",!!view);view._yield(this,options)})})();(function(){Ember.Handlebars.registerHelper("loc",function locHelper(str){return Ember.String.loc(str)})})();(function(){})();(function(){})();(function(){var set=Ember.set,get=Ember.get;Ember.Checkbox=Ember.View.extend({classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","form"],type:"checkbox",checked:false,disabled:false,indeterminate:false,init:function(){this._super();this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super();this.get("element").indeterminate=!!this.get("indeterminate")},_updateElementValue:function(){set(this,"checked",this.$().prop("checked"))}})})();(function(){var get=Ember.get,set=Ember.set;Ember.TextSupport=Ember.Mixin.create(Ember.TargetActionSupport,{value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex","readonly","autofocus","form","selectionDirection","spellcheck","required"],placeholder:null,disabled:false,maxlength:null,init:function(){this._super();this.on("focusOut",this,this._elementValueDidChange);this.on("change",this,this._elementValueDidChange);this.on("paste",this,this._elementValueDidChange);this.on("cut",this,this._elementValueDidChange);this.on("input",this,this._elementValueDidChange);this.on("keyUp",this,this.interpretKeyEvents)},action:null,onEvent:"enter",bubbles:false,interpretKeyEvents:function(event){var map=Ember.TextSupport.KEY_EVENTS;var method=map[event.keyCode];this._elementValueDidChange();if(method){return this[method](event)}},_elementValueDidChange:function(){set(this,"value",this.$().val())},insertNewline:function(event){sendAction("enter",this,event);sendAction("insert-newline",this,event)},cancel:function(event){sendAction("escape-press",this,event)},focusIn:function(event){sendAction("focus-in",this,event)},focusOut:function(event){sendAction("focus-out",this,event)},keyPress:function(event){sendAction("key-press",this,event)}});Ember.TextSupport.KEY_EVENTS={13:"insertNewline",27:"cancel"};function sendAction(eventName,view,event){var action=get(view,eventName),on=get(view,"onEvent"),value=get(view,"value");if(on===eventName||on==="keyPress"&&eventName==="key-press"){view.sendAction("action",value)}view.sendAction(eventName,value);if(action||on===eventName){if(!get(view,"bubbles")){event.stopPropagation()}}}})();(function(){var get=Ember.get,set=Ember.set;Ember.TextField=Ember.Component.extend(Ember.TextSupport,{classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","pattern","step","width"],value:"",type:"text",size:null,pattern:null,min:null,max:null})})();(function(){var get=Ember.get,set=Ember.set;Ember.TextArea=Ember.Component.extend(Ember.TextSupport,{classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap"],rows:null,cols:null,_updateElementValue:Ember.observer("value",function(){var value=get(this,"value"),$el=this.$();if($el&&value!==$el.val()){$el.val(value)}}),init:function(){this._super();this.on("didInsertElement",this,this._updateElementValue)}})})();(function(){var set=Ember.set,get=Ember.get,indexOf=Ember.EnumerableUtils.indexOf,indexesOf=Ember.EnumerableUtils.indexesOf,forEach=Ember.EnumerableUtils.forEach,replace=Ember.EnumerableUtils.replace,isArray=Ember.isArray,precompileTemplate=Ember.Handlebars.compile;Ember.SelectOption=Ember.View.extend({tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(context,options){options={data:options.data,hash:{}};Ember.Handlebars.helpers.bind.call(context,"view.label",options)},init:function(){this.labelPathDidChange();this.valuePathDidChange();this._super()},selected:Ember.computed(function(){var content=get(this,"content"),selection=get(this,"parentView.selection");if(get(this,"parentView.multiple")){return selection&&indexOf(selection,content.valueOf())>-1}else{return content==selection}}).property("content","parentView.selection"),labelPathDidChange:Ember.observer("parentView.optionLabelPath",function(){var labelPath=get(this,"parentView.optionLabelPath");if(!labelPath){return}Ember.defineProperty(this,"label",Ember.computed(function(){return get(this,labelPath)}).property(labelPath))}),valuePathDidChange:Ember.observer("parentView.optionValuePath",function(){var valuePath=get(this,"parentView.optionValuePath");if(!valuePath){return}Ember.defineProperty(this,"value",Ember.computed(function(){return get(this,valuePath)}).property(valuePath))})});Ember.SelectOptgroup=Ember.CollectionView.extend({tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"});Ember.Select=Ember.View.extend({tagName:"select",classNames:["ember-select"],defaultTemplate:Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data){this.compilerInfo=[4,">= 1.0.0"];helpers=this.merge(helpers,Ember.Handlebars.helpers);data=data||{};var buffer="",stack1,escapeExpression=this.escapeExpression,self=this;function program1(depth0,data){var buffer="",stack1;data.buffer.push('<option value="">');stack1=helpers._triageMustache.call(depth0,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}data.buffer.push("</option>");return buffer}function program3(depth0,data){var stack1;stack1=helpers.each.call(depth0,"view.groupedContent",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(4,program4,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}else{data.buffer.push("")}}function program4(depth0,data){data.buffer.push(escapeExpression(helpers.view.call(depth0,"view.groupView",{hash:{content:"content",label:"label"},hashTypes:{content:"ID",label:"ID"},hashContexts:{content:depth0,label:depth0},contexts:[depth0],types:["ID"],data:data})))}function program6(depth0,data){var stack1;stack1=helpers.each.call(depth0,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(7,program7,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}else{data.buffer.push("")}}function program7(depth0,data){data.buffer.push(escapeExpression(helpers.view.call(depth0,"view.optionView",{hash:{content:""},hashTypes:{content:"ID"},hashContexts:{content:depth0},contexts:[depth0],types:["ID"],data:data})))}stack1=helpers["if"].call(depth0,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},inverse:self.noop,fn:self.program(1,program1,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}stack1=helpers["if"].call(depth0,"view.optionGroupPath",{hash:{},hashTypes:{},hashContexts:{},inverse:self.program(6,program6,data),fn:self.program(3,program3,data),contexts:[depth0],types:["ID"],data:data});if(stack1||stack1===0){data.buffer.push(stack1)}return buffer}),attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:false,disabled:false,required:false,content:null,selection:null,value:Ember.computed(function(key,value){if(arguments.length===2){return value}var valuePath=get(this,"optionValuePath").replace(/^content\.?/,"");return valuePath?get(this,"selection."+valuePath):get(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:Ember.SelectOptgroup,groupedContent:Ember.computed(function(){var groupPath=get(this,"optionGroupPath");var groupedContent=Ember.A();var content=get(this,"content")||[];forEach(content,function(item){var label=get(item,groupPath);if(get(groupedContent,"lastObject.label")!==label){groupedContent.pushObject({label:label,content:Ember.A()})}get(groupedContent,"lastObject.content").push(item)});return groupedContent}).property("optionGroupPath","content.@each"),optionView:Ember.SelectOption,_change:function(){if(get(this,"multiple")){this._changeMultiple()}else{this._changeSingle()}},selectionDidChange:Ember.observer("selection.@each",function(){var selection=get(this,"selection");if(get(this,"multiple")){if(!isArray(selection)){set(this,"selection",Ember.A([selection]));return}this._selectionDidChangeMultiple()}else{this._selectionDidChangeSingle()}}),valueDidChange:Ember.observer("value",function(){var content=get(this,"content"),value=get(this,"value"),valuePath=get(this,"optionValuePath").replace(/^content\.?/,""),selectedValue=valuePath?get(this,"selection."+valuePath):get(this,"selection"),selection;if(value!==selectedValue){selection=content?content.find(function(obj){return value===(valuePath?get(obj,valuePath):obj)}):null;this.set("selection",selection)}}),_triggerChange:function(){var selection=get(this,"selection");var value=get(this,"value");if(!Ember.isNone(selection)){this.selectionDidChange()}if(!Ember.isNone(value)){this.valueDidChange()}this._change()},_changeSingle:function(){var selectedIndex=this.$()[0].selectedIndex,content=get(this,"content"),prompt=get(this,"prompt");if(!content||!get(content,"length")){return}if(prompt&&selectedIndex===0){set(this,"selection",null);return}if(prompt){selectedIndex-=1}set(this,"selection",content.objectAt(selectedIndex))},_changeMultiple:function(){var options=this.$("option:selected"),prompt=get(this,"prompt"),offset=prompt?1:0,content=get(this,"content"),selection=get(this,"selection");
if(!content){return}if(options){var selectedIndexes=options.map(function(){return this.index-offset}).toArray();var newSelection=content.objectsAt(selectedIndexes);if(isArray(selection)){replace(selection,0,get(selection,"length"),newSelection)}else{set(this,"selection",newSelection)}}},_selectionDidChangeSingle:function(){var el=this.get("element");if(!el){return}var content=get(this,"content"),selection=get(this,"selection"),selectionIndex=content?indexOf(content,selection):-1,prompt=get(this,"prompt");if(prompt){selectionIndex+=1}if(el){el.selectedIndex=selectionIndex}},_selectionDidChangeMultiple:function(){var content=get(this,"content"),selection=get(this,"selection"),selectedIndexes=content?indexesOf(content,selection):[-1],prompt=get(this,"prompt"),offset=prompt?1:0,options=this.$("option"),adjusted;if(options){options.each(function(){adjusted=this.index>-1?this.index-offset:-1;this.selected=indexOf(selectedIndexes,adjusted)>-1})}},init:function(){this._super();this.on("didInsertElement",this,this._triggerChange);this.on("change",this,this._change)}})})();(function(){Ember.Handlebars.registerHelper("input",function(options){Ember.assert("You can only pass attributes to the `input` helper, not arguments",arguments.length<2);var hash=options.hash,types=options.hashTypes,inputType=hash.type,onEvent=hash.on;delete hash.type;delete hash.on;if(inputType==="checkbox"){Ember.assert("{{input type='checkbox'}} does not support setting `value=someBooleanValue`; you must use `checked=someBooleanValue` instead.",options.hashTypes.value!=="ID");return Ember.Handlebars.helpers.view.call(this,Ember.Checkbox,options)}else{if(inputType){hash.type=inputType}hash.onEvent=onEvent||"enter";return Ember.Handlebars.helpers.view.call(this,Ember.TextField,options)}});Ember.Handlebars.registerHelper("textarea",function(options){Ember.assert("You can only pass attributes to the `textarea` helper, not arguments",arguments.length<2);var hash=options.hash,types=options.hashTypes;return Ember.Handlebars.helpers.view.call(this,Ember.TextArea,options)})})();(function(){Ember.ComponentLookup=Ember.Object.extend({lookupFactory:function(name,container){container=container||this.container;var fullName="component:"+name,templateFullName="template:components/"+name,templateRegistered=container&&container.has(templateFullName);if(templateRegistered){container.injection(fullName,"layout",templateFullName)}var Component=container.lookupFactory(fullName);if(templateRegistered||Component){if(!Component){container.register(fullName,Ember.Component);Component=container.lookupFactory(fullName)}return Component}}})})();(function(){Ember.Handlebars.bootstrap=function(ctx){var selectors='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';Ember.$(selectors,ctx).each(function(){var script=Ember.$(this);var compile=script.attr("type")==="text/x-raw-handlebars"?Ember.$.proxy(Handlebars.compile,Handlebars):Ember.$.proxy(Ember.Handlebars.compile,Ember.Handlebars),templateName=script.attr("data-template-name")||script.attr("id")||"application",template=compile(script.html());if(Ember.TEMPLATES[templateName]!==undefined){throw new Ember.Error('Template named "'+templateName+'" already exists.')}Ember.TEMPLATES[templateName]=template;script.remove()})};function bootstrap(){Ember.Handlebars.bootstrap(Ember.$(document))}function registerComponentLookup(container){container.register("component-lookup:main",Ember.ComponentLookup)}Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"domTemplates",initialize:bootstrap});Application.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:registerComponentLookup})})})();(function(){Ember.runLoadHooks("Ember.Handlebars",Ember.Handlebars)})();(function(){define("route-recognizer",["exports"],function(__exports__){"use strict";var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];var escapeRegex=new RegExp("(\\"+specials.join("|\\")+")","g");function isArray(test){return Object.prototype.toString.call(test)==="[object Array]"}function StaticSegment(string){this.string=string}StaticSegment.prototype={eachChar:function(callback){var string=this.string,ch;for(var i=0,l=string.length;i<l;i++){ch=string.charAt(i);callback({validChars:ch})}},regex:function(){return this.string.replace(escapeRegex,"\\$1")},generate:function(){return this.string}};function DynamicSegment(name){this.name=name}DynamicSegment.prototype={eachChar:function(callback){callback({invalidChars:"/",repeat:true})},regex:function(){return"([^/]+)"},generate:function(params){return params[this.name]}};function StarSegment(name){this.name=name}StarSegment.prototype={eachChar:function(callback){callback({invalidChars:"",repeat:true})},regex:function(){return"(.+)"},generate:function(params){return params[this.name]}};function EpsilonSegment(){}EpsilonSegment.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}};function parse(route,names,types){if(route.charAt(0)==="/"){route=route.substr(1)}var segments=route.split("/"),results=[];for(var i=0,l=segments.length;i<l;i++){var segment=segments[i],match;if(match=segment.match(/^:([^\/]+)$/)){results.push(new DynamicSegment(match[1]));names.push(match[1]);types.dynamics++}else if(match=segment.match(/^\*([^\/]+)$/)){results.push(new StarSegment(match[1]));names.push(match[1]);types.stars++}else if(segment===""){results.push(new EpsilonSegment)}else{results.push(new StaticSegment(segment));types.statics++}}return results}function State(charSpec){this.charSpec=charSpec;this.nextStates=[]}State.prototype={get:function(charSpec){var nextStates=this.nextStates;for(var i=0,l=nextStates.length;i<l;i++){var child=nextStates[i];var isEqual=child.charSpec.validChars===charSpec.validChars;isEqual=isEqual&&child.charSpec.invalidChars===charSpec.invalidChars;if(isEqual){return child}}},put:function(charSpec){var state;if(state=this.get(charSpec)){return state}state=new State(charSpec);this.nextStates.push(state);if(charSpec.repeat){state.nextStates.push(state)}return state},match:function(ch){var nextStates=this.nextStates,child,charSpec,chars;var returned=[];for(var i=0,l=nextStates.length;i<l;i++){child=nextStates[i];charSpec=child.charSpec;if(typeof(chars=charSpec.validChars)!=="undefined"){if(chars.indexOf(ch)!==-1){returned.push(child)}}else if(typeof(chars=charSpec.invalidChars)!=="undefined"){if(chars.indexOf(ch)===-1){returned.push(child)}}}return returned}};function sortSolutions(states){return states.sort(function(a,b){if(a.types.stars!==b.types.stars){return a.types.stars-b.types.stars}if(a.types.stars){if(a.types.statics!==b.types.statics){return b.types.statics-a.types.statics}if(a.types.dynamics!==b.types.dynamics){return b.types.dynamics-a.types.dynamics}}if(a.types.dynamics!==b.types.dynamics){return a.types.dynamics-b.types.dynamics}if(a.types.statics!==b.types.statics){return b.types.statics-a.types.statics}return 0})}function recognizeChar(states,ch){var nextStates=[];for(var i=0,l=states.length;i<l;i++){var state=states[i];nextStates=nextStates.concat(state.match(ch))}return nextStates}var oCreate=Object.create||function(proto){function F(){}F.prototype=proto;return new F};function RecognizeResults(queryParams){this.queryParams=queryParams||{}}RecognizeResults.prototype=oCreate({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});function findHandler(state,path,queryParams){var handlers=state.handlers,regex=state.regex;var captures=path.match(regex),currentCapture=1;var result=new RecognizeResults(queryParams);for(var i=0,l=handlers.length;i<l;i++){var handler=handlers[i],names=handler.names,params={};for(var j=0,m=names.length;j<m;j++){params[names[j]]=captures[currentCapture++]}result.push({handler:handler.handler,params:params,isDynamic:!!names.length})}return result}function addSegment(currentState,segment){segment.eachChar(function(ch){var state;currentState=currentState.put(ch)});return currentState}var RouteRecognizer=function(){this.rootState=new State;this.names={}};RouteRecognizer.prototype={add:function(routes,options){var currentState=this.rootState,regex="^",types={statics:0,dynamics:0,stars:0},handlers=[],allSegments=[],name;var isEmpty=true;for(var i=0,l=routes.length;i<l;i++){var route=routes[i],names=[];var segments=parse(route.path,names,types);allSegments=allSegments.concat(segments);for(var j=0,m=segments.length;j<m;j++){var segment=segments[j];if(segment instanceof EpsilonSegment){continue}isEmpty=false;currentState=currentState.put({validChars:"/"});regex+="/";currentState=addSegment(currentState,segment);regex+=segment.regex()}var handler={handler:route.handler,names:names};handlers.push(handler)}if(isEmpty){currentState=currentState.put({validChars:"/"});regex+="/"}currentState.handlers=handlers;currentState.regex=new RegExp(regex+"$");currentState.types=types;if(name=options&&options.as){this.names[name]={segments:allSegments,handlers:handlers}}},handlersFor:function(name){var route=this.names[name],result=[];if(!route){throw new Error("There is no route named "+name)}for(var i=0,l=route.handlers.length;i<l;i++){result.push(route.handlers[i])}return result},hasRoute:function(name){return!!this.names[name]},generate:function(name,params){var route=this.names[name],output="";if(!route){throw new Error("There is no route named "+name)}var segments=route.segments;for(var i=0,l=segments.length;i<l;i++){var segment=segments[i];if(segment instanceof EpsilonSegment){continue}output+="/";output+=segment.generate(params)}if(output.charAt(0)!=="/"){output="/"+output}if(params&&params.queryParams){output+=this.generateQueryString(params.queryParams,route.handlers)}return output},generateQueryString:function(params,handlers){var pairs=[];var keys=[];for(var key in params){if(params.hasOwnProperty(key)){keys.push(key)}}keys.sort();for(var i=0,len=keys.length;i<len;i++){key=keys[i];var value=params[key];if(value===false||value==null){continue}var pair=key;if(isArray(value)){for(var j=0,l=value.length;j<l;j++){var arrayPair=key+"[]"+"="+encodeURIComponent(value[j]);pairs.push(arrayPair)}}else if(value!==true){pair+="="+encodeURIComponent(value);pairs.push(pair)}else{pairs.push(pair)}}if(pairs.length===0){return""}return"?"+pairs.join("&")},parseQueryString:function(queryString){var pairs=queryString.split("&"),queryParams={};for(var i=0;i<pairs.length;i++){var pair=pairs[i].split("="),key=decodeURIComponent(pair[0]),keyLength=key.length,isArray=false,value;if(pair.length===1){value=true}else{if(keyLength>2&&key.slice(keyLength-2)==="[]"){isArray=true;key=key.slice(0,keyLength-2);if(!queryParams[key]){queryParams[key]=[]}}value=pair[1]?decodeURIComponent(pair[1]):""}if(isArray){queryParams[key].push(value)}else{queryParams[key]=value}}return queryParams},recognize:function(path){var states=[this.rootState],pathLen,i,l,queryStart,queryParams={},isSlashDropped=false;path=decodeURI(path);queryStart=path.indexOf("?");if(queryStart!==-1){var queryString=path.substr(queryStart+1,path.length);path=path.substr(0,queryStart);queryParams=this.parseQueryString(queryString)}if(path.charAt(0)!=="/"){path="/"+path}pathLen=path.length;if(pathLen>1&&path.charAt(pathLen-1)==="/"){path=path.substr(0,pathLen-1);isSlashDropped=true}for(i=0,l=path.length;i<l;i++){states=recognizeChar(states,path.charAt(i));if(!states.length){break}}var solutions=[];for(i=0,l=states.length;i<l;i++){if(states[i].handlers){solutions.push(states[i])}}states=sortSolutions(solutions);var state=solutions[0];if(state&&state.handlers){if(isSlashDropped&&state.regex.source.slice(-5)==="(.+)$"){path=path+"/"}return findHandler(state,path,queryParams)}}};__exports__["default"]=RouteRecognizer;function Target(path,matcher,delegate){this.path=path;this.matcher=matcher;this.delegate=delegate}Target.prototype={to:function(target,callback){var delegate=this.delegate;if(delegate&&delegate.willAddRoute){target=delegate.willAddRoute(this.matcher.target,target)}this.matcher.add(this.path,target);if(callback){if(callback.length===0){throw new Error("You must have an argument in the function passed to `to`")}this.matcher.addChild(this.path,target,callback,this.delegate)}return this}};function Matcher(target){this.routes={};this.children={};this.target=target}Matcher.prototype={add:function(path,handler){this.routes[path]=handler},addChild:function(path,target,callback,delegate){var matcher=new Matcher(target);this.children[path]=matcher;var match=generateMatch(path,matcher,delegate);if(delegate&&delegate.contextEntered){delegate.contextEntered(target,match)}callback(match)}};function generateMatch(startingPath,matcher,delegate){return function(path,nestedCallback){var fullPath=startingPath+path;if(nestedCallback){nestedCallback(generateMatch(fullPath,matcher,delegate))}else{return new Target(startingPath+path,matcher,delegate)}}}function addRoute(routeArray,path,handler){var len=0;for(var i=0,l=routeArray.length;i<l;i++){len+=routeArray[i].path.length}path=path.substr(len);var route={path:path,handler:handler};routeArray.push(route)}function eachRoute(baseRoute,matcher,callback,binding){var routes=matcher.routes;for(var path in routes){if(routes.hasOwnProperty(path)){var routeArray=baseRoute.slice();addRoute(routeArray,path,routes[path]);if(matcher.children[path]){eachRoute(routeArray,matcher.children[path],callback,binding)}else{callback.call(binding,routeArray)}}}}RouteRecognizer.prototype.map=function(callback,addRouteCallback){var matcher=new Matcher;callback(generateMatch("",matcher,this.delegate));eachRoute([],matcher,function(route){if(addRouteCallback){addRouteCallback(this,route)}else{this.add(route)}},this)}})})();(function(){define("router/handler-info",["./utils","rsvp","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var bind=__dependency1__.bind;var merge=__dependency1__.merge;var oCreate=__dependency1__.oCreate;var serialize=__dependency1__.serialize;var promiseLabel=__dependency1__.promiseLabel;var resolve=__dependency2__.resolve;function HandlerInfo(props){if(props){merge(this,props)}}HandlerInfo.prototype={name:null,handler:null,params:null,context:null,log:function(payload,message){if(payload.log){payload.log(this.name+": "+message)}},promiseLabel:function(label){return promiseLabel("'"+this.name+"' "+label)},resolve:function(async,shouldContinue,payload){var checkForAbort=bind(this.checkForAbort,this,shouldContinue),beforeModel=bind(this.runBeforeModelHook,this,async,payload),model=bind(this.getModel,this,async,payload),afterModel=bind(this.runAfterModelHook,this,async,payload),becomeResolved=bind(this.becomeResolved,this,payload);return resolve(undefined,this.promiseLabel("Start handler")).then(checkForAbort,null,this.promiseLabel("Check for abort")).then(beforeModel,null,this.promiseLabel("Before model")).then(checkForAbort,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(model,null,this.promiseLabel("Model")).then(checkForAbort,null,this.promiseLabel("Check if aborted in 'model' hook")).then(afterModel,null,this.promiseLabel("After model")).then(checkForAbort,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(becomeResolved,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(async,payload){if(payload.trigger){payload.trigger(true,"willResolveModel",payload,this.handler)}return this.runSharedModelHook(async,payload,"beforeModel",[])},runAfterModelHook:function(async,payload,resolvedModel){var name=this.name;this.stashResolvedModel(payload,resolvedModel);return this.runSharedModelHook(async,payload,"afterModel",[resolvedModel]).then(function(){return payload.resolvedModels[name]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(async,payload,hookName,args){this.log(payload,"calling "+hookName+" hook");if(this.queryParams){args.push(this.queryParams)}args.push(payload);var handler=this.handler;return async(function(){return handler[hookName]&&handler[hookName].apply(handler,args)},this.promiseLabel("Handle "+hookName))},getModel:function(payload){throw new Error("This should be overridden by a subclass of HandlerInfo")},checkForAbort:function(shouldContinue,promiseValue){return resolve(shouldContinue(),this.promiseLabel("Check for abort")).then(function(){return promiseValue},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(payload,resolvedModel){payload.resolvedModels=payload.resolvedModels||{};payload.resolvedModels[this.name]=resolvedModel},becomeResolved:function(payload,resolvedContext){var params=this.params||serialize(this.handler,resolvedContext,this.names);if(payload){this.stashResolvedModel(payload,resolvedContext);payload.params=payload.params||{};payload.params[this.name]=params}return new ResolvedHandlerInfo({context:resolvedContext,name:this.name,handler:this.handler,params:params})},shouldSupercede:function(other){if(!other){return true}var contextsMatch=other.context===this.context;return other.name!==this.name||this.hasOwnProperty("context")&&!contextsMatch||this.hasOwnProperty("params")&&!paramsMatch(this.params,other.params)}};function ResolvedHandlerInfo(props){HandlerInfo.call(this,props)}ResolvedHandlerInfo.prototype=oCreate(HandlerInfo.prototype);ResolvedHandlerInfo.prototype.resolve=function(async,shouldContinue,payload){if(payload&&payload.resolvedModels){payload.resolvedModels[this.name]=this.context}return resolve(this,this.promiseLabel("Resolve"))};function UnresolvedHandlerInfoByParam(props){HandlerInfo.call(this,props);this.params=this.params||{}}UnresolvedHandlerInfoByParam.prototype=oCreate(HandlerInfo.prototype);UnresolvedHandlerInfoByParam.prototype.getModel=function(async,payload){var fullParams=this.params;if(payload&&payload.queryParams){fullParams={};merge(fullParams,this.params);fullParams.queryParams=payload.queryParams}var hookName=typeof this.handler.deserialize==="function"?"deserialize":"model";return this.runSharedModelHook(async,payload,hookName,[fullParams])};function UnresolvedHandlerInfoByObject(props){HandlerInfo.call(this,props)}UnresolvedHandlerInfoByObject.prototype=oCreate(HandlerInfo.prototype);UnresolvedHandlerInfoByObject.prototype.getModel=function(async,payload){this.log(payload,this.name+": resolving provided model");return resolve(this.context)};function paramsMatch(a,b){if(!a^!b){return false}if(!a){return true}for(var k in a){if(a.hasOwnProperty(k)&&a[k]!==b[k]){return false}}return true}__exports__.HandlerInfo=HandlerInfo;__exports__.ResolvedHandlerInfo=ResolvedHandlerInfo;__exports__.UnresolvedHandlerInfoByParam=UnresolvedHandlerInfoByParam;__exports__.UnresolvedHandlerInfoByObject=UnresolvedHandlerInfoByObject});define("router/router",["route-recognizer","rsvp","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__exports__){"use strict";var RouteRecognizer=__dependency1__["default"];var resolve=__dependency2__.resolve;var reject=__dependency2__.reject;var async=__dependency2__.async;var Promise=__dependency2__.Promise;var trigger=__dependency3__.trigger;var log=__dependency3__.log;var slice=__dependency3__.slice;var forEach=__dependency3__.forEach;var merge=__dependency3__.merge;var serialize=__dependency3__.serialize;var extractQueryParams=__dependency3__.extractQueryParams;var getChangelist=__dependency3__.getChangelist;var promiseLabel=__dependency3__.promiseLabel;var TransitionState=__dependency4__.TransitionState;var logAbort=__dependency5__.logAbort;var Transition=__dependency5__.Transition;var TransitionAborted=__dependency5__.TransitionAborted;var NamedTransitionIntent=__dependency6__.NamedTransitionIntent;var URLTransitionIntent=__dependency7__.URLTransitionIntent;var pop=Array.prototype.pop;function Router(){this.recognizer=new RouteRecognizer;this.reset()}Router.prototype={map:function(callback){this.recognizer.delegate=this.delegate;this.recognizer.map(callback,function(recognizer,routes){for(var i=routes.length-1,proceed=true;i>=0&&proceed;--i){var route=routes[i];recognizer.add(routes,{as:route.handler});proceed=route.path==="/"||route.path===""||route.handler.slice(-6)===".index"}})},hasRoute:function(route){return this.recognizer.hasRoute(route)},transitionByIntent:function(intent,isIntermediate){var wasTransitioning=!!this.activeTransition;var oldState=wasTransitioning?this.activeTransition.state:this.state;var newTransition;var router=this;try{var newState=intent.applyToState(oldState,this.recognizer,this.getHandler,isIntermediate);if(handlerInfosEqual(newState.handlerInfos,oldState.handlerInfos)){var queryParamChangelist=getChangelist(oldState.queryParams,newState.queryParams);if(queryParamChangelist){this._changedQueryParams=queryParamChangelist.changed;trigger(this,newState.handlerInfos,true,["queryParamsDidChange",queryParamChangelist.changed,queryParamChangelist.all,queryParamChangelist.removed]);this._changedQueryParams=null;if(!wasTransitioning&&this.activeTransition){return this.activeTransition}else{oldState.queryParams=finalizeQueryParamChange(this,newState.handlerInfos,newState.queryParams);newTransition=new Transition(this);newTransition.urlMethod="replace";newTransition.promise=newTransition.promise.then(function(result){updateURL(newTransition,oldState,true);if(router.didTransition){router.didTransition(router.currentHandlerInfos)}return result},null,promiseLabel("Transition complete"));return newTransition}}return new Transition(this)}if(isIntermediate){setupContexts(this,newState);return}newTransition=new Transition(this,intent,newState);if(this.activeTransition){this.activeTransition.abort()}this.activeTransition=newTransition;newTransition.promise=newTransition.promise.then(function(result){return router.async(function(){return finalizeTransition(newTransition,result.state)},"Finalize transition")},null,promiseLabel("Settle transition promise when transition is finalized"));if(!wasTransitioning){trigger(this,this.state.handlerInfos,true,["willTransition",newTransition])}return newTransition}catch(e){return new Transition(this,intent,null,e)}},reset:function(){if(this.state){forEach(this.state.handlerInfos,function(handlerInfo){var handler=handlerInfo.handler;if(handler.exit){handler.exit()}})}this.state=new TransitionState;this.currentHandlerInfos=null},activeTransition:null,handleURL:function(url){var args=slice.call(arguments);if(url.charAt(0)!=="/"){args[0]="/"+url}return doTransition(this,args).method("replaceQuery")},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(url){this.updateURL(url)},transitionTo:function(name){return doTransition(this,arguments)},intermediateTransitionTo:function(name){doTransition(this,arguments,true)},refresh:function(pivotHandler){var state=this.activeTransition?this.activeTransition.state:this.state;var handlerInfos=state.handlerInfos;var params={};for(var i=0,len=handlerInfos.length;i<len;++i){var handlerInfo=handlerInfos[i];params[handlerInfo.name]=handlerInfo.params||{}}log(this,"Starting a refresh transition");var intent=new NamedTransitionIntent({name:handlerInfos[handlerInfos.length-1].name,pivotHandler:pivotHandler||handlerInfos[0].handler,contexts:[],queryParams:this._changedQueryParams||state.queryParams||{}});return this.transitionByIntent(intent,false)},replaceWith:function(name){return doTransition(this,arguments).method("replace")},generate:function(handlerName){var partitionedArgs=extractQueryParams(slice.call(arguments,1)),suppliedParams=partitionedArgs[0],queryParams=partitionedArgs[1];var intent=new NamedTransitionIntent({name:handlerName,contexts:suppliedParams});var state=intent.applyToState(this.state,this.recognizer,this.getHandler);var params={};for(var i=0,len=state.handlerInfos.length;i<len;++i){var handlerInfo=state.handlerInfos[i];var handlerParams=handlerInfo.params||serialize(handlerInfo.handler,handlerInfo.context,handlerInfo.names);merge(params,handlerParams)}params.queryParams=queryParams;return this.recognizer.generate(handlerName,params)},isActive:function(handlerName){var partitionedArgs=extractQueryParams(slice.call(arguments,1)),contexts=partitionedArgs[0],queryParams=partitionedArgs[1],activeQueryParams=this.state.queryParams;var targetHandlerInfos=this.state.handlerInfos,found=false,names,object,handlerInfo,handlerObj,i,len;if(!targetHandlerInfos.length){return false}var targetHandler=targetHandlerInfos[targetHandlerInfos.length-1].name;var recogHandlers=this.recognizer.handlersFor(targetHandler);var index=0;for(len=recogHandlers.length;index<len;++index){handlerInfo=targetHandlerInfos[index];if(handlerInfo.name===handlerName){break}}if(index===recogHandlers.length){return false}var state=new TransitionState;state.handlerInfos=targetHandlerInfos.slice(0,index+1);recogHandlers=recogHandlers.slice(0,index+1);var intent=new NamedTransitionIntent({name:targetHandler,contexts:contexts});var newState=intent.applyToHandlers(state,recogHandlers,this.getHandler,targetHandler,true,true);var activeQPsOnNewHandler={};merge(activeQPsOnNewHandler,queryParams);for(var key in activeQueryParams){if(activeQueryParams.hasOwnProperty(key)&&activeQPsOnNewHandler.hasOwnProperty(key)){activeQPsOnNewHandler[key]=activeQueryParams[key]}}return handlerInfosEqual(newState.handlerInfos,state.handlerInfos)&&!getChangelist(activeQPsOnNewHandler,queryParams)},trigger:function(name){var args=slice.call(arguments);trigger(this,this.currentHandlerInfos,false,args)},async:function(callback,label){return new Promise(function(resolve){resolve(callback())},label)},log:null};function setupContexts(router,newState,transition){var partition=partitionHandlers(router.state,newState);forEach(partition.exited,function(handlerInfo){var handler=handlerInfo.handler;delete handler.context;if(handler.exit){handler.exit()}});var oldState=router.oldState=router.state;router.state=newState;var currentHandlerInfos=router.currentHandlerInfos=partition.unchanged.slice();try{forEach(partition.updatedContext,function(handlerInfo){return handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,false,transition)});forEach(partition.entered,function(handlerInfo){return handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,true,transition)})}catch(e){router.state=oldState;router.currentHandlerInfos=oldState.handlerInfos;throw e}router.state.queryParams=finalizeQueryParamChange(router,currentHandlerInfos,newState.queryParams)}function handlerEnteredOrUpdated(currentHandlerInfos,handlerInfo,enter,transition){var handler=handlerInfo.handler,context=handlerInfo.context;if(enter&&handler.enter){handler.enter(transition)}if(transition&&transition.isAborted){throw new TransitionAborted}handler.context=context;if(handler.contextDidChange){handler.contextDidChange()}if(handler.setup){handler.setup(context,transition)}if(transition&&transition.isAborted){throw new TransitionAborted}currentHandlerInfos.push(handlerInfo);return true}function partitionHandlers(oldState,newState){var oldHandlers=oldState.handlerInfos;var newHandlers=newState.handlerInfos;var handlers={updatedContext:[],exited:[],entered:[],unchanged:[]};var handlerChanged,contextChanged,queryParamsChanged,i,l;for(i=0,l=newHandlers.length;i<l;i++){var oldHandler=oldHandlers[i],newHandler=newHandlers[i];if(!oldHandler||oldHandler.handler!==newHandler.handler){handlerChanged=true}if(handlerChanged){handlers.entered.push(newHandler);if(oldHandler){handlers.exited.unshift(oldHandler)}}else if(contextChanged||oldHandler.context!==newHandler.context||queryParamsChanged){contextChanged=true;handlers.updatedContext.push(newHandler)}else{handlers.unchanged.push(oldHandler)}}for(i=newHandlers.length,l=oldHandlers.length;i<l;i++){handlers.exited.unshift(oldHandlers[i])}return handlers}function updateURL(transition,state,inputUrl){var urlMethod=transition.urlMethod;if(!urlMethod){return}var router=transition.router,handlerInfos=state.handlerInfos,handlerName=handlerInfos[handlerInfos.length-1].name,params={};for(var i=handlerInfos.length-1;i>=0;--i){var handlerInfo=handlerInfos[i];merge(params,handlerInfo.params);if(handlerInfo.handler.inaccessibleByURL){urlMethod=null}}if(urlMethod){params.queryParams=state.queryParams;var url=router.recognizer.generate(handlerName,params);if(urlMethod==="replaceQuery"){if(url!==inputUrl){router.replaceURL(url)}}else if(urlMethod==="replace"){router.replaceURL(url)}else{router.updateURL(url)}}}function finalizeTransition(transition,newState){try{log(transition.router,transition.sequence,"Resolved all models on destination route; finalizing transition.");var router=transition.router,handlerInfos=newState.handlerInfos,seq=transition.sequence;setupContexts(router,newState,transition);if(transition.isAborted){router.state.handlerInfos=router.currentHandlerInfos;return reject(logAbort(transition))}updateURL(transition,newState,transition.intent.url);transition.isActive=false;router.activeTransition=null;trigger(router,router.currentHandlerInfos,true,["didTransition"]);if(router.didTransition){router.didTransition(router.currentHandlerInfos)}log(router,transition.sequence,"TRANSITION COMPLETE.");return handlerInfos[handlerInfos.length-1].handler}catch(e){if(!(e instanceof TransitionAborted)){var infos=transition.state.handlerInfos;transition.trigger(true,"error",e,transition,infos[infos.length-1].handler);transition.abort()}throw e}}function doTransition(router,args,isIntermediate){var name=args[0]||"/";var lastArg=args[args.length-1];var queryParams={};if(lastArg&&lastArg.hasOwnProperty("queryParams")){queryParams=pop.call(args).queryParams}var intent;if(args.length===0){log(router,"Updating query params");var handlerInfos=router.state.handlerInfos;intent=new NamedTransitionIntent({name:handlerInfos[handlerInfos.length-1].name,contexts:[],queryParams:queryParams})}else if(name.charAt(0)==="/"){log(router,"Attempting URL transition to "+name);intent=new URLTransitionIntent({url:name})}else{log(router,"Attempting transition to "+name);intent=new NamedTransitionIntent({name:args[0],contexts:slice.call(args,1),queryParams:queryParams})}return router.transitionByIntent(intent,isIntermediate)}function handlerInfosEqual(handlerInfos,otherHandlerInfos){if(handlerInfos.length!==otherHandlerInfos.length){return false}for(var i=0,len=handlerInfos.length;i<len;++i){if(handlerInfos[i]!==otherHandlerInfos[i]){return false}}return true}function finalizeQueryParamChange(router,resolvedHandlers,newQueryParams){var finalQueryParamsArray=[];trigger(router,resolvedHandlers,true,["finalizeQueryParamChange",newQueryParams,finalQueryParamsArray]);var finalQueryParams={};for(var i=0,len=finalQueryParamsArray.length;i<len;++i){var qp=finalQueryParamsArray[i];finalQueryParams[qp.key]=qp.value}return finalQueryParams}__exports__.Router=Router});define("router/transition-intent",["./utils","exports"],function(__dependency1__,__exports__){"use strict";var merge=__dependency1__.merge;function TransitionIntent(props){if(props){merge(this,props)}this.data=this.data||{}}TransitionIntent.prototype.applyToState=function(oldState){return oldState};__exports__.TransitionIntent=TransitionIntent});define("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info","../utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var TransitionIntent=__dependency1__.TransitionIntent;var TransitionState=__dependency2__.TransitionState;var UnresolvedHandlerInfoByParam=__dependency3__.UnresolvedHandlerInfoByParam;var UnresolvedHandlerInfoByObject=__dependency3__.UnresolvedHandlerInfoByObject;var isParam=__dependency4__.isParam;var forEach=__dependency4__.forEach;var extractQueryParams=__dependency4__.extractQueryParams;var oCreate=__dependency4__.oCreate;
var merge=__dependency4__.merge;function NamedTransitionIntent(props){TransitionIntent.call(this,props)}NamedTransitionIntent.prototype=oCreate(TransitionIntent.prototype);NamedTransitionIntent.prototype.applyToState=function(oldState,recognizer,getHandler,isIntermediate){var partitionedArgs=extractQueryParams([this.name].concat(this.contexts)),pureArgs=partitionedArgs[0],queryParams=partitionedArgs[1],handlers=recognizer.handlersFor(pureArgs[0]);var targetRouteName=handlers[handlers.length-1].handler;return this.applyToHandlers(oldState,handlers,getHandler,targetRouteName,isIntermediate)};NamedTransitionIntent.prototype.applyToHandlers=function(oldState,handlers,getHandler,targetRouteName,isIntermediate,checkingIfActive){var i;var newState=new TransitionState;var objects=this.contexts.slice(0);var invalidateIndex=handlers.length;var nonDynamicIndexes=[];if(this.pivotHandler){for(i=0;i<handlers.length;++i){if(getHandler(handlers[i].handler)===this.pivotHandler){invalidateIndex=i;break}}}var pivotHandlerFound=!this.pivotHandler;for(i=handlers.length-1;i>=0;--i){var result=handlers[i];var name=result.handler;var handler=getHandler(name);var oldHandlerInfo=oldState.handlerInfos[i];var newHandlerInfo=null;if(result.names.length>0){if(i>=invalidateIndex){newHandlerInfo=this.createParamHandlerInfo(name,handler,result.names,objects,oldHandlerInfo)}else{newHandlerInfo=this.getHandlerInfoForDynamicSegment(name,handler,result.names,objects,oldHandlerInfo,targetRouteName)}}else{newHandlerInfo=this.createParamHandlerInfo(name,handler,result.names,objects,oldHandlerInfo);nonDynamicIndexes.unshift(i)}if(checkingIfActive){newHandlerInfo=newHandlerInfo.becomeResolved(null,newHandlerInfo.context);var oldContext=oldHandlerInfo&&oldHandlerInfo.context;if(result.names.length>0&&newHandlerInfo.context===oldContext){newHandlerInfo.params=oldHandlerInfo&&oldHandlerInfo.params}newHandlerInfo.context=oldContext}var handlerToUse=oldHandlerInfo;if(i>=invalidateIndex||newHandlerInfo.shouldSupercede(oldHandlerInfo)){invalidateIndex=Math.min(i,invalidateIndex);handlerToUse=newHandlerInfo}if(isIntermediate&&!checkingIfActive){handlerToUse=handlerToUse.becomeResolved(null,handlerToUse.context)}newState.handlerInfos.unshift(handlerToUse)}if(objects.length>0){throw new Error("More context objects were passed than there are dynamic segments for the route: "+targetRouteName)}if(!isIntermediate){this.invalidateNonDynamicHandlers(newState.handlerInfos,nonDynamicIndexes,invalidateIndex)}merge(newState.queryParams,oldState.queryParams);merge(newState.queryParams,this.queryParams||{});return newState};NamedTransitionIntent.prototype.invalidateNonDynamicHandlers=function(handlerInfos,indexes,invalidateIndex){forEach(indexes,function(i){if(i>=invalidateIndex){var handlerInfo=handlerInfos[i];handlerInfos[i]=new UnresolvedHandlerInfoByParam({name:handlerInfo.name,handler:handlerInfo.handler,params:{}})}})};NamedTransitionIntent.prototype.getHandlerInfoForDynamicSegment=function(name,handler,names,objects,oldHandlerInfo,targetRouteName){var numNames=names.length;var objectToUse;if(objects.length>0){objectToUse=objects[objects.length-1];if(isParam(objectToUse)){return this.createParamHandlerInfo(name,handler,names,objects,oldHandlerInfo)}else{objects.pop()}}else if(oldHandlerInfo&&oldHandlerInfo.name===name){return oldHandlerInfo}else{return oldHandlerInfo}return new UnresolvedHandlerInfoByObject({name:name,handler:handler,context:objectToUse,names:names})};NamedTransitionIntent.prototype.createParamHandlerInfo=function(name,handler,names,objects,oldHandlerInfo){var params={};var numNames=names.length;while(numNames--){var oldParams=oldHandlerInfo&&name===oldHandlerInfo.name&&oldHandlerInfo.params||{};var peek=objects[objects.length-1];var paramName=names[numNames];if(isParam(peek)){params[paramName]=""+objects.pop()}else{if(oldParams.hasOwnProperty(paramName)){params[paramName]=oldParams[paramName]}else{throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+name)}}}return new UnresolvedHandlerInfoByParam({name:name,handler:handler,params:params})};__exports__.NamedTransitionIntent=NamedTransitionIntent});define("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info","../utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var TransitionIntent=__dependency1__.TransitionIntent;var TransitionState=__dependency2__.TransitionState;var UnresolvedHandlerInfoByParam=__dependency3__.UnresolvedHandlerInfoByParam;var oCreate=__dependency4__.oCreate;var merge=__dependency4__.merge;function URLTransitionIntent(props){TransitionIntent.call(this,props)}URLTransitionIntent.prototype=oCreate(TransitionIntent.prototype);URLTransitionIntent.prototype.applyToState=function(oldState,recognizer,getHandler){var newState=new TransitionState;var results=recognizer.recognize(this.url),queryParams={},i,len;if(!results){throw new UnrecognizedURLError(this.url)}var statesDiffer=false;for(i=0,len=results.length;i<len;++i){var result=results[i];var name=result.handler;var handler=getHandler(name);if(handler.inaccessibleByURL){throw new UnrecognizedURLError(this.url)}var newHandlerInfo=new UnresolvedHandlerInfoByParam({name:name,handler:handler,params:result.params});var oldHandlerInfo=oldState.handlerInfos[i];if(statesDiffer||newHandlerInfo.shouldSupercede(oldHandlerInfo)){statesDiffer=true;newState.handlerInfos[i]=newHandlerInfo}else{newState.handlerInfos[i]=oldHandlerInfo}}merge(newState.queryParams,results.queryParams);return newState};function UnrecognizedURLError(message){this.message=message||"UnrecognizedURLError";this.name="UnrecognizedURLError"}__exports__.URLTransitionIntent=URLTransitionIntent});define("router/transition-state",["./handler-info","./utils","rsvp","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var ResolvedHandlerInfo=__dependency1__.ResolvedHandlerInfo;var forEach=__dependency2__.forEach;var promiseLabel=__dependency2__.promiseLabel;var resolve=__dependency3__.resolve;var reject=__dependency3__.reject;function TransitionState(other){this.handlerInfos=[];this.queryParams={};this.params={}}TransitionState.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(label){var targetName="";forEach(this.handlerInfos,function(handlerInfo){if(targetName!==""){targetName+="."}targetName+=handlerInfo.name});return promiseLabel("'"+targetName+"': "+label)},resolve:function(async,shouldContinue,payload){var self=this;var params=this.params;forEach(this.handlerInfos,function(handlerInfo){params[handlerInfo.name]=handlerInfo.params||{}});payload=payload||{};payload.resolveIndex=0;var currentState=this;var wasAborted=false;return resolve(null,this.promiseLabel("Start transition")).then(resolveOneHandlerInfo,null,this.promiseLabel("Resolve handler"))["catch"](handleError,this.promiseLabel("Handle error"));function innerShouldContinue(){return resolve(shouldContinue(),promiseLabel("Check if should continue"))["catch"](function(reason){wasAborted=true;return reject(reason)},promiseLabel("Handle abort"))}function handleError(error){var handlerInfos=currentState.handlerInfos;var errorHandlerIndex=payload.resolveIndex>=handlerInfos.length?handlerInfos.length-1:payload.resolveIndex;return reject({error:error,handlerWithError:currentState.handlerInfos[errorHandlerIndex].handler,wasAborted:wasAborted,state:currentState})}function proceed(resolvedHandlerInfo){currentState.handlerInfos[payload.resolveIndex++]=resolvedHandlerInfo;var handler=resolvedHandlerInfo.handler;if(handler&&handler.redirect){handler.redirect(resolvedHandlerInfo.context,payload)}return innerShouldContinue().then(resolveOneHandlerInfo,null,promiseLabel("Resolve handler"))}function resolveOneHandlerInfo(){if(payload.resolveIndex===currentState.handlerInfos.length){return{error:null,state:currentState}}var handlerInfo=currentState.handlerInfos[payload.resolveIndex];return handlerInfo.resolve(async,innerShouldContinue,payload).then(proceed,null,promiseLabel("Proceed"))}}};__exports__.TransitionState=TransitionState});define("router/transition",["rsvp","./handler-info","./utils","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var reject=__dependency1__.reject;var resolve=__dependency1__.resolve;var ResolvedHandlerInfo=__dependency2__.ResolvedHandlerInfo;var trigger=__dependency3__.trigger;var slice=__dependency3__.slice;var log=__dependency3__.log;var promiseLabel=__dependency3__.promiseLabel;function Transition(router,intent,state,error){var transition=this;this.state=state||router.state;this.intent=intent;this.router=router;this.data=this.intent&&this.intent.data||{};this.resolvedModels={};this.queryParams={};if(error){this.promise=reject(error);return}if(state){this.params=state.params;this.queryParams=state.queryParams;var len=state.handlerInfos.length;if(len){this.targetName=state.handlerInfos[state.handlerInfos.length-1].name}for(var i=0;i<len;++i){var handlerInfo=state.handlerInfos[i];if(!(handlerInfo instanceof ResolvedHandlerInfo)){break}this.pivotHandler=handlerInfo.handler}this.sequence=Transition.currentSequence++;this.promise=state.resolve(router.async,checkForAbort,this)["catch"](function(result){if(result.wasAborted){return reject(logAbort(transition))}else{transition.trigger("error",result.error,transition,result.handlerWithError);transition.abort();return reject(result.error)}},promiseLabel("Handle Abort"))}else{this.promise=resolve(this.state);this.params={}}function checkForAbort(){if(transition.isAborted){return reject(undefined,promiseLabel("Transition aborted - reject"))}}}Transition.currentSequence=0;Transition.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:true,state:null,promise:null,data:null,then:function(success,failure){return this.promise.then(success,failure)},abort:function(){if(this.isAborted){return this}log(this.router,this.sequence,this.targetName+": transition was aborted");this.isAborted=true;this.isActive=false;this.router.activeTransition=null;return this},retry:function(){this.abort();return this.router.transitionByIntent(this.intent,false)},method:function(method){this.urlMethod=method;return this},trigger:function(ignoreFailure){var args=slice.call(arguments);if(typeof ignoreFailure==="boolean"){args.shift()}else{ignoreFailure=false}trigger(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),ignoreFailure,args)},followRedirects:function(){var router=this.router;return this.promise["catch"](function(reason){if(router.activeTransition){return router.activeTransition.followRedirects()}return reject(reason)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(message){log(this.router,this.sequence,message)}};Transition.prototype.send=Transition.prototype.trigger;function logAbort(transition){log(transition.router,transition.sequence,"detected abort.");return new TransitionAborted}function TransitionAborted(message){this.message=message||"TransitionAborted";this.name="TransitionAborted"}__exports__.Transition=Transition;__exports__.logAbort=logAbort;__exports__.TransitionAborted=TransitionAborted});define("router/utils",["exports"],function(__exports__){"use strict";var slice=Array.prototype.slice;function isArray(test){return Object.prototype.toString.call(test)==="[object Array]"}function merge(hash,other){for(var prop in other){if(other.hasOwnProperty(prop)){hash[prop]=other[prop]}}}var oCreate=Object.create||function(proto){function F(){}F.prototype=proto;return new F};function extractQueryParams(array){var len=array&&array.length,head,queryParams;if(len&&len>0&&array[len-1]&&array[len-1].hasOwnProperty("queryParams")){queryParams=array[len-1].queryParams;head=slice.call(array,0,len-1);return[head,queryParams]}else{return[array,null]}}function coerceQueryParamsToString(queryParams){for(var key in queryParams){if(typeof queryParams[key]==="number"){queryParams[key]=""+queryParams[key]}else if(isArray(queryParams[key])){for(var i=0,l=queryParams[key].length;i<l;i++){queryParams[key][i]=""+queryParams[key][i]}}}}function log(router,sequence,msg){if(!router.log){return}if(arguments.length===3){router.log("Transition #"+sequence+": "+msg)}else{msg=sequence;router.log(msg)}}function bind(fn,context){var boundArgs=arguments;return function(value){var args=slice.call(boundArgs,2);args.push(value);return fn.apply(context,args)}}function isParam(object){return typeof object==="string"||object instanceof String||typeof object==="number"||object instanceof Number}function forEach(array,callback){for(var i=0,l=array.length;i<l&&false!==callback(array[i]);i++){}}function serialize(handler,model,names){var object={};if(isParam(model)){object[names[0]]=model;return object}if(handler.serialize){return handler.serialize(model,names)}if(names.length!==1){return}var name=names[0];if(/_id$/.test(name)){object[name]=model.id}else{object[name]=model}return object}function trigger(router,handlerInfos,ignoreFailure,args){if(router.triggerEvent){router.triggerEvent(handlerInfos,ignoreFailure,args);return}var name=args.shift();if(!handlerInfos){if(ignoreFailure){return}throw new Error("Could not trigger event '"+name+"'. There are no active handlers")}var eventWasHandled=false;for(var i=handlerInfos.length-1;i>=0;i--){var handlerInfo=handlerInfos[i],handler=handlerInfo.handler;if(handler.events&&handler.events[name]){if(handler.events[name].apply(handler,args)===true){eventWasHandled=true}else{return}}}if(!eventWasHandled&&!ignoreFailure){throw new Error("Nothing handled the event '"+name+"'.")}}function getChangelist(oldObject,newObject){var key;var results={all:{},changed:{},removed:{}};merge(results.all,newObject);var didChange=false;coerceQueryParamsToString(oldObject);coerceQueryParamsToString(newObject);for(key in oldObject){if(oldObject.hasOwnProperty(key)){if(!newObject.hasOwnProperty(key)){didChange=true;results.removed[key]=oldObject[key]}}}for(key in newObject){if(newObject.hasOwnProperty(key)){if(isArray(oldObject[key])&&isArray(newObject[key])){if(oldObject[key].length!==newObject[key].length){results.changed[key]=newObject[key];didChange=true}else{for(var i=0,l=oldObject[key].length;i<l;i++){if(oldObject[key][i]!==newObject[key][i]){results.changed[key]=newObject[key];didChange=true}}}}else{if(oldObject[key]!==newObject[key]){results.changed[key]=newObject[key];didChange=true}}}}return didChange&&results}function promiseLabel(label){return"Router: "+label}__exports__.trigger=trigger;__exports__.log=log;__exports__.oCreate=oCreate;__exports__.merge=merge;__exports__.extractQueryParams=extractQueryParams;__exports__.bind=bind;__exports__.isParam=isParam;__exports__.forEach=forEach;__exports__.slice=slice;__exports__.serialize=serialize;__exports__.getChangelist=getChangelist;__exports__.coerceQueryParamsToString=coerceQueryParamsToString;__exports__.promiseLabel=promiseLabel});define("router",["./router/router","exports"],function(__dependency1__,__exports__){"use strict";var Router=__dependency1__.Router;__exports__.Router=Router})})();(function(){function DSL(name){this.parent=name;this.matches=[]}DSL.prototype={resource:function(name,options,callback){Ember.assert("'basic' cannot be used as a resource name.",name!=="basic");if(arguments.length===2&&typeof options==="function"){callback=options;options={}}if(arguments.length===1){options={}}if(typeof options.path!=="string"){options.path="/"+name}if(callback){var dsl=new DSL(name);route(dsl,"loading");route(dsl,"error",{path:"/_unused_dummy_error_path_route_"+name+"/:error"});callback.call(dsl);this.push(options.path,name,dsl.generate())}else{this.push(options.path,name,null)}},push:function(url,name,callback){var parts=name.split(".");if(url===""||url==="/"||parts[parts.length-1]==="index"){this.explicitIndex=true}this.matches.push([url,name,callback])},route:function(name,options){Ember.assert("'basic' cannot be used as a route name.",name!=="basic");route(this,name,options)},generate:function(){var dslMatches=this.matches;if(!this.explicitIndex){this.route("index",{path:"/"})}return function(match){for(var i=0,l=dslMatches.length;i<l;i++){var dslMatch=dslMatches[i];var matchObj=match(dslMatch[0]).to(dslMatch[1],dslMatch[2])}}}};function route(dsl,name,options){Ember.assert("You must use `this.resource` to nest",typeof options!=="function");options=options||{};if(typeof options.path!=="string"){options.path="/"+name}if(dsl.parent&&dsl.parent!=="application"){name=dsl.parent+"."+name}dsl.push(options.path,name,null)}DSL.map=function(callback){var dsl=new DSL;callback.call(dsl);return dsl};Ember.RouterDSL=DSL})();(function(){var get=Ember.get;Ember.controllerFor=function(container,controllerName,lookupOptions){return container.lookup("controller:"+controllerName,lookupOptions)};Ember.generateControllerFactory=function(container,controllerName,context){var Factory,fullName,instance,name,factoryName,controllerType;if(context&&Ember.isArray(context)){controllerType="array"}else if(context){controllerType="object"}else{controllerType="basic"}factoryName="controller:"+controllerType;Factory=container.lookupFactory(factoryName).extend({isGenerated:true,toString:function(){return"(generated "+controllerName+" controller)"}});fullName="controller:"+controllerName;container.register(fullName,Factory);return Factory};Ember.generateController=function(container,controllerName,context){Ember.generateControllerFactory(container,controllerName,context);var fullName="controller:"+controllerName;var instance=container.lookup(fullName);if(get(instance,"namespace.LOG_ACTIVE_GENERATION")){Ember.Logger.info("generated -> "+fullName,{fullName:fullName})}return instance}})();(function(){var routerJsModule=requireModule("router");var Router=routerJsModule.Router;var Transition=routerJsModule.Transition;var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt;var defineProperty=Ember.defineProperty;var slice=Array.prototype.slice;var forEach=Ember.EnumerableUtils.forEach;var DefaultView=Ember._MetamorphView;Ember.Router=Ember.Object.extend(Ember.Evented,{location:"hash",init:function(){this.router=this.constructor.router||this.constructor.map(Ember.K);this._activeViews={};this._setupLocation();if(get(this,"namespace.LOG_TRANSITIONS_INTERNAL")){this.router.log=Ember.Logger.debug}},url:Ember.computed(function(){return get(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(Ember.K);var router=this.router,location=get(this,"location"),container=this.container,self=this,initialURL=get(this,"initialURL");if(get(location,"cancelRouterSetup")){return}this._setupRouter(router,location);container.register("view:default",DefaultView);container.register("view:toplevel",Ember.View.extend());location.onUpdateURL(function(url){self.handleURL(url)});if(typeof initialURL==="undefined"){initialURL=location.getURL()}this.handleURL(initialURL)},didTransition:function(infos){updatePaths(this);this._cancelLoadingEvent();this.notifyPropertyChange("url");Ember.run.once(this,this.trigger,"didTransition");if(get(this,"namespace").LOG_TRANSITIONS){Ember.Logger.log("Transitioned into '"+Ember.Router._routePath(infos)+"'")}},handleURL:function(url){return this._doTransition("handleURL",[url])},transitionTo:function(){return this._doTransition("transitionTo",arguments)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments);updatePaths(this);var infos=this.router.currentHandlerInfos;if(get(this,"namespace").LOG_TRANSITIONS){Ember.Logger.log("Intermediate-transitioned into '"+Ember.Router._routePath(infos)+"'")}},replaceWith:function(){return this._doTransition("replaceWith",arguments)},generate:function(){var url=this.router.generate.apply(this.router,arguments);return this.location.formatURL(url)},isActive:function(routeName){var router=this.router;return router.isActive.apply(router,arguments)},send:function(name,context){this.router.trigger.apply(this.router,arguments)},hasRoute:function(route){return this.router.hasRoute(route)},reset:function(){this.router.reset()},_lookupActiveView:function(templateName){var active=this._activeViews[templateName];return active&&active[0]},_connectActiveView:function(templateName,view){var existing=this._activeViews[templateName];if(existing){existing[0].off("willDestroyElement",this,existing[1])}var disconnect=function(){delete this._activeViews[templateName]};this._activeViews[templateName]=[view,disconnect];view.one("willDestroyElement",this,disconnect)},_setupLocation:function(){var location=get(this,"location"),rootURL=get(this,"rootURL");if("string"===typeof location&&this.container){var resolvedLocation=this.container.lookup("location:"+location);if("undefined"!==typeof resolvedLocation){location=set(this,"location",resolvedLocation)}else{var options={implementation:location};location=set(this,"location",Ember.Location.create(options))}}if(typeof rootURL==="string"){location.rootURL=rootURL}if(typeof location.initState==="function"){location.initState()}},_getHandlerFunction:function(){var seen={},container=this.container,DefaultRoute=container.lookupFactory("route:basic"),self=this;return function(name){var routeName="route:"+name,handler=container.lookup(routeName);if(seen[name]){return handler}seen[name]=true;if(!handler){container.register(routeName,DefaultRoute.extend());handler=container.lookup(routeName);if(get(self,"namespace.LOG_ACTIVE_GENERATION")){Ember.Logger.info("generated -> "+routeName,{fullName:routeName})}}handler.routeName=name;return handler}},_setupRouter:function(router,location){var lastURL,emberRouter=this;router.getHandler=this._getHandlerFunction();var doUpdateURL=function(){location.setURL(lastURL)};router.updateURL=function(path){lastURL=path;Ember.run.once(doUpdateURL)};if(location.replaceURL){var doReplaceURL=function(){location.replaceURL(lastURL)};router.replaceURL=function(path){lastURL=path;Ember.run.once(doReplaceURL)}}router.didTransition=function(infos){emberRouter.didTransition(infos)}},_doTransition:function(method,args){args=slice.call(args);args[0]=args[0]||"/";var name=args[0],self=this,isQueryParamsOnly=false,queryParams;if(!isQueryParamsOnly&&name.charAt(0)!=="/"){Ember.assert("The route "+name+" was not found",this.router.hasRoute(name))}if(queryParams){if(!name){var handlerInfos=this.router.activeTransition?this.router.activeTransition.state.handlerInfos:this.router.state.handlerInfos;name=handlerInfos[handlerInfos.length-1].name;args.unshift(name)}var qpMappings=this._queryParamNamesFor(name);Ember.Router._translateQueryParams(queryParams,qpMappings.translations,name);var value;for(var key in queryParams){var descopedParam=Ember.Router._descopeQueryParam(key);if(key in qpMappings.queryParams){value=queryParams[key];delete queryParams[key];queryParams[qpMappings.queryParams[key]]=value}else if(descopedParam in qpMappings.validQueryParams){value=queryParams[key];delete queryParams[key];queryParams[descopedParam]=value}}}var transitionPromise=this.router[method].apply(this.router,args);transitionPromise.then(null,function(error){if(error&&error.name==="UnrecognizedURLError"){Ember.assert("The URL '"+error.message+"' did not match any routes in your application")}},"Ember: Check for Router unrecognized URL error");return transitionPromise},_scheduleLoadingEvent:function(transition,originRoute){this._cancelLoadingEvent();this._loadingStateTimer=Ember.run.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",transition,originRoute)},_fireLoadingEvent:function(transition,originRoute){if(!this.router.activeTransition){return}transition.trigger(true,"loading",transition,originRoute)},_cancelLoadingEvent:function(){if(this._loadingStateTimer){Ember.run.cancel(this._loadingStateTimer)}this._loadingStateTimer=null},_queryParamNamesFor:function(routeName){var handlerInfos=this.router.recognizer.handlersFor(routeName);var result={queryParams:Ember.create(null),translations:Ember.create(null),validQueryParams:Ember.create(null)};var routerjs=this.router;forEach(handlerInfos,function(recogHandler){var route=routerjs.getHandler(recogHandler.handler);getQueryParamsForRoute(route,result)});descopeQueryParams(result.queryParams);for(var k in result.queryParams){result.validQueryParams[result.queryParams[k]]=true}return result},_queryParamNamesForSingle:function(routeName){var result={queryParams:Ember.create(null),translations:Ember.create(null)};var route=this.router.getHandler(routeName);getQueryParamsForRoute(route,result);if(routeName!=="application"){var allParams=this._queryParamNamesFor(routeName);for(var k in result.queryParams){result.queryParams[k]=allParams.queryParams[k]}}return result},_queryParamOverrides:function(results,queryParams,callback){for(var name in queryParams){var parts=name.split(":");var controller=controllerOrProtoFor(parts[0],this.container);Ember.assert(fmt("Could not lookup controller '%@' while setting up query params",[controller]),controller);results[queryParams[name]]=get(controller,parts[1]);if(callback){callback(name,queryParams[name],name)}}}});function getQueryParamsForRoute(route,result){var controllerName=route.controllerName||route.routeName,controller=controllerOrProtoFor(controllerName,route.container),queryParams=get(controller,"queryParams");if(queryParams){forEach(queryParams,function(propName){var parts=propName.split(":");var urlKeyName;if(parts.length>1){urlKeyName=parts[1]}else{if(controllerName!=="application"){urlKeyName=controllerName+"["+propName+"]"}else{urlKeyName=propName}}var controllerFullname=controllerName+":"+propName;result.queryParams[controllerFullname]=urlKeyName;result.translations[parts[0]]=controllerFullname})}}function controllerOrProtoFor(controllerName,container){var fullName="controller:"+controllerName;if(container.cache.has(fullName)){return container.lookup(fullName)}else{var controllerClass=container.lookupFactory(fullName);if(controllerClass&&typeof controllerClass.proto==="function"){return controllerClass.proto()}else{return{}}}}function descopeQueryParams(params){var paramCounts={},descopedParam,k;for(k in params){descopedParam=Ember.Router._descopeQueryParam(params[k]);if(!paramCounts[descopedParam]){paramCounts[descopedParam]=1}else{paramCounts[descopedParam]=paramCounts[descopedParam]+1}}for(k in params){descopedParam=Ember.Router._descopeQueryParam(params[k]);if(paramCounts[descopedParam]===1){params[k]=descopedParam}}}function forEachRouteAbove(originRoute,transition,callback){var handlerInfos=transition.state.handlerInfos,originRouteFound=false;for(var i=handlerInfos.length-1;i>=0;--i){var handlerInfo=handlerInfos[i],route=handlerInfo.handler;if(!originRouteFound){if(originRoute===route){originRouteFound=true}continue}if(callback(route,handlerInfos[i+1].handler)!==true){return false}}return true}var defaultActionHandlers={willResolveModel:function(transition,originRoute){originRoute.router._scheduleLoadingEvent(transition,originRoute)},error:function(error,transition,originRoute){var router=originRoute.router;var tryTopLevel=forEachRouteAbove(originRoute,transition,function(route,childRoute){var childErrorRouteName=findChildRouteName(route,childRoute,"error");if(childErrorRouteName){router.intermediateTransitionTo(childErrorRouteName,error);return}return true});if(tryTopLevel){if(routeHasBeenDefined(originRoute.router,"application_error")){router.intermediateTransitionTo("application_error",error);return}}else{return}Ember.Logger.error("Error while loading route: "+(error&&error.stack))},loading:function(transition,originRoute){var router=originRoute.router;var tryTopLevel=forEachRouteAbove(originRoute,transition,function(route,childRoute){var childLoadingRouteName=findChildRouteName(route,childRoute,"loading");if(childLoadingRouteName){router.intermediateTransitionTo(childLoadingRouteName);return}if(transition.pivotHandler!==route){return true}});if(tryTopLevel){if(routeHasBeenDefined(originRoute.router,"application_loading")){router.intermediateTransitionTo("application_loading");return}}}};function findChildRouteName(parentRoute,originatingChildRoute,name){var router=parentRoute.router,childName,targetChildRouteName=originatingChildRoute.routeName.split(".").pop(),namespace=parentRoute.routeName==="application"?"":parentRoute.routeName+".";childName=namespace+name;if(routeHasBeenDefined(router,childName)){return childName}}function routeHasBeenDefined(router,name){var container=router.container;return router.hasRoute(name)&&(container.has("template:"+name)||container.has("route:"+name))}function triggerEvent(handlerInfos,ignoreFailure,args){var name=args.shift();if(!handlerInfos){if(ignoreFailure){return}throw new Ember.Error("Can't trigger action '"+name+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}var eventWasHandled=false;for(var i=handlerInfos.length-1;i>=0;i--){var handlerInfo=handlerInfos[i],handler=handlerInfo.handler;if(handler._actions&&handler._actions[name]){if(handler._actions[name].apply(handler,args)===true){eventWasHandled=true}else{return}}}if(defaultActionHandlers[name]){defaultActionHandlers[name].apply(null,args);return}if(!eventWasHandled&&!ignoreFailure){throw new Ember.Error("Nothing handled the action '"+name+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}}function updatePaths(router){var appController=router.container.lookup("controller:application");if(!appController){return}var infos=router.router.currentHandlerInfos,path=Ember.Router._routePath(infos);if(!("currentPath"in appController)){defineProperty(appController,"currentPath")}set(appController,"currentPath",path);if(!("currentRouteName"in appController)){defineProperty(appController,"currentRouteName")}set(appController,"currentRouteName",infos[infos.length-1].name)}Ember.Router.reopenClass({router:null,map:function(callback){var router=this.router;if(!router){router=new Router;router.callbacks=[];router.triggerEvent=triggerEvent;this.reopenClass({router:router})}var dsl=Ember.RouterDSL.map(function(){this.resource("application",{path:"/"},function(){for(var i=0;i<router.callbacks.length;i++){router.callbacks[i].call(this)}callback.call(this)})});router.callbacks.push(callback);router.map(dsl.generate());return router},_routePath:function(handlerInfos){var path=[];function intersectionMatches(a1,a2){for(var i=0,len=a1.length;i<len;++i){if(a1[i]!==a2[i]){return false}}return true}for(var i=1,l=handlerInfos.length;i<l;i++){var name=handlerInfos[i].name,nameParts=name.split("."),oldNameParts=slice.call(path);while(oldNameParts.length){if(intersectionMatches(oldNameParts,nameParts)){break}oldNameParts.shift()}path.push.apply(path,nameParts.slice(oldNameParts.length))}return path.join(".")},_translateQueryParams:function(queryParams,translations,routeName){for(var name in queryParams){if(!queryParams.hasOwnProperty(name)){continue}if(name in translations){queryParams[translations[name]]=queryParams[name];delete queryParams[name]}else{Ember.assert(fmt("You supplied an unknown query param controller property '%@' for route '%@'. Only the following query param properties can be set for this route: %@",[name,routeName,Ember.keys(translations)]),name in queryParams)}}},_descopeQueryParam:function(param){var regex=/\[(.+)\]/,result=param.match(regex);if(!result){result=param}else{result=result[1]}return result}})})();(function(){var get=Ember.get,set=Ember.set,getProperties=Ember.getProperties,classify=Ember.String.classify,fmt=Ember.String.fmt,a_forEach=Ember.EnumerableUtils.forEach,a_replace=Ember.EnumerableUtils.replace;
Ember.Route=Ember.Object.extend(Ember.ActionHandler,{exit:function(){this.deactivate();this.teardownViews()},enter:function(){this.activate()},viewName:null,templateName:null,controllerName:null,_actions:{finalizeQueryParamChange:function(params,finalParams){}},events:null,mergedProperties:["events"],deactivate:Ember.K,activate:Ember.K,transitionTo:function(name,context){var router=this.router;return router.transitionTo.apply(router,arguments)},intermediateTransitionTo:function(){var router=this.router;router.intermediateTransitionTo.apply(router,arguments)},refresh:function(){return this.router.router.refresh(this).method("replace")},replaceWith:function(){var router=this.router;return router.replaceWith.apply(router,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(context,transition){var controllerName=this.controllerName||this.routeName,controller=this.controllerFor(controllerName,true);if(!controller){controller=this.generateController(controllerName,context)}this.controller=controller;if(this.setupControllers){Ember.deprecate("Ember.Route.setupControllers is deprecated. Please use Ember.Route.setupController(controller, model) instead.");this.setupControllers(controller,context)}else{this.setupController(controller,context)}if(this.renderTemplates){Ember.deprecate("Ember.Route.renderTemplates is deprecated. Please use Ember.Route.renderTemplate(controller, model) instead.");this.renderTemplates(context)}else{this.renderTemplate(controller,context)}},beforeModel:Ember.K,afterModel:Ember.K,redirect:Ember.K,contextDidChange:function(){this.currentModel=this.context},model:function(params,transition){var match,name,sawParams,value;for(var prop in params){if(prop==="queryParams"){continue}if(match=prop.match(/^(.*)_id$/)){name=match[1];value=params[prop]}sawParams=true}if(!name&&sawParams){return Ember.copy(params)}else if(!name){if(transition.resolveIndex!==transition.state.handlerInfos.length-1){return}var parentModel=transition.state.handlerInfos[transition.resolveIndex-1].context;return parentModel}return this.findModel(name,value)},deserialize:function(params,transition){return this.model(params,transition)},findModel:function(){var store=get(this,"store");return store.find.apply(store,arguments)},store:Ember.computed(function(){var container=this.container;var routeName=this.routeName;var namespace=get(this,"router.namespace");return{find:function(name,value){var modelClass=container.lookupFactory("model:"+name);Ember.assert("You used the dynamic segment "+name+"_id in your route "+routeName+", but "+namespace+"."+classify(name)+" did not exist and you did not override your route's `model` "+"hook.",modelClass);if(!modelClass){return}Ember.assert(classify(name)+" has no method `find`.",typeof modelClass.find==="function");return modelClass.find(value)}}}),serialize:function(model,params){if(params.length<1){return}if(!model){return}var name=params[0],object={};if(/_id$/.test(name)&&params.length===1){object[name]=get(model,"id")}else{object=getProperties(model,params)}return object},setupController:function(controller,context,transition){if(controller&&context!==undefined){set(controller,"model",context)}},controllerFor:function(name,_skipAssert){var container=this.container,route=container.lookup("route:"+name),controller;if(route&&route.controllerName){name=route.controllerName}controller=container.lookup("controller:"+name);Ember.assert("The controller named '"+name+"' could not be found. Make sure "+"that this route exists and has already been entered at least "+"once. If you are accessing a controller not associated with a "+"route, make sure the controller class is explicitly defined.",controller||_skipAssert===true);return controller},generateController:function(name,model){var container=this.container;model=model||this.modelFor(name);return Ember.generateController(container,name,model)},modelFor:function(name){var route=this.container.lookup("route:"+name),transition=this.router.router.activeTransition;if(transition){var modelLookupName=route&&route.routeName||name;if(transition.resolvedModels.hasOwnProperty(modelLookupName)){return transition.resolvedModels[modelLookupName]}}return route&&route.currentModel},renderTemplate:function(controller,model){this.render()},render:function(name,options){Ember.assert("The name in the given arguments is undefined",arguments.length>0?!Ember.isNone(arguments[0]):true);var namePassed=!!name;if(typeof name==="object"&&!options){options=name;name=this.routeName}options=options||{};var templateName;if(name){name=name.replace(/\//g,".");templateName=name}else{name=this.routeName;templateName=this.templateName||name}var viewName=options.view||this.viewName||name;var container=this.container,view=container.lookup("view:"+viewName),template=view?view.get("template"):null;if(!template){template=container.lookup("template:"+templateName)}if(!view&&!template){Ember.assert('Could not find "'+name+'" template or view.',!namePassed);if(get(this.router,"namespace.LOG_VIEW_LOOKUPS")){Ember.Logger.info('Could not find "'+name+'" template or view. Nothing will be rendered',{fullName:"template:"+name})}return}options=normalizeOptions(this,name,template,options);view=setupView(view,container,options);if(options.outlet==="main"){this.lastRenderedTemplate=name}appendView(this,view,options)},disconnectOutlet:function(options){if(!options||typeof options==="string"){var outletName=options;options={};options.outlet=outletName}options.parentView=options.parentView?options.parentView.replace(/\//g,"."):parentTemplate(this);options.outlet=options.outlet||"main";var parentView=this.router._lookupActiveView(options.parentView);if(parentView){parentView.disconnectOutlet(options.outlet)}},willDestroy:function(){this.teardownViews()},teardownViews:function(){if(this.teardownTopLevelView){this.teardownTopLevelView()}var teardownOutletViews=this.teardownOutletViews||[];a_forEach(teardownOutletViews,function(teardownOutletView){teardownOutletView()});delete this.teardownTopLevelView;delete this.teardownOutletViews;delete this.lastRenderedTemplate}});function parentRoute(route){var handlerInfos=route.router.router.state.handlerInfos;if(!handlerInfos){return}var parent,current;for(var i=0,l=handlerInfos.length;i<l;i++){current=handlerInfos[i].handler;if(current===route){return parent}parent=current}}function parentTemplate(route){var parent=parentRoute(route),template;if(!parent){return}if(template=parent.lastRenderedTemplate){return template}else{return parentTemplate(parent)}}function normalizeOptions(route,name,template,options){options=options||{};options.into=options.into?options.into.replace(/\//g,"."):parentTemplate(route);options.outlet=options.outlet||"main";options.name=name;options.template=template;options.LOG_VIEW_LOOKUPS=get(route.router,"namespace.LOG_VIEW_LOOKUPS");Ember.assert("An outlet ("+options.outlet+") was specified but was not found.",options.outlet==="main"||options.into);var controller=options.controller,namedController;if(options.controller){controller=options.controller}else if(namedController=route.container.lookup("controller:"+name)){controller=namedController}else{controller=route.controllerName||route.routeName}if(typeof controller==="string"){var controllerName=controller;controller=route.container.lookup("controller:"+controllerName);if(!controller){throw new Ember.Error("You passed `controller: '"+controllerName+"'` into the `render` method, but no such controller could be found.")}}options.controller=controller;return options}function setupView(view,container,options){if(view){if(options.LOG_VIEW_LOOKUPS){Ember.Logger.info("Rendering "+options.name+" with "+view,{fullName:"view:"+options.name})}}else{var defaultView=options.into?"view:default":"view:toplevel";view=container.lookup(defaultView);if(options.LOG_VIEW_LOOKUPS){Ember.Logger.info("Rendering "+options.name+" with default view "+view,{fullName:"view:"+options.name})}}if(!get(view,"templateName")){set(view,"template",options.template);set(view,"_debugTemplateName",options.name)}set(view,"renderedName",options.name);set(view,"controller",options.controller);return view}function appendView(route,view,options){if(options.into){var parentView=route.router._lookupActiveView(options.into);var teardownOutletView=generateOutletTeardown(parentView,options.outlet);if(!route.teardownOutletViews){route.teardownOutletViews=[]}a_replace(route.teardownOutletViews,0,0,[teardownOutletView]);parentView.connectOutlet(options.outlet,view)}else{var rootElement=get(route,"router.namespace.rootElement");if(route.teardownTopLevelView){route.teardownTopLevelView()}route.router._connectActiveView(options.name,view);route.teardownTopLevelView=generateTopLevelTeardown(view);view.appendTo(rootElement)}}function generateTopLevelTeardown(view){return function(){view.destroy()}}function generateOutletTeardown(parentView,outlet){return function(){parentView.disconnectOutlet(outlet)}}})();(function(){})();(function(){Ember.onLoad("Ember.Handlebars",function(){var handlebarsResolve=Ember.Handlebars.resolveParams,map=Ember.ArrayPolyfills.map,get=Ember.get,handlebarsGet=Ember.Handlebars.get;function resolveParams(context,params,options){return map.call(resolvePaths(context,params,options),function(path,i){if(null===path){return params[i]}else{return handlebarsGet(context,path,options)}})}function resolvePaths(context,params,options){var resolved=handlebarsResolve(context,params,options),types=options.types;return map.call(resolved,function(object,i){if(types[i]==="ID"){return unwrap(object,params[i])}else{return null}});function unwrap(object,path){if(path==="controller"){return path}if(Ember.ControllerMixin.detect(object)){return unwrap(get(object,"model"),path?path+".model":"model")}else{return path}}}Ember.Router.resolveParams=resolveParams;Ember.Router.resolvePaths=resolvePaths})})();(function(){var get=Ember.get,set=Ember.set,fmt=Ember.String.fmt;var slice=Array.prototype.slice;var numberOfContextsAcceptedByHandler=function(handler,handlerInfos){var req=0;for(var i=0,l=handlerInfos.length;i<l;i++){req=req+handlerInfos[i].names.length;if(handlerInfos[i].handler===handler)break}return req};Ember.onLoad("Ember.Handlebars",function(Handlebars){var QueryParams=Ember.Object.extend({values:null});var resolveParams=Ember.Router.resolveParams,translateQueryParams=Ember.Router._translateQueryParams,resolvePaths=Ember.Router.resolvePaths,isSimpleClick=Ember.ViewUtils.isSimpleClick;function getResolvedPaths(options){var types=options.options.types,data=options.options.data;return resolvePaths(options.context,options.params,{types:types,data:data})}var LinkView=Ember.LinkView=Ember.View.extend({tagName:"a",currentWhen:null,title:null,rel:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:false,replace:false,attributeBindings:["href","title","rel"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var eventName=get(this,"eventName"),i;this.on(eventName,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var helperParameters=this.parameters,linkTextPath=helperParameters.options.linkTextPath,paths=getResolvedPaths(helperParameters),length=paths.length,path,i,normalizedPath;if(linkTextPath){normalizedPath=Ember.Handlebars.normalizePath(helperParameters.context,linkTextPath,helperParameters.options.data);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this.rerender)}for(i=0;i<length;i++){path=paths[i];if(null===path){continue}normalizedPath=Ember.Handlebars.normalizePath(helperParameters.context,path,helperParameters.options.data);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this._paramsChanged)}var queryParamsObject=this.queryParamsObject;if(queryParamsObject){var values=queryParamsObject.values;for(var k in values){if(!values.hasOwnProperty(k)){continue}if(queryParamsObject.types[k]==="ID"){normalizedPath=Ember.Handlebars.normalizePath(helperParameters.context,values[k],helperParameters.options.data);this.registerObserver(normalizedPath.root,normalizedPath.path,this,this._paramsChanged)}}}},afterRender:function(){this._super.apply(this,arguments);this._setupPathObservers()},concreteView:Ember.computed(function(){return get(this,"parentView")}).property("parentView"),disabled:Ember.computed(function computeLinkViewDisabled(key,value){if(value!==undefined){this.set("_isDisabled",value)}return value?get(this,"disabledClass"):false}),active:Ember.computed(function computeLinkViewActive(){if(get(this,"loading")){return false}var router=get(this,"router"),routeArgs=get(this,"routeArgs"),contexts=routeArgs.slice(1),resolvedParams=get(this,"resolvedParams"),currentWhen=this.currentWhen||routeArgs[0],maximumContexts=numberOfContextsAcceptedByHandler(currentWhen,router.router.recognizer.handlersFor(currentWhen));if(contexts.length>maximumContexts)currentWhen=routeArgs[0];var isActive=router.isActive.apply(router,[currentWhen].concat(contexts));if(isActive){return get(this,"activeClass")}}).property("resolvedParams","routeArgs"),loading:Ember.computed(function computeLinkViewLoading(){if(!get(this,"routeArgs")){return get(this,"loadingClass")}}).property("routeArgs"),router:Ember.computed(function(){return get(this,"controller").container.lookup("router:main")}),_invoke:function(event){if(!isSimpleClick(event)){return true}if(this.preventDefault!==false){event.preventDefault()}if(this.bubbles===false){event.stopPropagation()}if(get(this,"_isDisabled")){return false}if(get(this,"loading")){Ember.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid.");return false}var router=get(this,"router"),routeArgs=get(this,"routeArgs");var transition;if(get(this,"replace")){transition=router.replaceWith.apply(router,routeArgs)}else{transition=router.transitionTo.apply(router,routeArgs)}var url=router.router.generate.apply(router.router,get(this,"routeArgs"));Ember.run.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,transition,url)},_eagerUpdateUrl:function(transition,href){if(!transition.isActive||!transition.urlMethod){return}if(href.indexOf("#")===0){href=href.slice(1)}var routerjs=get(this,"router.router");if(transition.urlMethod==="update"){routerjs.updateURL(href)}else if(transition.urlMethod==="replace"){routerjs.replaceURL(href)}transition.method(null)},resolvedParams:Ember.computed(function(){var parameters=this.parameters,options=parameters.options,types=options.types,data=options.data;if(parameters.params.length===0){var appController=this.container.lookup("controller:application");return[get(appController,"currentRouteName")]}else{return resolveParams(parameters.context,parameters.params,{types:types,data:data})}}).property("router.url"),routeArgs:Ember.computed(function computeLinkViewRouteArgs(){var resolvedParams=get(this,"resolvedParams").slice(0),router=get(this,"router"),namedRoute=resolvedParams[0];if(!namedRoute){return}Ember.assert(fmt("The attempt to link-to route '%@' failed. "+"The router did not find '%@' in its possible routes: '%@'",[namedRoute,namedRoute,Ember.keys(router.router.recognizer.names).join("', '")]),router.hasRoute(namedRoute));var handlers=router.router.recognizer.handlersFor(namedRoute);var normalizedPath=handlers[handlers.length-1].handler;if(namedRoute!==normalizedPath){this.set("currentWhen",namedRoute);namedRoute=handlers[handlers.length-1].handler;resolvedParams[0]=namedRoute}for(var i=1,len=resolvedParams.length;i<len;++i){var param=resolvedParams[i];if(param===null||typeof param==="undefined"){return}}return resolvedParams}).property("resolvedParams","queryParams"),queryParamsObject:null,queryParams:Ember.computed(function computeLinkViewQueryParams(){var queryParamsObject=get(this,"queryParamsObject"),suppliedParams={};if(queryParamsObject){Ember.merge(suppliedParams,queryParamsObject.values)}var resolvedParams=get(this,"resolvedParams"),router=get(this,"router"),routeName=resolvedParams[0],paramsForRoute=router._queryParamNamesFor(routeName),queryParams=paramsForRoute.queryParams,translations=paramsForRoute.translations,paramsForRecognizer={};translateQueryParams(suppliedParams,translations,routeName);var helperParameters=this.parameters;router._queryParamOverrides(paramsForRecognizer,queryParams,function(name,resultsName){if(!(name in suppliedParams)){return}var parts=name.split(":");var type=queryParamsObject.types[parts[1]];var value;if(type==="ID"){var normalizedPath=Ember.Handlebars.normalizePath(helperParameters.context,suppliedParams[name],helperParameters.options.data);value=Ember.Handlebars.get(normalizedPath.root,normalizedPath.path,helperParameters.options)}else{value=suppliedParams[name]}delete suppliedParams[name];paramsForRecognizer[resultsName]=value});return paramsForRecognizer}).property("resolvedParams.[]"),href:Ember.computed(function computeLinkViewHref(){if(get(this,"tagName")!=="a"){return}var router=get(this,"router"),routeArgs=get(this,"routeArgs");return routeArgs?router.generate.apply(router,routeArgs):get(this,"loadingHref")}).property("routeArgs"),loadingHref:"#"});LinkView.toString=function(){return"LinkView"};Ember.Handlebars.registerHelper("link-to",function linkToHelper(name){var options=slice.call(arguments,-1)[0],params=slice.call(arguments,0,-1),hash=options.hash;if(params[params.length-1]instanceof QueryParams){hash.queryParamsObject=params.pop()}hash.disabledBinding=hash.disabledWhen;if(!options.fn){var linkTitle=params.shift();var linkType=options.types.shift();var context=this;if(linkType==="ID"){options.linkTextPath=linkTitle;options.fn=function(){return Ember.Handlebars.getEscaped(context,linkTitle,options)}}else{options.fn=function(){return linkTitle}}}hash.parameters={context:this,options:options,params:params};return Ember.Handlebars.helpers.view.call(this,LinkView,options)});Ember.Handlebars.registerHelper("linkTo",function linkToHelper(){Ember.warn("The 'linkTo' view helper is deprecated in favor of 'link-to'");return Ember.Handlebars.helpers["link-to"].apply(this,arguments)})})})();(function(){var get=Ember.get,set=Ember.set;Ember.onLoad("Ember.Handlebars",function(Handlebars){Handlebars.OutletView=Ember.ContainerView.extend(Ember._Metamorph);Handlebars.registerHelper("outlet",function outletHelper(property,options){var outletSource,container,viewName,viewClass,viewFullName;if(property&&property.data&&property.data.isRenderData){options=property;property="main"}container=options.data.view.container;outletSource=options.data.view;while(!outletSource.get("template.isTop")){outletSource=outletSource.get("_parentView")}viewName=options.hash.view;if(viewName){viewFullName="view:"+viewName;Ember.assert("Using a quoteless view parameter with {{outlet}} is not supported. Please update to quoted usage '{{outlet \""+viewName+'"}}.',options.hashTypes.view!=="ID");Ember.assert("The view name you supplied '"+viewName+"' did not resolve to a view.",container.has(viewFullName))}viewClass=viewName?container.lookupFactory(viewFullName):options.hash.viewClass||Handlebars.OutletView;options.data.view.set("outletSource",outletSource);options.hash.currentViewBinding="_view.outletSource._outlets."+property;return Handlebars.helpers.view.call(this,viewClass,options)})})})();(function(){var get=Ember.get,set=Ember.set;Ember.onLoad("Ember.Handlebars",function(Handlebars){Ember.Handlebars.registerHelper("render",function renderHelper(name,contextString,options){var length=arguments.length;var contextProvided=length===3,container,router,controller,view,context,lookupOptions;container=(options||contextString).data.keywords.controller.container;router=container.lookup("router:main");if(length===2){options=contextString;contextString=undefined;Ember.assert('You can only use the {{render}} helper once without a model object as its second argument, as in {{render "post" post}}.',!router||!router._lookupActiveView(name))}else if(length===3){context=Ember.Handlebars.get(options.contexts[1],contextString,options)}else{throw Ember.Error("You must pass a templateName to render")}Ember.deprecate("Using a quoteless parameter with {{render}} is deprecated. Please update to quoted usage '{{render \""+name+'"}}.',options.types[0]!=="ID");name=name.replace(/\//g,".");view=container.lookup("view:"+name)||container.lookup("view:default");var controllerName=options.hash.controller||name;var controllerFullName="controller:"+controllerName;if(options.hash.controller){Ember.assert("The controller name you supplied '"+controllerName+"' did not resolve to a controller.",container.has(controllerFullName))}var parentController=options.data.keywords.controller;if(length>2){var factory=container.lookupFactory(controllerFullName)||Ember.generateControllerFactory(container,controllerName,context);controller=factory.create({model:context,parentController:parentController,target:parentController})}else{controller=container.lookup(controllerFullName)||Ember.generateController(container,controllerName);controller.setProperties({target:parentController,parentController:parentController})}var root=options.contexts[1];if(root){view.registerObserver(root,contextString,function(){controller.set("model",Ember.Handlebars.get(root,contextString,options))})}options.hash.viewName=Ember.String.camelize(name);var templateName="template:"+name;Ember.assert("You used `{{render '"+name+"'}}`, but '"+name+"' can not be found as either a template or a view.",container.has("view:"+name)||container.has(templateName)||options.fn);options.hash.template=container.lookup(templateName);options.hash.controller=controller;if(router&&!context){router._connectActiveView(name,view)}Ember.Handlebars.helpers.view.call(this,view,options)})})})();(function(){Ember.onLoad("Ember.Handlebars",function(Handlebars){var resolveParams=Ember.Router.resolveParams,isSimpleClick=Ember.ViewUtils.isSimpleClick;var EmberHandlebars=Ember.Handlebars,handlebarsGet=EmberHandlebars.get,SafeString=EmberHandlebars.SafeString,forEach=Ember.ArrayPolyfills.forEach,get=Ember.get,a_slice=Array.prototype.slice;function args(options,actionName){var ret=[];if(actionName){ret.push(actionName)}var types=options.options.types.slice(1),data=options.options.data;return ret.concat(resolveParams(options.context,options.params,{types:types,data:data}))}var ActionHelper=EmberHandlebars.ActionHelper={registeredActions:{}};var keys=["alt","shift","meta","ctrl"];var POINTER_EVENT_TYPE_REGEX=/^click|mouse|touch/;var isAllowedEvent=function(event,allowedKeys){if(typeof allowedKeys==="undefined"){if(POINTER_EVENT_TYPE_REGEX.test(event.type)){return isSimpleClick(event)}else{allowedKeys=""}}if(allowedKeys.indexOf("any")>=0){return true}var allowed=true;forEach.call(keys,function(key){if(event[key+"Key"]&&allowedKeys.indexOf(key)===-1){allowed=false}});return allowed};ActionHelper.registerAction=function(actionNameOrPath,options,allowedKeys){var actionId=++Ember.uuid;ActionHelper.registeredActions[actionId]={eventName:options.eventName,handler:function handleRegisteredAction(event){if(!isAllowedEvent(event,allowedKeys)){return true}if(options.preventDefault!==false){event.preventDefault()}if(options.bubbles===false){event.stopPropagation()}var target=options.target,actionName;if(target.target){target=handlebarsGet(target.root,target.target,target.options)}else{target=target.root}if(options.boundProperty){actionName=handlebarsGet(target,actionNameOrPath,options.options);if(typeof actionName==="undefined"||typeof actionName==="function"){Ember.assert("You specified a quoteless path to the {{action}} helper '"+actionNameOrPath+"' which did not resolve to an actionName. Perhaps you meant to use a quoted actionName? (e.g. {{action '"+actionNameOrPath+"'}}).",true);actionName=actionNameOrPath}}if(!actionName){actionName=actionNameOrPath}Ember.run(function runRegisteredAction(){if(target.send){target.send.apply(target,args(options.parameters,actionName))}else{Ember.assert("The action '"+actionName+"' did not exist on "+target,typeof target[actionName]==="function");target[actionName].apply(target,args(options.parameters))}})}};options.view.on("willClearRender",function(){delete ActionHelper.registeredActions[actionId]});return actionId};EmberHandlebars.registerHelper("action",function actionHelper(actionName){var options=arguments[arguments.length-1],contexts=a_slice.call(arguments,1,-1);var hash=options.hash,controller=options.data.keywords.controller;var action={eventName:hash.on||"click",parameters:{context:this,options:options,params:contexts},view:options.data.view,bubbles:hash.bubbles,preventDefault:hash.preventDefault,target:{options:options},boundProperty:options.types[0]==="ID"};if(hash.target){action.target.root=this;action.target.target=hash.target}else if(controller){action.target.root=controller}var actionId=ActionHelper.registerAction(actionName,action,hash.allowedKeys);return new SafeString('data-ember-action="'+actionId+'"')})})})();(function(){})();(function(){var get=Ember.get,set=Ember.set,map=Ember.EnumerableUtils.map;var queuedQueryParamChanges={};Ember.ControllerMixin.reopen({transitionToRoute:function(){var target=get(this,"target"),method=target.transitionToRoute||target.transitionTo;return method.apply(target,arguments)},transitionTo:function(){Ember.deprecate("transitionTo is deprecated. Please use transitionToRoute.");return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var target=get(this,"target"),method=target.replaceRoute||target.replaceWith;return method.apply(target,arguments)},replaceWith:function(){Ember.deprecate("replaceWith is deprecated. Please use replaceRoute.");return this.replaceRoute.apply(this,arguments)}})})();(function(){var get=Ember.get,set=Ember.set;Ember.View.reopen({init:function(){set(this,"_outlets",{});this._super()},connectOutlet:function(outletName,view){if(this._pendingDisconnections){delete this._pendingDisconnections[outletName]}if(this._hasEquivalentView(outletName,view)){view.destroy();return}var outlets=get(this,"_outlets"),container=get(this,"container"),router=container&&container.lookup("router:main"),renderedName=get(view,"renderedName");set(outlets,outletName,view);if(router&&renderedName){router._connectActiveView(renderedName,view)}},_hasEquivalentView:function(outletName,view){var existingView=get(this,"_outlets."+outletName);return existingView&&existingView.constructor===view.constructor&&existingView.get("template")===view.get("template")&&existingView.get("context")===view.get("context")},disconnectOutlet:function(outletName){if(!this._pendingDisconnections){this._pendingDisconnections={}}this._pendingDisconnections[outletName]=true;Ember.run.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(this.isDestroyed)return;var outlets=get(this,"_outlets");var pendingDisconnections=this._pendingDisconnections;this._pendingDisconnections=null;for(var outletName in pendingDisconnections){set(outlets,outletName,null)}}})})();(function(){var queues=Ember.run.queues,indexOf=Ember.ArrayPolyfills.indexOf;queues.splice(indexOf.call(queues,"actions")+1,0,"routerTransitions")})();(function(){var get=Ember.get,set=Ember.set;Ember.Location={create:function(options){var implementation=options&&options.implementation;Ember.assert("Ember.Location.create: you must specify a 'implementation' option",!!implementation);var implementationClass=this.implementations[implementation];Ember.assert("Ember.Location.create: "+implementation+" is not a valid implementation",!!implementationClass);return implementationClass.create.apply(implementationClass,arguments)},registerImplementation:function(name,implementation){Ember.deprecate("Using the Ember.Location.registerImplementation is no longer supported. Register your custom location implementation with the container instead.",false);this.implementations[name]=implementation},implementations:{},getHash:function(){var href=window.location.href,hashIndex=href.indexOf("#");if(hashIndex===-1){return""}else{return href.substr(hashIndex)}}}})();(function(){var get=Ember.get,set=Ember.set;Ember.NoneLocation=Ember.Object.extend({implementation:"none",path:"",getURL:function(){return get(this,"path")},setURL:function(path){set(this,"path",path)},onUpdateURL:function(callback){this.updateCallback=callback},handleURL:function(url){set(this,"path",url);this.updateCallback(url)},formatURL:function(url){return url}})})();(function(){var get=Ember.get,set=Ember.set,getHash=Ember.Location.getHash;Ember.HashLocation=Ember.Object.extend({implementation:"hash",init:function(){set(this,"location",get(this,"location")||window.location)},getURL:function(){return getHash().substr(1)},setURL:function(path){get(this,"location").hash=path;set(this,"lastSetURL",path)},replaceURL:function(path){get(this,"location").replace("#"+path);set(this,"lastSetURL",path)},onUpdateURL:function(callback){var self=this;var guid=Ember.guidFor(this);Ember.$(window).on("hashchange.ember-location-"+guid,function(){Ember.run(function(){var path=self.getURL();if(get(self,"lastSetURL")===path){return}set(self,"lastSetURL",null);callback(path)})})},formatURL:function(url){return"#"+url},willDestroy:function(){var guid=Ember.guidFor(this);Ember.$(window).off("hashchange.ember-location-"+guid)}})})();(function(){var get=Ember.get,set=Ember.set;var popstateFired=false;var supportsHistoryState=window.history&&"state"in window.history;Ember.HistoryLocation=Ember.Object.extend({implementation:"history",init:function(){set(this,"location",get(this,"location")||window.location);set(this,"baseURL",Ember.$("base").attr("href")||"")},initState:function(){set(this,"history",get(this,"history")||window.history);this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var rootURL=get(this,"rootURL"),location=get(this,"location"),path=location.pathname,baseURL=get(this,"baseURL");rootURL=rootURL.replace(/\/$/,"");baseURL=baseURL.replace(/\/$/,"");var url=path.replace(baseURL,"").replace(rootURL,"");return url},setURL:function(path){var state=this.getState();path=this.formatURL(path);if(state&&state.path!==path){this.pushState(path)}},replaceURL:function(path){var state=this.getState();path=this.formatURL(path);if(state&&state.path!==path){this.replaceState(path)}},getState:function(){return supportsHistoryState?get(this,"history").state:this._historyState},pushState:function(path){var state={path:path};get(this,"history").pushState(state,null,path);if(!supportsHistoryState){this._historyState=state}this._previousURL=this.getURL()},replaceState:function(path){var state={path:path};get(this,"history").replaceState(state,null,path);if(!supportsHistoryState){this._historyState=state}this._previousURL=this.getURL()},onUpdateURL:function(callback){var guid=Ember.guidFor(this),self=this;Ember.$(window).on("popstate.ember-location-"+guid,function(e){if(!popstateFired){popstateFired=true;if(self.getURL()===self._previousURL){return}}callback(self.getURL())})},formatURL:function(url){var rootURL=get(this,"rootURL"),baseURL=get(this,"baseURL");if(url!==""){rootURL=rootURL.replace(/\/$/,"");baseURL=baseURL.replace(/\/$/,"")}else if(baseURL.match(/^\//)&&rootURL.match(/^\//)){baseURL=baseURL.replace(/\/$/,"")}return baseURL+rootURL+url},willDestroy:function(){var guid=Ember.guidFor(this);Ember.$(window).off("popstate.ember-location-"+guid)}})})();(function(){var get=Ember.get,set=Ember.set;var documentMode=document.documentMode,history=window.history,location=window.location,getHash=Ember.Location.getHash;var AutoLocation=Ember.AutoLocation={rootURL:"/",_location:location,getOrigin:function(){var location=this._location,origin=location.origin;if(!origin){origin=location.protocol+"//"+location.hostname;if(location.port){origin+=":"+location.port}}return origin},supportsHistory:function(){var userAgent=window.navigator.userAgent;
if(userAgent.indexOf("Android 2")!==-1&&userAgent.indexOf("Mobile Safari")!==-1&&userAgent.indexOf("Chrome")===-1){return false}return!!(history&&"pushState"in history)}(),supportsHashChange:"onhashchange"in window&&(documentMode===undefined||documentMode>7),create:function(options){if(options&&options.rootURL){this.rootURL=options.rootURL}var implementationClass,historyPath,hashPath,cancelRouterSetup=false,currentPath=this.getFullPath();if(this.supportsHistory){historyPath=this.getHistoryPath();if(currentPath===historyPath){implementationClass=Ember.HistoryLocation}else{cancelRouterSetup=true;this.replacePath(historyPath)}}else if(this.supportsHashChange){hashPath=this.getHashPath();if(currentPath===hashPath){implementationClass=Ember.HashLocation}else{cancelRouterSetup=true;this.replacePath(hashPath)}}if(!implementationClass){implementationClass=Ember.NoneLocation}var implementation=implementationClass.create.apply(implementationClass,arguments);if(cancelRouterSetup){set(implementation,"cancelRouterSetup",true)}return implementation},replacePath:function(path){this._location.replace(this.getOrigin()+path)},getPath:function(){var pathname=location.pathname;if(pathname.charAt(0)!=="/"){pathname="/"+pathname}return pathname},getFullPath:function(){return this.getPath()+getHash().substr(1)},getHistoryPath:function(){var path=this.getPath(),hashPath=getHash().substr(1),url=path+hashPath;return url.replace(/\/\//,"/")},getHashPath:function(){var historyPath=this.getHistoryPath(),exp=new RegExp("("+this.rootURL+")(.+)"),url=historyPath.replace(exp,"$1#/$2");url=url.replace(/\/\//,"/");return url}}})();(function(){})();(function(){})();(function(){function visit(vertex,fn,visited,path){var name=vertex.name,vertices=vertex.incoming,names=vertex.incomingNames,len=names.length,i;if(!visited){visited={}}if(!path){path=[]}if(visited.hasOwnProperty(name)){return}path.push(name);visited[name]=true;for(i=0;i<len;i++){visit(vertices[names[i]],fn,visited,path)}fn(vertex,path);path.pop()}function DAG(){this.names=[];this.vertices={}}DAG.prototype.add=function(name){if(!name){return}if(this.vertices.hasOwnProperty(name)){return this.vertices[name]}var vertex={name:name,incoming:{},incomingNames:[],hasOutgoing:false,value:null};this.vertices[name]=vertex;this.names.push(name);return vertex};DAG.prototype.map=function(name,value){this.add(name).value=value};DAG.prototype.addEdge=function(fromName,toName){if(!fromName||!toName||fromName===toName){return}var from=this.add(fromName),to=this.add(toName);if(to.incoming.hasOwnProperty(fromName)){return}function checkCycle(vertex,path){if(vertex.name===toName){throw new Ember.Error("cycle detected: "+toName+" <- "+path.join(" <- "))}}visit(from,checkCycle);from.hasOutgoing=true;to.incoming[fromName]=from;to.incomingNames.push(fromName)};DAG.prototype.topsort=function(fn){var visited={},vertices=this.vertices,names=this.names,len=names.length,i,vertex;for(i=0;i<len;i++){vertex=vertices[names[i]];if(!vertex.hasOutgoing){visit(vertex,fn,visited)}}};DAG.prototype.addEdges=function(name,value,before,after){var i;this.map(name,value);if(before){if(typeof before==="string"){this.addEdge(name,before)}else{for(i=0;i<before.length;i++){this.addEdge(name,before[i])}}}if(after){if(typeof after==="string"){this.addEdge(after,name)}else{for(i=0;i<after.length;i++){this.addEdge(after[i],name)}}}};Ember.DAG=DAG})();(function(){var get=Ember.get,classify=Ember.String.classify,capitalize=Ember.String.capitalize,decamelize=Ember.String.decamelize;Ember.Resolver=Ember.Object.extend({namespace:null,normalize:function(fullName){throw new Error("Invalid call to `resolver.normalize(fullName)`. Please override the 'normalize' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")},resolve:function(fullName){throw new Error("Invalid call to `resolver.resolve(parsedName)`. Please override the 'resolve' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")},parseName:function(parsedName){throw new Error("Invalid call to `resolver.resolveByType(parsedName)`. Please override the 'resolveByType' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")},lookupDescription:function(fullName){throw new Error("Invalid call to `resolver.lookupDescription(fullName)`. Please override the 'lookupDescription' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")},makeToString:function(factory,fullName){throw new Error("Invalid call to `resolver.makeToString(factory, fullName)`. Please override the 'makeToString' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")},resolveOther:function(parsedName){throw new Error("Invalid call to `resolver.resolveDefault(parsedName)`. Please override the 'resolveDefault' method in subclass of `Ember.AbstractResolver` to prevent falling through to this error.")}});Ember.DefaultResolver=Ember.Object.extend({namespace:null,normalize:function(fullName){var split=fullName.split(":",2),type=split[0],name=split[1];Ember.assert("Tried to normalize a container name without a colon (:) in it. You probably tried to lookup a name that did not contain a type, a colon, and a name. A proper lookup name would be `view:post`.",split.length===2);if(type!=="template"){var result=name;if(result.indexOf(".")>-1){result=result.replace(/\.(.)/g,function(m){return m.charAt(1).toUpperCase()})}if(name.indexOf("_")>-1){result=result.replace(/_(.)/g,function(m){return m.charAt(1).toUpperCase()})}return type+":"+result}else{return fullName}},resolve:function(fullName){var parsedName=this.parseName(fullName),resolveMethodName=parsedName.resolveMethodName;if(!(parsedName.name&&parsedName.type)){throw new TypeError("Invalid fullName: `"+fullName+"`, must be of the form `type:name` ")}if(this[resolveMethodName]){var resolved=this[resolveMethodName](parsedName);if(resolved){return resolved}}return this.resolveOther(parsedName)},parseName:function(fullName){var nameParts=fullName.split(":"),type=nameParts[0],fullNameWithoutType=nameParts[1],name=fullNameWithoutType,namespace=get(this,"namespace"),root=namespace;if(type!=="template"&&name.indexOf("/")!==-1){var parts=name.split("/");name=parts[parts.length-1];var namespaceName=capitalize(parts.slice(0,-1).join("."));root=Ember.Namespace.byName(namespaceName);Ember.assert("You are looking for a "+name+" "+type+" in the "+namespaceName+" namespace, but the namespace could not be found",root)}return{fullName:fullName,type:type,fullNameWithoutType:fullNameWithoutType,name:name,root:root,resolveMethodName:"resolve"+classify(type)}},lookupDescription:function(fullName){var parsedName=this.parseName(fullName);if(parsedName.type==="template"){return"template at "+parsedName.fullNameWithoutType.replace(/\./g,"/")}var description=parsedName.root+"."+classify(parsedName.name);if(parsedName.type!=="model"){description+=classify(parsedName.type)}return description},makeToString:function(factory,fullName){return factory.toString()},useRouterNaming:function(parsedName){parsedName.name=parsedName.name.replace(/\./g,"_");if(parsedName.name==="basic"){parsedName.name=""}},resolveTemplate:function(parsedName){var templateName=parsedName.fullNameWithoutType.replace(/\./g,"/");if(Ember.TEMPLATES[templateName]){return Ember.TEMPLATES[templateName]}templateName=decamelize(templateName);if(Ember.TEMPLATES[templateName]){return Ember.TEMPLATES[templateName]}},resolveView:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveController:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveRoute:function(parsedName){this.useRouterNaming(parsedName);return this.resolveOther(parsedName)},resolveModel:function(parsedName){var className=classify(parsedName.name),factory=get(parsedName.root,className);if(factory){return factory}},resolveHelper:function(parsedName){return this.resolveOther(parsedName)||Ember.Handlebars.helpers[parsedName.fullNameWithoutType]},resolveOther:function(parsedName){var className=classify(parsedName.name)+classify(parsedName.type),factory=get(parsedName.root,className);if(factory){return factory}}})})();(function(){var get=Ember.get,set=Ember.set;function DeprecatedContainer(container){this._container=container}DeprecatedContainer.deprecate=function(method){return function(){var container=this._container;Ember.deprecate("Using the defaultContainer is no longer supported. [defaultContainer#"+method+"] see: http://git.io/EKPpnA",false);return container[method].apply(container,arguments)}};DeprecatedContainer.prototype={_container:null,lookup:DeprecatedContainer.deprecate("lookup"),resolve:DeprecatedContainer.deprecate("resolve"),register:DeprecatedContainer.deprecate("register")};var Application=Ember.Application=Ember.Namespace.extend(Ember.DeferredMixin,{rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){if(!this.$){this.$=Ember.$}this.__container__=this.buildContainer();this.Router=this.defaultRouter();this._super();this.scheduleInitialize();Ember.libraries.registerCoreLibrary("Handlebars",Ember.Handlebars.VERSION);Ember.libraries.registerCoreLibrary("jQuery",Ember.$().jquery);if(Ember.LOG_VERSION){Ember.LOG_VERSION=false;var maxNameLength=Math.max.apply(this,Ember.A(Ember.libraries).mapBy("name.length"));Ember.debug("-------------------------------");Ember.libraries.each(function(name,version){var spaces=new Array(maxNameLength-name.length+1).join(" ");Ember.debug([name,spaces," : ",version].join(""))});Ember.debug("-------------------------------")}},buildContainer:function(){var container=this.__container__=Application.buildContainer(this);return container},defaultRouter:function(){if(this.Router===false){return}var container=this.__container__;if(this.Router){container.unregister("router:main");container.register("router:main",this.Router)}return container.lookupFactory("router:main")},scheduleInitialize:function(){var self=this;if(!this.$||this.$.isReady){Ember.run.schedule("actions",self,"_initialize")}else{this.$().ready(function runInitialize(){Ember.run(self,"_initialize")})}},deferReadiness:function(){Ember.assert("You must call deferReadiness on an instance of Ember.Application",this instanceof Ember.Application);Ember.assert("You cannot defer readiness since the `ready()` hook has already been called.",this._readinessDeferrals>0);this._readinessDeferrals++},advanceReadiness:function(){Ember.assert("You must call advanceReadiness on an instance of Ember.Application",this instanceof Ember.Application);this._readinessDeferrals--;if(this._readinessDeferrals===0){Ember.run.once(this,this.didBecomeReady)}},register:function(){var container=this.__container__;container.register.apply(container,arguments)},inject:function(){var container=this.__container__;container.injection.apply(container,arguments)},initialize:function(){Ember.deprecate("Calling initialize manually is not supported. Please see Ember.Application#advanceReadiness and Ember.Application#deferReadiness")},_initialize:function(){if(this.isDestroyed){return}if(this.Router){var container=this.__container__;container.unregister("router:main");container.register("router:main",this.Router)}this.runInitializers();Ember.runLoadHooks("application",this);this.advanceReadiness();return this},reset:function(){this._readinessDeferrals=1;function handleReset(){var router=this.__container__.lookup("router:main");router.reset();Ember.run(this.__container__,"destroy");this.buildContainer();Ember.run.schedule("actions",this,function(){this._initialize()})}Ember.run.join(this,handleReset)},runInitializers:function(){var initializers=get(this.constructor,"initializers"),container=this.__container__,graph=new Ember.DAG,namespace=this,name,initializer;for(name in initializers){initializer=initializers[name];graph.addEdges(initializer.name,initializer.initialize,initializer.before,initializer.after)}graph.topsort(function(vertex){var initializer=vertex.value;Ember.assert("No application initializer named '"+vertex.name+"'",initializer);initializer(container,namespace)})},didBecomeReady:function(){this.setupEventDispatcher();this.ready();this.startRouting();if(!Ember.testing){Ember.Namespace.processAll();Ember.BOOTED=true}this.resolve(this)},setupEventDispatcher:function(){var customEvents=get(this,"customEvents"),rootElement=get(this,"rootElement"),dispatcher=this.__container__.lookup("event_dispatcher:main");set(this,"eventDispatcher",dispatcher);dispatcher.setup(customEvents,rootElement)},startRouting:function(){var router=this.__container__.lookup("router:main");if(!router){return}router.startRouting()},handleURL:function(url){var router=this.__container__.lookup("router:main");router.handleURL(url)},ready:Ember.K,resolver:null,Resolver:null,willDestroy:function(){Ember.BOOTED=false;this.__container__.lookup("router:main").reset();this.__container__.destroy()},initializer:function(options){this.constructor.initializer(options)}});Ember.Application.reopenClass({initializers:{},initializer:function(initializer){if(this.superclass.initializers!==undefined&&this.superclass.initializers===this.initializers){this.reopenClass({initializers:Ember.create(this.initializers)})}Ember.assert("The initializer '"+initializer.name+"' has already been registered",!this.initializers[initializer.name]);Ember.assert("An initializer cannot be registered with both a before and an after",!(initializer.before&&initializer.after));Ember.assert("An initializer cannot be registered without an initialize function",Ember.canInvoke(initializer,"initialize"));this.initializers[initializer.name]=initializer},buildContainer:function(namespace){var container=new Ember.Container;Ember.Container.defaultContainer=new DeprecatedContainer(container);container.set=Ember.set;container.resolver=resolverFor(namespace);container.normalize=container.resolver.normalize;container.describe=container.resolver.describe;container.makeToString=container.resolver.makeToString;container.optionsForType("component",{singleton:false});container.optionsForType("view",{singleton:false});container.optionsForType("template",{instantiate:false});container.optionsForType("helper",{instantiate:false});container.register("application:main",namespace,{instantiate:false});container.register("controller:basic",Ember.Controller,{instantiate:false});container.register("controller:object",Ember.ObjectController,{instantiate:false});container.register("controller:array",Ember.ArrayController,{instantiate:false});container.register("route:basic",Ember.Route,{instantiate:false});container.register("event_dispatcher:main",Ember.EventDispatcher);container.register("router:main",Ember.Router);container.injection("router:main","namespace","application:main");container.register("location:auto",Ember.AutoLocation);container.register("location:hash",Ember.HashLocation);container.register("location:history",Ember.HistoryLocation);container.register("location:none",Ember.NoneLocation);container.injection("controller","target","router:main");container.injection("controller","namespace","application:main");container.injection("route","router","router:main");container.register("resolver-for-debugging:main",container.resolver.__resolver__,{instantiate:false});container.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main");container.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main");container.register("container-debug-adapter:main",Ember.ContainerDebugAdapter);return container}});function resolverFor(namespace){if(namespace.get("resolver")){Ember.deprecate("Application.resolver is deprecated in favor of Application.Resolver",false)}var ResolverClass=namespace.get("resolver")||namespace.get("Resolver")||Ember.DefaultResolver;var resolver=ResolverClass.create({namespace:namespace});function resolve(fullName){return resolver.resolve(fullName)}resolve.describe=function(fullName){return resolver.lookupDescription(fullName)};resolve.makeToString=function(factory,fullName){return resolver.makeToString(factory,fullName)};resolve.normalize=function(fullName){if(resolver.normalize){return resolver.normalize(fullName)}else{Ember.deprecate("The Resolver should now provide a 'normalize' function",false);return fullName}};resolve.__resolver__=resolver;return resolve}Ember.runLoadHooks("Ember.Application",Ember.Application)})();(function(){})();(function(){var get=Ember.get,set=Ember.set;function verifyNeedsDependencies(controller,container,needs){var dependency,i,l,missing=[];for(i=0,l=needs.length;i<l;i++){dependency=needs[i];Ember.assert(Ember.inspect(controller)+"#needs must not specify dependencies with periods in their names ("+dependency+")",dependency.indexOf(".")===-1);if(dependency.indexOf(":")===-1){dependency="controller:"+dependency}if(!container.has(dependency)){missing.push(dependency)}}if(missing.length){throw new Ember.Error(Ember.inspect(controller)+" needs [ "+missing.join(", ")+" ] but "+(missing.length>1?"they":"it")+" could not be found")}}var defaultControllersComputedProperty=Ember.computed(function(){var controller=this;return{needs:get(controller,"needs"),container:get(controller,"container"),unknownProperty:function(controllerName){var needs=this.needs,dependency,i,l;for(i=0,l=needs.length;i<l;i++){dependency=needs[i];if(dependency===controllerName){return this.container.lookup("controller:"+controllerName)}}var errorMessage=Ember.inspect(controller)+"#needs does not include `"+controllerName+"`. To access the "+controllerName+" controller from "+Ember.inspect(controller)+", "+Ember.inspect(controller)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(errorMessage)},setUnknownProperty:function(key,value){throw new Error("You cannot overwrite the value of `controllers."+key+"` of "+Ember.inspect(controller))}}});Ember.ControllerMixin.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var needs=get(this,"needs"),length=get(needs,"length");if(length>0){Ember.assert(" `"+Ember.inspect(this)+" specifies `needs`, but does "+"not have a container. Please ensure this controller was "+"instantiated with a container.",this.container||Ember.meta(this,false).descs.controllers!==defaultControllersComputedProperty);if(this.container){verifyNeedsDependencies(this,this.container,needs)}get(this,"controllers")}this._super.apply(this,arguments)},controllerFor:function(controllerName){Ember.deprecate("Controller#controllerFor is deprecated, please use Controller#needs instead");return Ember.controllerFor(get(this,"container"),controllerName)},controllers:defaultControllersComputedProperty})})();(function(){})();(function(){})();(function(){Ember.ContainerDebugAdapter=Ember.Object.extend({container:null,resolver:null,canCatalogEntriesByType:function(type){if(type==="model"||type==="template")return false;return true},catalogEntriesByType:function(type){var namespaces=Ember.A(Ember.Namespace.NAMESPACES),types=Ember.A(),self=this;var typeSuffixRegex=new RegExp(Ember.String.classify(type)+"$");namespaces.forEach(function(namespace){if(namespace!==Ember){for(var key in namespace){if(!namespace.hasOwnProperty(key)){continue}if(typeSuffixRegex.test(key)){var klass=namespace[key];if(Ember.typeOf(klass)==="class"){types.push(Ember.String.dasherize(key.replace(typeSuffixRegex,"")))}}}}});return types}})})();(function(){Ember.DataAdapter=Ember.Object.extend({init:function(){this._super();this.releaseMethods=Ember.A()},container:null,containerDebugAdapter:undefined,attributeLimit:3,releaseMethods:Ember.A(),getFilters:function(){return Ember.A()},watchModelTypes:function(typesAdded,typesUpdated){var modelTypes=this.getModelTypes(),self=this,typesToSend,releaseMethods=Ember.A();typesToSend=modelTypes.map(function(type){var klass=type.klass;var wrapped=self.wrapModelType(klass,type.name);releaseMethods.push(self.observeModelType(klass,typesUpdated));return wrapped});typesAdded(typesToSend);var release=function(){releaseMethods.forEach(function(fn){fn()});self.releaseMethods.removeObject(release)};this.releaseMethods.pushObject(release);return release},_nameToClass:function(type){if(typeof type==="string"){type=this.container.lookupFactory("model:"+type)}return type},watchRecords:function(type,recordsAdded,recordsUpdated,recordsRemoved){var self=this,releaseMethods=Ember.A(),records=this.getRecords(type),release;var recordUpdated=function(updatedRecord){recordsUpdated([updatedRecord])};var recordsToSend=records.map(function(record){releaseMethods.push(self.observeRecord(record,recordUpdated));return self.wrapRecord(record)});var contentDidChange=function(array,idx,removedCount,addedCount){for(var i=idx;i<idx+addedCount;i++){var record=array.objectAt(i);var wrapped=self.wrapRecord(record);releaseMethods.push(self.observeRecord(record,recordUpdated));recordsAdded([wrapped])}if(removedCount){recordsRemoved(idx,removedCount)}};var observer={didChange:contentDidChange,willChange:Ember.K};records.addArrayObserver(self,observer);release=function(){releaseMethods.forEach(function(fn){fn()});records.removeArrayObserver(self,observer);self.releaseMethods.removeObject(release)};recordsAdded(recordsToSend);this.releaseMethods.pushObject(release);return release},willDestroy:function(){this._super();this.releaseMethods.forEach(function(fn){fn()})},detect:function(klass){return false},columnsForType:function(type){return Ember.A()},observeModelType:function(type,typesUpdated){var self=this,records=this.getRecords(type);var onChange=function(){typesUpdated([self.wrapModelType(type)])};var observer={didChange:function(){Ember.run.scheduleOnce("actions",this,onChange)},willChange:Ember.K};records.addArrayObserver(this,observer);var release=function(){records.removeArrayObserver(self,observer)};return release},wrapModelType:function(type,name){var release,records=this.getRecords(type),typeToSend,self=this;typeToSend={name:name||type.toString(),count:Ember.get(records,"length"),columns:this.columnsForType(type),object:type};return typeToSend},getModelTypes:function(){var types,self=this,containerDebugAdapter=this.get("containerDebugAdapter");if(containerDebugAdapter.canCatalogEntriesByType("model")){types=containerDebugAdapter.catalogEntriesByType("model")}else{types=this._getObjectsOnNamespaces()}return types.map(function(name){return{klass:self._nameToClass(name),name:name}}).filter(function(type){return self.detect(type.klass)})},_getObjectsOnNamespaces:function(){var namespaces=Ember.A(Ember.Namespace.NAMESPACES),types=Ember.A();namespaces.forEach(function(namespace){for(var key in namespace){if(!namespace.hasOwnProperty(key)){continue}var name=Ember.String.dasherize(key);if(!(namespace instanceof Ember.Application)&&namespace.toString()){name=namespace+"/"+name}types.push(name)}});return types},getRecords:function(type){return Ember.A()},wrapRecord:function(record){var recordToSend={object:record},columnValues={},self=this;recordToSend.columnValues=this.getRecordColumnValues(record);recordToSend.searchKeywords=this.getRecordKeywords(record);recordToSend.filterValues=this.getRecordFilterValues(record);recordToSend.color=this.getRecordColor(record);return recordToSend},getRecordColumnValues:function(record){return{}},getRecordKeywords:function(record){return Ember.A()},getRecordFilterValues:function(record){return{}},getRecordColor:function(record){return null},observeRecord:function(record,recordUpdated){return function(){}}})})();(function(){})();(function(){var slice=[].slice,helpers={},injectHelpersCallbacks=[];Ember.Test={registerHelper:function(name,helperMethod){helpers[name]={method:helperMethod,meta:{wait:false}}},registerAsyncHelper:function(name,helperMethod){helpers[name]={method:helperMethod,meta:{wait:true}}},unregisterHelper:function(name){delete helpers[name];delete Ember.Test.Promise.prototype[name]},onInjectHelpers:function(callback){injectHelpersCallbacks.push(callback)},promise:function(resolver){return new Ember.Test.Promise(resolver)},adapter:null,resolve:function(val){return Ember.Test.promise(function(resolve){return resolve(val)})},registerWaiter:function(context,callback){if(arguments.length===1){callback=context;context=null}if(!this.waiters){this.waiters=Ember.A()}this.waiters.push([context,callback])},unregisterWaiter:function(context,callback){var pair;if(!this.waiters){return}if(arguments.length===1){callback=context;context=null}pair=[context,callback];this.waiters=Ember.A(this.waiters.filter(function(elt){return Ember.compare(elt,pair)!==0}))}};function helper(app,name){var fn=helpers[name].method,meta=helpers[name].meta;return function(){var args=slice.call(arguments),lastPromise=Ember.Test.lastPromise;args.unshift(app);if(!meta.wait){return fn.apply(app,args)}if(!lastPromise){lastPromise=fn.apply(app,args)}else{run(function(){lastPromise=Ember.Test.resolve(lastPromise).then(function(){return fn.apply(app,args)})})}return lastPromise}}function run(fn){if(!Ember.run.currentRunLoop){Ember.run(fn)}else{fn()}}Ember.Application.reopen({testHelpers:{},originalMethods:{},testing:false,setupForTesting:function(){Ember.setupForTesting();this.testing=true;this.Router.reopen({location:"none"})},helperContainer:window,injectTestHelpers:function(helperContainer){if(helperContainer){this.helperContainer=helperContainer}this.testHelpers={};for(var name in helpers){this.originalMethods[name]=this.helperContainer[name];this.testHelpers[name]=this.helperContainer[name]=helper(this,name);protoWrap(Ember.Test.Promise.prototype,name,helper(this,name),helpers[name].meta.wait)}for(var i=0,l=injectHelpersCallbacks.length;i<l;i++){injectHelpersCallbacks[i](this)}},removeTestHelpers:function(){for(var name in helpers){this.helperContainer[name]=this.originalMethods[name];delete this.testHelpers[name];delete this.originalMethods[name]}}});function protoWrap(proto,name,callback,isAsync){proto[name]=function(){var args=arguments;if(isAsync){return callback.apply(this,args)}else{return this.then(function(){return callback.apply(this,args)})}}}Ember.Test.Promise=function(){Ember.RSVP.Promise.apply(this,arguments);Ember.Test.lastPromise=this};Ember.Test.Promise.prototype=Ember.create(Ember.RSVP.Promise.prototype);Ember.Test.Promise.prototype.constructor=Ember.Test.Promise;var originalThen=Ember.RSVP.Promise.prototype.then;Ember.Test.Promise.prototype.then=function(onSuccess,onFailure){return originalThen.call(this,function(val){return isolate(onSuccess,val)},onFailure)};function isolate(fn,val){var value,lastPromise;Ember.Test.lastPromise=null;value=fn(val);lastPromise=Ember.Test.lastPromise;if(value&&value instanceof Ember.Test.Promise||!lastPromise){return value}else{run(function(){lastPromise=Ember.Test.resolve(lastPromise).then(function(){return value})});return lastPromise}}})();(function(){var Test=Ember.Test;function incrementAjaxPendingRequests(){Test.pendingAjaxRequests++}function decrementAjaxPendingRequests(){Ember.assert("An ajaxComplete event which would cause the number of pending AJAX "+"requests to be negative has been triggered. This is most likely "+"caused by AJAX events that were started before calling "+"`injectTestHelpers()`.",Test.pendingAjaxRequests!==0);Test.pendingAjaxRequests--}Ember.setupForTesting=function(){Ember.testing=true;if(!Ember.Test.adapter){Ember.Test.adapter=Ember.Test.QUnitAdapter.create()}if(!Test.pendingAjaxRequests){Test.pendingAjaxRequests=0}Ember.$(document).off("ajaxSend",incrementAjaxPendingRequests);Ember.$(document).off("ajaxComplete",decrementAjaxPendingRequests);Ember.$(document).on("ajaxSend",incrementAjaxPendingRequests);Ember.$(document).on("ajaxComplete",decrementAjaxPendingRequests)}})();(function(){Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"deferReadiness in `testing` mode",initialize:function(container,application){if(application.testing){application.deferReadiness()}}})})})();(function(){var $=Ember.$;function testCheckboxClick(handler){$('<input type="checkbox">').css({position:"absolute",left:"-1000px",top:"-1000px"}).appendTo("body").on("click",handler).trigger("click").remove()}$(function(){testCheckboxClick(function(){if(!this.checked&&!$.event.special.click){$.event.special.click={trigger:function(){if($.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}}}});testCheckboxClick(function(){Ember.warn("clicked checkboxes should be checked! the jQuery patch didn't work",this.checked)})})})();(function(){var Test=Ember.Test;Test.Adapter=Ember.Object.extend({asyncStart:Ember.K,asyncEnd:Ember.K,exception:function(error){throw error}});Test.QUnitAdapter=Test.Adapter.extend({asyncStart:function(){stop()},asyncEnd:function(){start()},exception:function(error){ok(false,Ember.inspect(error))}})})();(function(){var get=Ember.get,Test=Ember.Test,helper=Test.registerHelper,asyncHelper=Test.registerAsyncHelper,countAsync=0;function currentRouteName(app){var appController=app.__container__.lookup("controller:application");return get(appController,"currentRouteName")}function currentPath(app){var appController=app.__container__.lookup("controller:application");return get(appController,"currentPath")}function currentURL(app){var router=app.__container__.lookup("router:main");return get(router,"location").getURL()}function visit(app,url){var router=app.__container__.lookup("router:main");router.location.setURL(url);if(app._readinessDeferrals>0){router["initialURL"]=url;Ember.run(app,"advanceReadiness");delete router["initialURL"]}else{Ember.run(app,app.handleURL,url)}return wait(app)}function click(app,selector,context){var $el=findWithAssert(app,selector,context);Ember.run($el,"mousedown");if($el.is(":input")){var type=$el.prop("type");if(type!=="checkbox"&&type!=="radio"&&type!=="hidden"){Ember.run($el,function(){if(!document.hasFocus||document.hasFocus()){this.focus()}else{this.trigger("focusin")}})}}Ember.run($el,"mouseup");Ember.run($el,"click");return wait(app)}function triggerEvent(app,selector,context,type,options){if(arguments.length===3){type=context;context=null}if(typeof options==="undefined"){options={}}var $el=findWithAssert(app,selector,context);var event=Ember.$.Event(type,options);Ember.run($el,"trigger",event);return wait(app)}function keyEvent(app,selector,context,type,keyCode){if(typeof keyCode==="undefined"){keyCode=type;type=context;context=null}return triggerEvent(app,selector,context,type,{keyCode:keyCode,which:keyCode})}function fillIn(app,selector,context,text){var $el;if(typeof text==="undefined"){text=context;context=null}$el=findWithAssert(app,selector,context);Ember.run(function(){$el.val(text).change()});return wait(app)}function findWithAssert(app,selector,context){var $el=find(app,selector,context);if($el.length===0){throw new Ember.Error("Element "+selector+" not found.")}return $el}function find(app,selector,context){var $el;context=context||get(app,"rootElement");$el=app.$(selector,context);return $el}function andThen(app,callback){return wait(app,callback(app))}function wait(app,value){return Test.promise(function(resolve){if(++countAsync===1){Test.adapter.asyncStart()}var watcher=setInterval(function(){var routerIsLoading=!!app.__container__.lookup("router:main").router.activeTransition;if(routerIsLoading){return}if(Test.pendingAjaxRequests){return}if(Ember.run.hasScheduledTimers()||Ember.run.currentRunLoop){return}if(Test.waiters&&Test.waiters.any(function(waiter){var context=waiter[0];var callback=waiter[1];return!callback.call(context)})){return}clearInterval(watcher);if(--countAsync===0){Test.adapter.asyncEnd()}Ember.run(null,resolve,value)},10)})}asyncHelper("visit",visit);asyncHelper("click",click);asyncHelper("keyEvent",keyEvent);asyncHelper("fillIn",fillIn);helper("find",find);helper("findWithAssert",findWithAssert);asyncHelper("wait",wait);asyncHelper("andThen",andThen);helper("currentRouteName",currentRouteName);
helper("currentPath",currentPath);helper("currentURL",currentURL);asyncHelper("triggerEvent",triggerEvent)})();(function(){})();(function(){function throwWithMessage(msg){return function(){throw new Ember.Error(msg)}}function generateRemovedClass(className){var msg=" has been moved into a plugin: https://github.com/emberjs/ember-states";return{extend:throwWithMessage(className+msg),create:throwWithMessage(className+msg)}}Ember.StateManager=generateRemovedClass("Ember.StateManager");Ember.State=generateRemovedClass("Ember.State")})()})();define("ic-ajax",["ember","exports"],function(__dependency1__,__exports__){"use strict";var Ember=__dependency1__["default"]||__dependency1__;function request(){return raw.apply(null,arguments).then(function(result){return result.response},null,"ic-ajax: unwrap raw ajax response")}__exports__.request=request;request.OVERRIDE_REST_ADAPTER=true;__exports__["default"]=request;function raw(){return makePromise(parseArgs.apply(null,arguments))}__exports__.raw=raw;var __fixtures__={};__exports__.__fixtures__=__fixtures__;function defineFixture(url,fixture){__fixtures__[url]=JSON.parse(JSON.stringify(fixture))}__exports__.defineFixture=defineFixture;function lookupFixture(url){return __fixtures__&&__fixtures__[url]}__exports__.lookupFixture=lookupFixture;function makePromise(settings){return new Ember.RSVP.Promise(function(resolve,reject){var fixture=lookupFixture(settings.url);if(fixture){if(fixture.textStatus==="success"){return Ember.run(null,resolve,fixture)}else{return Ember.run(null,reject,fixture)}}settings.success=makeSuccess(resolve);settings.error=makeError(reject);Ember.$.ajax(settings)},"ic-ajax: "+(settings.type||"GET")+" to "+settings.url)}function parseArgs(){var settings={};if(arguments.length===1){if(typeof arguments[0]==="string"){settings.url=arguments[0]}else{settings=arguments[0]}}else if(arguments.length===2){settings=arguments[1];settings.url=arguments[0]}if(settings.success||settings.error){throw new Ember.Error("ajax should use promises, received 'success' or 'error' callback")}return settings}function makeSuccess(resolve){return function(response,textStatus,jqXHR){Ember.run(null,resolve,{response:response,textStatus:textStatus,jqXHR:jqXHR})}}function makeError(reject){return function(jqXHR,textStatus,errorThrown){Ember.run(null,reject,{jqXHR:jqXHR,textStatus:textStatus,errorThrown:errorThrown})}}if(typeof window.DS!=="undefined"){Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"ic-ajax_REST_Adapter",after:"store",initialize:function(container,application){if(request.OVERRIDE_REST_ADAPTER){DS.RESTAdapter.reopen({ajax:function(url,type,options){options=this.ajaxOptions(url,type,options);return request(options)}})}}})})}});(function(global){var define,requireModule,require,requirejs;(function(){var registry={},seen={};define=function(name,deps,callback){registry[name]={deps:deps,callback:callback}};requirejs=require=requireModule=function(name){requirejs._eak_seen=registry;if(seen[name]){return seen[name]}seen[name]={};if(!registry[name]){throw new Error("Could not find module "+name)}var mod=registry[name],deps=mod.deps,callback=mod.callback,reified=[],exports;for(var i=0,l=deps.length;i<l;i++){if(deps[i]==="exports"){reified.push(exports={})}else{reified.push(requireModule(resolve(deps[i])))}}var value=callback.apply(this,reified);return seen[name]=exports||value;function resolve(child){if(child.charAt(0)!=="."){return child}var parts=child.split("/");var parentBase=name.split("/").slice(0,-1);for(var i=0,l=parts.length;i<l;i++){var part=parts[i];if(part===".."){parentBase.pop()}else if(part==="."){continue}else{parentBase.push(part)}}return parentBase.join("/")}}})();define("activemodel-adapter/lib/initializers",["../../ember-data/lib/system/container_proxy","./system/active_model_serializer","./system/active_model_adapter"],function(__dependency1__,__dependency2__,__dependency3__){"use strict";var ContainerProxy=__dependency1__["default"];var ActiveModelSerializer=__dependency2__["default"];var ActiveModelAdapter=__dependency3__["default"];Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"activeModelAdapter",initialize:function(container,application){var proxy=new ContainerProxy(container);proxy.registerDeprecations([{deprecated:"serializer:_ams",valid:"serializer:-active-model"},{deprecated:"adapter:_ams",valid:"adapter:-active-model"}]);application.register("serializer:-active-model",ActiveModelSerializer);application.register("adapter:-active-model",ActiveModelAdapter)}})})});define("activemodel-adapter/lib/main",["./system","./initializers","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var ActiveModelAdapter=__dependency1__.ActiveModelAdapter;var ActiveModelSerializer=__dependency1__.ActiveModelSerializer;var EmbeddedRecordsMixin=__dependency1__.EmbeddedRecordsMixin;__exports__.ActiveModelAdapter=ActiveModelAdapter;__exports__.ActiveModelSerializer=ActiveModelSerializer;__exports__.EmbeddedRecordsMixin=EmbeddedRecordsMixin});define("activemodel-adapter/lib/system",["./system/embedded_records_mixin","./system/active_model_adapter","./system/active_model_serializer","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var EmbeddedRecordsMixin=__dependency1__["default"];var ActiveModelAdapter=__dependency2__["default"];var ActiveModelSerializer=__dependency3__["default"];__exports__.EmbeddedRecordsMixin=EmbeddedRecordsMixin;__exports__.ActiveModelAdapter=ActiveModelAdapter;__exports__.ActiveModelSerializer=ActiveModelSerializer});define("activemodel-adapter/lib/system/active_model_adapter",["../../../ember-data/lib/adapters","../../../ember-data/lib/system/adapter","../../../ember-inflector/lib/main","./active_model_serializer","./embedded_records_mixin","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var RESTAdapter=__dependency1__.RESTAdapter;var InvalidError=__dependency2__.InvalidError;var pluralize=__dependency3__.pluralize;var ActiveModelSerializer=__dependency4__["default"];var EmbeddedRecordsMixin=__dependency5__["default"];var forEach=Ember.EnumerableUtils.forEach;var decamelize=Ember.String.decamelize,underscore=Ember.String.underscore;var ActiveModelAdapter=RESTAdapter.extend({defaultSerializer:"-active-model",pathForType:function(type){var decamelized=decamelize(type);var underscored=underscore(decamelized);return pluralize(underscored)},ajaxError:function(jqXHR){var error=this._super(jqXHR);if(jqXHR&&jqXHR.status===422){var response=Ember.$.parseJSON(jqXHR.responseText),errors={};if(response.errors!==undefined){var jsonErrors=response.errors;forEach(Ember.keys(jsonErrors),function(key){errors[Ember.String.camelize(key)]=jsonErrors[key]})}return new InvalidError(errors)}else{return error}}});__exports__["default"]=ActiveModelAdapter});define("activemodel-adapter/lib/system/active_model_serializer",["../../../ember-inflector/lib/main","../../../ember-data/lib/serializers/rest_serializer","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var singularize=__dependency1__.singularize;var RESTSerializer=__dependency2__["default"];var get=Ember.get,forEach=Ember.EnumerableUtils.forEach,camelize=Ember.String.camelize,capitalize=Ember.String.capitalize,decamelize=Ember.String.decamelize,underscore=Ember.String.underscore;var ActiveModelSerializer=RESTSerializer.extend({keyForAttribute:function(attr){return decamelize(attr)},keyForRelationship:function(key,kind){key=decamelize(key);if(kind==="belongsTo"){return key+"_id"}else if(kind==="hasMany"){return singularize(key)+"_ids"}else{return key}},serializeHasMany:Ember.K,serializeIntoHash:function(data,type,record,options){var root=underscore(decamelize(type.typeKey));data[root]=this.serialize(record,options)},serializePolymorphicType:function(record,json,relationship){var key=relationship.key,belongsTo=get(record,key);key=this.keyForAttribute(key);json[key+"_type"]=capitalize(camelize(belongsTo.constructor.typeKey))},typeForRoot:function(root){var camelized=camelize(root);return singularize(camelized)},normalize:function(type,hash,prop){this.normalizeLinks(hash);return this._super(type,hash,prop)},normalizeLinks:function(data){if(data.links){var links=data.links;for(var link in links){var camelizedLink=camelize(link);if(camelizedLink!==link){links[camelizedLink]=links[link];delete links[link]}}}},normalizeRelationships:function(type,hash){var payloadKey,payload;if(this.keyForRelationship){type.eachRelationship(function(key,relationship){if(relationship.options.polymorphic){payloadKey=this.keyForAttribute(key);payload=hash[payloadKey];if(payload&&payload.type){payload.type=this.typeForRoot(payload.type)}else if(payload&&relationship.kind==="hasMany"){var self=this;forEach(payload,function(single){single.type=self.typeForRoot(single.type)})}}else{payloadKey=this.keyForRelationship(key,relationship.kind);payload=hash[payloadKey]}hash[key]=payload;if(key!==payloadKey){delete hash[payloadKey]}},this)}}});__exports__["default"]=ActiveModelSerializer});define("activemodel-adapter/lib/system/embedded_records_mixin",["../../../ember-inflector/lib/main","exports"],function(__dependency1__,__exports__){"use strict";var get=Ember.get;var forEach=Ember.EnumerableUtils.forEach;var pluralize=__dependency1__.pluralize;var EmbeddedRecordsMixin=Ember.Mixin.create({serializeHasMany:function(record,json,relationship){var key=relationship.key,attrs=get(this,"attrs"),embed=attrs&&attrs[key]&&attrs[key].embedded==="always";if(embed){json[this.keyForAttribute(key)]=get(record,key).map(function(relation){var data=relation.serialize(),primaryKey=get(this,"primaryKey");data[primaryKey]=get(relation,primaryKey);return data},this)}},extractSingle:function(store,primaryType,payload,recordId,requestType){var root=this.keyForAttribute(primaryType.typeKey),partial=payload[root];updatePayloadWithEmbedded(store,this,primaryType,partial,payload);return this._super(store,primaryType,payload,recordId,requestType)},extractArray:function(store,type,payload){var root=this.keyForAttribute(type.typeKey),partials=payload[pluralize(root)];forEach(partials,function(partial){updatePayloadWithEmbedded(store,this,type,partial,payload)},this);return this._super(store,type,payload)}});function updatePayloadWithEmbedded(store,serializer,type,partial,payload){var attrs=get(serializer,"attrs");if(!attrs){return}type.eachRelationship(function(key,relationship){var expandedKey,embeddedTypeKey,attribute,ids,config=attrs[key],serializer=store.serializerFor(relationship.type.typeKey),primaryKey=get(serializer,"primaryKey");if(relationship.kind!=="hasMany"){return}if(config&&(config.embedded==="always"||config.embedded==="load")){embeddedTypeKey="_"+Ember.String.pluralize(relationship.type.typeKey);expandedKey=this.keyForRelationship(key,relationship.kind);attribute=this.keyForAttribute(key);ids=[];if(!partial[attribute]){return}payload[embeddedTypeKey]=payload[embeddedTypeKey]||[];forEach(partial[attribute],function(data){var embeddedType=store.modelFor(relationship.type.typeKey);updatePayloadWithEmbedded(store,serializer,embeddedType,data,payload);ids.push(data[primaryKey]);payload[embeddedTypeKey].push(data)});partial[expandedKey]=ids;delete partial[attribute]}},serializer)}__exports__["default"]=EmbeddedRecordsMixin});define("ember-data/lib/adapters",["./adapters/fixture_adapter","./adapters/rest_adapter","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var FixtureAdapter=__dependency1__["default"];var RESTAdapter=__dependency2__["default"];__exports__.RESTAdapter=RESTAdapter;__exports__.FixtureAdapter=FixtureAdapter});define("ember-data/lib/adapters/fixture_adapter",["../system/adapter","exports"],function(__dependency1__,__exports__){"use strict";var get=Ember.get,fmt=Ember.String.fmt,indexOf=Ember.EnumerableUtils.indexOf;var counter=0;var Adapter=__dependency1__["default"];var FixtureAdapter=Adapter.extend({serializer:null,simulateRemoteResponse:true,latency:50,fixturesForType:function(type){if(type.FIXTURES){var fixtures=Ember.A(type.FIXTURES);return fixtures.map(function(fixture){var fixtureIdType=typeof fixture.id;if(fixtureIdType!=="number"&&fixtureIdType!=="string"){throw new Error(fmt("the id property must be defined as a number or string for fixture %@",[fixture]))}fixture.id=fixture.id+"";return fixture})}return null},queryFixtures:function(fixtures,query,type){Ember.assert("Not implemented: You must override the DS.FixtureAdapter::queryFixtures method to support querying the fixture store.")},updateFixtures:function(type,fixture){if(!type.FIXTURES){type.FIXTURES=[]}var fixtures=type.FIXTURES;this.deleteLoadedFixture(type,fixture);fixtures.push(fixture)},mockJSON:function(store,type,record){return store.serializerFor(type).serialize(record,{includeId:true})},generateIdForRecord:function(store){return"fixture-"+counter++},find:function(store,type,id){var fixtures=this.fixturesForType(type),fixture;Ember.assert("Unable to find fixtures for model type "+type.toString(),fixtures);if(fixtures){fixture=Ember.A(fixtures).findProperty("id",id)}if(fixture){return this.simulateRemoteCall(function(){return fixture},this)}},findMany:function(store,type,ids){var fixtures=this.fixturesForType(type);Ember.assert("Unable to find fixtures for model type "+type.toString(),fixtures);if(fixtures){fixtures=fixtures.filter(function(item){return indexOf(ids,item.id)!==-1})}if(fixtures){return this.simulateRemoteCall(function(){return fixtures},this)}},findAll:function(store,type){var fixtures=this.fixturesForType(type);Ember.assert("Unable to find fixtures for model type "+type.toString(),fixtures);return this.simulateRemoteCall(function(){return fixtures},this)},findQuery:function(store,type,query,array){var fixtures=this.fixturesForType(type);Ember.assert("Unable to find fixtures for model type "+type.toString(),fixtures);fixtures=this.queryFixtures(fixtures,query,type);if(fixtures){return this.simulateRemoteCall(function(){return fixtures},this)}},createRecord:function(store,type,record){var fixture=this.mockJSON(store,type,record);this.updateFixtures(type,fixture);return this.simulateRemoteCall(function(){return fixture},this)},updateRecord:function(store,type,record){var fixture=this.mockJSON(store,type,record);this.updateFixtures(type,fixture);return this.simulateRemoteCall(function(){return fixture},this)},deleteRecord:function(store,type,record){var fixture=this.mockJSON(store,type,record);this.deleteLoadedFixture(type,fixture);return this.simulateRemoteCall(function(){return null})},deleteLoadedFixture:function(type,record){var existingFixture=this.findExistingFixture(type,record);if(existingFixture){var index=indexOf(type.FIXTURES,existingFixture);type.FIXTURES.splice(index,1);return true}},findExistingFixture:function(type,record){var fixtures=this.fixturesForType(type);var id=get(record,"id");return this.findFixtureById(fixtures,id)},findFixtureById:function(fixtures,id){return Ember.A(fixtures).find(function(r){if(""+get(r,"id")===""+id){return true}else{return false}})},simulateRemoteCall:function(callback,context){var adapter=this;return new Ember.RSVP.Promise(function(resolve){if(get(adapter,"simulateRemoteResponse")){Ember.run.later(function(){resolve(callback.call(context))},get(adapter,"latency"))}else{Ember.run.schedule("actions",null,function(){resolve(callback.call(context))})}},"DS: FixtureAdapter#simulateRemoteCall")}});__exports__["default"]=FixtureAdapter});define("ember-data/lib/adapters/rest_adapter",["../system/adapter","exports"],function(__dependency1__,__exports__){"use strict";var Adapter=__dependency1__["default"];var get=Ember.get,set=Ember.set;var forEach=Ember.ArrayPolyfills.forEach;var RESTAdapter=Adapter.extend({defaultSerializer:"-rest",find:function(store,type,id){return this.ajax(this.buildURL(type.typeKey,id),"GET")},findAll:function(store,type,sinceToken){var query;if(sinceToken){query={since:sinceToken}}return this.ajax(this.buildURL(type.typeKey),"GET",{data:query})},findQuery:function(store,type,query){return this.ajax(this.buildURL(type.typeKey),"GET",{data:query})},findMany:function(store,type,ids){return this.ajax(this.buildURL(type.typeKey),"GET",{data:{ids:ids}})},findHasMany:function(store,record,url){var host=get(this,"host"),id=get(record,"id"),type=record.constructor.typeKey;if(host&&url.charAt(0)==="/"&&url.charAt(1)!=="/"){url=host+url}return this.ajax(this.urlPrefix(url,this.buildURL(type,id)),"GET")},findBelongsTo:function(store,record,url){var id=get(record,"id"),type=record.constructor.typeKey;return this.ajax(this.urlPrefix(url,this.buildURL(type,id)),"GET")},createRecord:function(store,type,record){var data={};var serializer=store.serializerFor(type.typeKey);serializer.serializeIntoHash(data,type,record,{includeId:true});return this.ajax(this.buildURL(type.typeKey),"POST",{data:data})},updateRecord:function(store,type,record){var data={};var serializer=store.serializerFor(type.typeKey);serializer.serializeIntoHash(data,type,record);var id=get(record,"id");return this.ajax(this.buildURL(type.typeKey,id),"PUT",{data:data})},deleteRecord:function(store,type,record){var id=get(record,"id");return this.ajax(this.buildURL(type.typeKey,id),"DELETE")},buildURL:function(type,id){var url=[],host=get(this,"host"),prefix=this.urlPrefix();if(type){url.push(this.pathForType(type))}if(id){url.push(id)}if(prefix){url.unshift(prefix)}url=url.join("/");if(!host&&url){url="/"+url}return url},urlPrefix:function(path,parentURL){var host=get(this,"host"),namespace=get(this,"namespace"),url=[];if(path){if(path.charAt(0)==="/"){if(host){path=path.slice(1);url.push(host)}}else if(!/^http(s)?:\/\//.test(path)){url.push(parentURL)}}else{if(host){url.push(host)}if(namespace){url.push(namespace)}}if(path){url.push(path)}return url.join("/")},pathForType:function(type){var camelized=Ember.String.camelize(type);return Ember.String.pluralize(camelized)},ajaxError:function(jqXHR){if(jqXHR){jqXHR.then=null}return jqXHR},ajax:function(url,type,hash){var adapter=this;return new Ember.RSVP.Promise(function(resolve,reject){hash=adapter.ajaxOptions(url,type,hash);hash.success=function(json){Ember.run(null,resolve,json)};hash.error=function(jqXHR,textStatus,errorThrown){Ember.run(null,reject,adapter.ajaxError(jqXHR))};Ember.$.ajax(hash)},"DS: RestAdapter#ajax "+type+" to "+url)},ajaxOptions:function(url,type,hash){hash=hash||{};hash.url=url;hash.type=type;hash.dataType="json";hash.context=this;if(hash.data&&type!=="GET"){hash.contentType="application/json; charset=utf-8";hash.data=JSON.stringify(hash.data)}if(this.headers!==undefined){var headers=this.headers;hash.beforeSend=function(xhr){forEach.call(Ember.keys(headers),function(key){xhr.setRequestHeader(key,headers[key])})}}return hash}});__exports__["default"]=RESTAdapter});define("ember-data/lib/core",["exports"],function(__exports__){"use strict";var DS;if("undefined"===typeof DS){DS=Ember.Namespace.create({VERSION:"1.0.0-beta.7+canary.b45e23ba"});if("undefined"!==typeof window){window.DS=DS}if(Ember.libraries){Ember.libraries.registerCoreLibrary("Ember Data",DS.VERSION)}}__exports__["default"]=DS});define("ember-data/lib/ext/date",[],function(){"use strict";Ember.Date=Ember.Date||{};var origParse=Date.parse,numericKeys=[1,4,5,6,7,10,11];Ember.Date.parse=function(date){var timestamp,struct,minutesOffset=0;if(struct=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(date)){for(var i=0,k;k=numericKeys[i];++i){struct[k]=+struct[k]||0}struct[2]=(+struct[2]||1)-1;struct[3]=+struct[3]||1;if(struct[8]!=="Z"&&struct[9]!==undefined){minutesOffset=struct[10]*60+struct[11];if(struct[9]==="+"){minutesOffset=0-minutesOffset}}timestamp=Date.UTC(struct[1],struct[2],struct[3],struct[4],struct[5]+minutesOffset,struct[6],struct[7])}else{timestamp=origParse?origParse(date):NaN}return timestamp};if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.Date){Date.parse=Ember.Date.parse}});define("ember-data/lib/initializers",["./system/store","./serializers","./adapters","./system/debug/debug_adapter","./system/container_proxy","./transforms"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__){"use strict";var Store=__dependency1__["default"];var JSONSerializer=__dependency2__.JSONSerializer;var RESTSerializer=__dependency2__.RESTSerializer;var RESTAdapter=__dependency3__.RESTAdapter;var DebugAdapter=__dependency4__["default"];var ContainerProxy=__dependency5__["default"];var BooleanTransform=__dependency6__.BooleanTransform;var DateTransform=__dependency6__.DateTransform;var StringTransform=__dependency6__.StringTransform;var NumberTransform=__dependency6__.NumberTransform;var set=Ember.set;Ember.onLoad("Ember.Application",function(Application){Application.initializer({name:"store",initialize:function(container,application){application.register("store:main",application.Store||Store);var proxy=new ContainerProxy(container);proxy.registerDeprecations([{deprecated:"serializer:_default",valid:"serializer:-default"},{deprecated:"serializer:_rest",valid:"serializer:-rest"},{deprecated:"adapter:_rest",valid:"adapter:-rest"}]);application.register("serializer:-default",JSONSerializer);application.register("serializer:-rest",RESTSerializer);application.register("adapter:-rest",RESTAdapter);container.lookup("store:main")}});Application.initializer({name:"transforms",before:"store",initialize:function(container,application){application.register("transform:boolean",BooleanTransform);application.register("transform:date",DateTransform);application.register("transform:number",NumberTransform);application.register("transform:string",StringTransform)}});Application.initializer({name:"data-adapter",before:"store",initialize:function(container,application){application.register("data-adapter:main",DebugAdapter)}});Application.initializer({name:"injectStore",before:"store",initialize:function(container,application){application.inject("controller","store","store:main");application.inject("route","store","store:main");application.inject("serializer","store","store:main");application.inject("data-adapter","store","store:main")}})})});define("ember-data/lib/main",["./core","./ext/date","./system/store","./system/model","./system/changes","./system/adapter","./system/debug","./system/record_arrays","./system/record_array_manager","./adapters","./serializers/json_serializer","./serializers/rest_serializer","../../ember-inflector/lib/main","../../activemodel-adapter/lib/main","./transforms","./system/relationships","./initializers","./system/container_proxy","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__dependency6__,__dependency7__,__dependency8__,__dependency9__,__dependency10__,__dependency11__,__dependency12__,__dependency13__,__dependency14__,__dependency15__,__dependency16__,__dependency17__,__dependency18__,__exports__){"use strict";Ember.RSVP.Promise.cast=Ember.RSVP.Promise.cast||Ember.RSVP.resolve;var DS=__dependency1__["default"];var Store=__dependency3__.Store;var PromiseArray=__dependency3__.PromiseArray;var PromiseObject=__dependency3__.PromiseObject;var Model=__dependency4__.Model;var Errors=__dependency4__.Errors;var RootState=__dependency4__.RootState;var attr=__dependency4__.attr;var AttributeChange=__dependency5__.AttributeChange;var RelationshipChange=__dependency5__.RelationshipChange;var RelationshipChangeAdd=__dependency5__.RelationshipChangeAdd;var RelationshipChangeRemove=__dependency5__.RelationshipChangeRemove;var OneToManyChange=__dependency5__.OneToManyChange;var ManyToNoneChange=__dependency5__.ManyToNoneChange;var OneToOneChange=__dependency5__.OneToOneChange;var ManyToManyChange=__dependency5__.ManyToManyChange;var InvalidError=__dependency6__.InvalidError;var Adapter=__dependency6__.Adapter;var DebugAdapter=__dependency7__["default"];var RecordArray=__dependency8__.RecordArray;var FilteredRecordArray=__dependency8__.FilteredRecordArray;var AdapterPopulatedRecordArray=__dependency8__.AdapterPopulatedRecordArray;var ManyArray=__dependency8__.ManyArray;var RecordArrayManager=__dependency9__["default"];var RESTAdapter=__dependency10__.RESTAdapter;var FixtureAdapter=__dependency10__.FixtureAdapter;var JSONSerializer=__dependency11__["default"];var RESTSerializer=__dependency12__["default"];var ActiveModelAdapter=__dependency14__.ActiveModelAdapter;var ActiveModelSerializer=__dependency14__.ActiveModelSerializer;var EmbeddedRecordsMixin=__dependency14__.EmbeddedRecordsMixin;var Transform=__dependency15__.Transform;var DateTransform=__dependency15__.DateTransform;var NumberTransform=__dependency15__.NumberTransform;var StringTransform=__dependency15__.StringTransform;var BooleanTransform=__dependency15__.BooleanTransform;var hasMany=__dependency16__.hasMany;var belongsTo=__dependency16__.belongsTo;var ContainerProxy=__dependency18__["default"];DS.Store=Store;DS.PromiseArray=PromiseArray;DS.PromiseObject=PromiseObject;DS.Model=Model;DS.RootState=RootState;DS.attr=attr;DS.Errors=Errors;DS.AttributeChange=AttributeChange;DS.RelationshipChange=RelationshipChange;DS.RelationshipChangeAdd=RelationshipChangeAdd;DS.OneToManyChange=OneToManyChange;DS.ManyToNoneChange=OneToManyChange;DS.OneToOneChange=OneToOneChange;DS.ManyToManyChange=ManyToManyChange;DS.Adapter=Adapter;DS.InvalidError=InvalidError;DS.DebugAdapter=DebugAdapter;DS.RecordArray=RecordArray;DS.FilteredRecordArray=FilteredRecordArray;DS.AdapterPopulatedRecordArray=AdapterPopulatedRecordArray;DS.ManyArray=ManyArray;DS.RecordArrayManager=RecordArrayManager;DS.RESTAdapter=RESTAdapter;DS.FixtureAdapter=FixtureAdapter;DS.RESTSerializer=RESTSerializer;DS.JSONSerializer=JSONSerializer;DS.Transform=Transform;DS.DateTransform=DateTransform;DS.StringTransform=StringTransform;DS.NumberTransform=NumberTransform;DS.BooleanTransform=BooleanTransform;DS.ActiveModelAdapter=ActiveModelAdapter;DS.ActiveModelSerializer=ActiveModelSerializer;DS.EmbeddedRecordsMixin=EmbeddedRecordsMixin;DS.belongsTo=belongsTo;DS.hasMany=hasMany;DS.ContainerProxy=ContainerProxy;__exports__["default"]=DS});define("ember-data/lib/serializers",["./serializers/json_serializer","./serializers/rest_serializer","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var JSONSerializer=__dependency1__["default"];var RESTSerializer=__dependency2__["default"];__exports__.JSONSerializer=JSONSerializer;__exports__.RESTSerializer=RESTSerializer});define("ember-data/lib/serializers/json_serializer",["exports"],function(__exports__){"use strict";var get=Ember.get,set=Ember.set,isNone=Ember.isNone;var JSONSerializer=Ember.Object.extend({primaryKey:"id",applyTransforms:function(type,data){type.eachTransformedAttribute(function(key,type){var transform=this.transformFor(type);data[key]=transform.deserialize(data[key])},this);return data},normalize:function(type,hash){if(!hash){return hash}this.applyTransforms(type,hash);return hash},serialize:function(record,options){var json={};if(options&&options.includeId){var id=get(record,"id");if(id){json[get(this,"primaryKey")]=id}}record.eachAttribute(function(key,attribute){this.serializeAttribute(record,json,key,attribute)},this);record.eachRelationship(function(key,relationship){if(relationship.kind==="belongsTo"){this.serializeBelongsTo(record,json,relationship)}else if(relationship.kind==="hasMany"){this.serializeHasMany(record,json,relationship)}},this);return json},serializeAttribute:function(record,json,key,attribute){var attrs=get(this,"attrs");var value=get(record,key),type=attribute.type;if(type){var transform=this.transformFor(type);value=transform.serialize(value)}key=attrs&&attrs[key]||(this.keyForAttribute?this.keyForAttribute(key):key);json[key]=value},serializeBelongsTo:function(record,json,relationship){var key=relationship.key;var belongsTo=get(record,key);key=this.keyForRelationship?this.keyForRelationship(key,"belongsTo"):key;if(isNone(belongsTo)){json[key]=belongsTo}else{json[key]=get(belongsTo,"id")}if(relationship.options.polymorphic){this.serializePolymorphicType(record,json,relationship)}},serializeHasMany:function(record,json,relationship){var key=relationship.key;var relationshipType=DS.RelationshipChange.determineRelationshipType(record.constructor,relationship);if(relationshipType==="manyToNone"||relationshipType==="manyToMany"){json[key]=get(record,key).mapBy("id")}},serializePolymorphicType:Ember.K,extract:function(store,type,payload,id,requestType){this.extractMeta(store,type,payload);var specificExtract="extract"+requestType.charAt(0).toUpperCase()+requestType.substr(1);return this[specificExtract](store,type,payload,id,requestType)},extractFindAll:function(store,type,payload){return this.extractArray(store,type,payload)},extractFindQuery:function(store,type,payload){return this.extractArray(store,type,payload)},extractFindMany:function(store,type,payload){return this.extractArray(store,type,payload)},extractFindHasMany:function(store,type,payload){return this.extractArray(store,type,payload)},extractCreateRecord:function(store,type,payload){return this.extractSave(store,type,payload)},extractUpdateRecord:function(store,type,payload){return this.extractSave(store,type,payload)},extractDeleteRecord:function(store,type,payload){return this.extractSave(store,type,payload)},extractFind:function(store,type,payload){return this.extractSingle(store,type,payload)},extractFindBelongsTo:function(store,type,payload){return this.extractSingle(store,type,payload)},extractSave:function(store,type,payload){return this.extractSingle(store,type,payload)},extractSingle:function(store,type,payload){return this.normalize(type,payload)},extractArray:function(store,type,payload){return this.normalize(type,payload)},extractMeta:function(store,type,payload){if(payload&&payload.meta){store.metaForType(type,payload.meta);delete payload.meta}},transformFor:function(attributeType,skipAssertion){var transform=this.container.lookup("transform:"+attributeType);Ember.assert("Unable to find transform for '"+attributeType+"'",skipAssertion||!!transform);return transform}});__exports__["default"]=JSONSerializer});define("ember-data/lib/serializers/rest_serializer",["./json_serializer","exports"],function(__dependency1__,__exports__){"use strict";var JSONSerializer=__dependency1__["default"];var get=Ember.get,set=Ember.set;var forEach=Ember.ArrayPolyfills.forEach;var map=Ember.ArrayPolyfills.map;function coerceId(id){return id==null?null:id+""}var RESTSerializer=JSONSerializer.extend({normalize:function(type,hash,prop){this.normalizeId(hash);this.normalizeAttributes(type,hash);this.normalizeRelationships(type,hash);this.normalizeUsingDeclaredMapping(type,hash);if(this.normalizeHash&&this.normalizeHash[prop]){this.normalizeHash[prop](hash)}return this._super(type,hash,prop)},normalizePayload:function(type,payload){return payload},normalizeId:function(hash){var primaryKey=get(this,"primaryKey");if(primaryKey==="id"){return}hash.id=hash[primaryKey];delete hash[primaryKey]},normalizeUsingDeclaredMapping:function(type,hash){var attrs=get(this,"attrs"),payloadKey,key;if(attrs){for(key in attrs){payloadKey=attrs[key];if(payloadKey&&payloadKey.key){payloadKey=payloadKey.key}if(typeof payloadKey==="string"){hash[key]=hash[payloadKey];delete hash[payloadKey]}}}},normalizeAttributes:function(type,hash){var payloadKey,key;if(this.keyForAttribute){type.eachAttribute(function(key){payloadKey=this.keyForAttribute(key);if(key===payloadKey){return}hash[key]=hash[payloadKey];delete hash[payloadKey]},this)}},normalizeRelationships:function(type,hash){var payloadKey,key;if(this.keyForRelationship){type.eachRelationship(function(key,relationship){payloadKey=this.keyForRelationship(key,relationship.kind);if(key===payloadKey){return}hash[key]=hash[payloadKey];delete hash[payloadKey]
},this)}},extractSingle:function(store,primaryType,payload,recordId,requestType){payload=this.normalizePayload(primaryType,payload);var primaryTypeName=primaryType.typeKey,primaryRecord;for(var prop in payload){var typeName=this.typeForRoot(prop),type=store.modelFor(typeName),isPrimary=type.typeKey===primaryTypeName;if(isPrimary&&Ember.typeOf(payload[prop])!=="array"){primaryRecord=this.normalize(primaryType,payload[prop],prop);continue}forEach.call(payload[prop],function(hash){var typeName=this.typeForRoot(prop),type=store.modelFor(typeName),typeSerializer=store.serializerFor(type);hash=typeSerializer.normalize(type,hash,prop);var isFirstCreatedRecord=isPrimary&&!recordId&&!primaryRecord,isUpdatedRecord=isPrimary&&coerceId(hash.id)===recordId;if(isFirstCreatedRecord||isUpdatedRecord){primaryRecord=hash}else{store.push(typeName,hash)}},this)}return primaryRecord},extractArray:function(store,primaryType,payload){payload=this.normalizePayload(primaryType,payload);var primaryTypeName=primaryType.typeKey,primaryArray;for(var prop in payload){var typeKey=prop,forcedSecondary=false;if(prop.charAt(0)==="_"){forcedSecondary=true;typeKey=prop.substr(1)}var typeName=this.typeForRoot(typeKey),type=store.modelFor(typeName),typeSerializer=store.serializerFor(type),isPrimary=!forcedSecondary&&type.typeKey===primaryTypeName;var normalizedArray=map.call(payload[prop],function(hash){return typeSerializer.normalize(type,hash,prop)},this);if(isPrimary){primaryArray=normalizedArray}else{store.pushMany(typeName,normalizedArray)}}return primaryArray},pushPayload:function(store,payload){payload=this.normalizePayload(null,payload);for(var prop in payload){var typeName=this.typeForRoot(prop),type=store.modelFor(typeName);var normalizedArray=map.call(Ember.makeArray(payload[prop]),function(hash){return this.normalize(type,hash,prop)},this);store.pushMany(typeName,normalizedArray)}},typeForRoot:function(root){return Ember.String.singularize(root)},serialize:function(record,options){return this._super.apply(this,arguments)},serializeIntoHash:function(hash,type,record,options){var root=Ember.String.camelize(type.typeKey);hash[root]=this.serialize(record,options)},serializePolymorphicType:function(record,json,relationship){var key=relationship.key,belongsTo=get(record,key);key=this.keyForAttribute?this.keyForAttribute(key):key;json[key+"Type"]=Ember.String.camelize(belongsTo.constructor.typeKey)}});__exports__["default"]=RESTSerializer});define("ember-data/lib/system/adapter",["exports"],function(__exports__){"use strict";var get=Ember.get,set=Ember.set;var map=Ember.ArrayPolyfills.map;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];var InvalidError=function(errors){var tmp=Error.prototype.constructor.call(this,"The backend rejected the commit because it was invalid: "+Ember.inspect(errors));this.errors=errors;for(var i=0,l=errorProps.length;i<l;i++){this[errorProps[i]]=tmp[errorProps[i]]}};InvalidError.prototype=Ember.create(Error.prototype);var Adapter=Ember.Object.extend({find:Ember.required(Function),findAll:null,findQuery:null,generateIdForRecord:null,serialize:function(record,options){return get(record,"store").serializerFor(record.constructor.typeKey).serialize(record,options)},createRecord:Ember.required(Function),updateRecord:Ember.required(Function),deleteRecord:Ember.required(Function),findMany:function(store,type,ids){var promises=map.call(ids,function(id){return this.find(store,type,id)},this);return Ember.RSVP.all(promises)}});__exports__.InvalidError=InvalidError;__exports__.Adapter=Adapter;__exports__["default"]=Adapter});define("ember-data/lib/system/changes",["./changes/attribute_change","./changes/relationship_change","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var AttributeChange=__dependency1__["default"];var RelationshipChange=__dependency2__.RelationshipChange;var RelationshipChangeAdd=__dependency2__.RelationshipChangeAdd;var RelationshipChangeRemove=__dependency2__.RelationshipChangeRemove;var OneToManyChange=__dependency2__.OneToManyChange;var ManyToNoneChange=__dependency2__.ManyToNoneChange;var OneToOneChange=__dependency2__.OneToOneChange;var ManyToManyChange=__dependency2__.ManyToManyChange;__exports__.AttributeChange=AttributeChange;__exports__.RelationshipChange=RelationshipChange;__exports__.RelationshipChangeAdd=RelationshipChangeAdd;__exports__.RelationshipChangeRemove=RelationshipChangeRemove;__exports__.OneToManyChange=OneToManyChange;__exports__.ManyToNoneChange=ManyToNoneChange;__exports__.OneToOneChange=OneToOneChange;__exports__.ManyToManyChange=ManyToManyChange});define("ember-data/lib/system/changes/attribute_change",["exports"],function(__exports__){"use strict";function AttributeChange(options){this.record=options.record;this.store=options.store;this.name=options.name;this.value=options.value;this.oldValue=options.oldValue}AttributeChange.createChange=function(options){return new AttributeChange(options)};AttributeChange.prototype={sync:function(){if(this.value!==this.oldValue){this.record.send("becomeDirty");this.record.updateRecordArraysLater()}this.destroy()},destroy:function(){delete this.record._changesToSync[this.name]}};__exports__["default"]=AttributeChange});define("ember-data/lib/system/changes/relationship_change",["../model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;var get=Ember.get,set=Ember.set;var forEach=Ember.EnumerableUtils.forEach;var RelationshipChange=function(options){this.parentRecord=options.parentRecord;this.childRecord=options.childRecord;this.firstRecord=options.firstRecord;this.firstRecordKind=options.firstRecordKind;this.firstRecordName=options.firstRecordName;this.secondRecord=options.secondRecord;this.secondRecordKind=options.secondRecordKind;this.secondRecordName=options.secondRecordName;this.changeType=options.changeType;this.store=options.store;this.committed={}};var RelationshipChangeAdd=function(options){RelationshipChange.call(this,options)};var RelationshipChangeRemove=function(options){RelationshipChange.call(this,options)};RelationshipChange.create=function(options){return new RelationshipChange(options)};RelationshipChangeAdd.create=function(options){return new RelationshipChangeAdd(options)};RelationshipChangeRemove.create=function(options){return new RelationshipChangeRemove(options)};var OneToManyChange={};var OneToNoneChange={};var ManyToNoneChange={};var OneToOneChange={};var ManyToManyChange={};RelationshipChange._createChange=function(options){if(options.changeType==="add"){return RelationshipChangeAdd.create(options)}if(options.changeType==="remove"){return RelationshipChangeRemove.create(options)}};RelationshipChange.determineRelationshipType=function(recordType,knownSide){var knownKey=knownSide.key,key,otherKind;var knownKind=knownSide.kind;var inverse=recordType.inverseFor(knownKey);if(inverse){key=inverse.name;otherKind=inverse.kind}if(!inverse){return knownKind==="belongsTo"?"oneToNone":"manyToNone"}else{if(otherKind==="belongsTo"){return knownKind==="belongsTo"?"oneToOne":"manyToOne"}else{return knownKind==="belongsTo"?"oneToMany":"manyToMany"}}};RelationshipChange.createChange=function(firstRecord,secondRecord,store,options){var firstRecordType=firstRecord.constructor,changeType;changeType=RelationshipChange.determineRelationshipType(firstRecordType,options);if(changeType==="oneToMany"){return OneToManyChange.createChange(firstRecord,secondRecord,store,options)}else if(changeType==="manyToOne"){return OneToManyChange.createChange(secondRecord,firstRecord,store,options)}else if(changeType==="oneToNone"){return OneToNoneChange.createChange(firstRecord,secondRecord,store,options)}else if(changeType==="manyToNone"){return ManyToNoneChange.createChange(firstRecord,secondRecord,store,options)}else if(changeType==="oneToOne"){return OneToOneChange.createChange(firstRecord,secondRecord,store,options)}else if(changeType==="manyToMany"){return ManyToManyChange.createChange(firstRecord,secondRecord,store,options)}};OneToNoneChange.createChange=function(childRecord,parentRecord,store,options){var key=options.key;var change=RelationshipChange._createChange({parentRecord:parentRecord,childRecord:childRecord,firstRecord:childRecord,store:store,changeType:options.changeType,firstRecordName:key,firstRecordKind:"belongsTo"});store.addRelationshipChangeFor(childRecord,key,parentRecord,null,change);return change};ManyToNoneChange.createChange=function(childRecord,parentRecord,store,options){var key=options.key;var change=RelationshipChange._createChange({parentRecord:childRecord,childRecord:parentRecord,secondRecord:childRecord,store:store,changeType:options.changeType,secondRecordName:options.key,secondRecordKind:"hasMany"});store.addRelationshipChangeFor(childRecord,key,parentRecord,null,change);return change};ManyToManyChange.createChange=function(childRecord,parentRecord,store,options){var key=options.key;var change=RelationshipChange._createChange({parentRecord:parentRecord,childRecord:childRecord,firstRecord:childRecord,secondRecord:parentRecord,firstRecordKind:"hasMany",secondRecordKind:"hasMany",store:store,changeType:options.changeType,firstRecordName:key});store.addRelationshipChangeFor(childRecord,key,parentRecord,null,change);return change};OneToOneChange.createChange=function(childRecord,parentRecord,store,options){var key;if(options.parentType){key=options.parentType.inverseFor(options.key).name}else if(options.key){key=options.key}else{Ember.assert("You must pass either a parentType or belongsToName option to OneToManyChange.forChildAndParent",false)}var change=RelationshipChange._createChange({parentRecord:parentRecord,childRecord:childRecord,firstRecord:childRecord,secondRecord:parentRecord,firstRecordKind:"belongsTo",secondRecordKind:"belongsTo",store:store,changeType:options.changeType,firstRecordName:key});store.addRelationshipChangeFor(childRecord,key,parentRecord,null,change);return change};OneToOneChange.maintainInvariant=function(options,store,childRecord,key){if(options.changeType==="add"&&store.recordIsMaterialized(childRecord)){var oldParent=get(childRecord,key);if(oldParent){var correspondingChange=OneToOneChange.createChange(childRecord,oldParent,store,{parentType:options.parentType,hasManyName:options.hasManyName,changeType:"remove",key:options.key});store.addRelationshipChangeFor(childRecord,key,options.parentRecord,null,correspondingChange);correspondingChange.sync()}}};OneToManyChange.createChange=function(childRecord,parentRecord,store,options){var key;if(options.parentType){key=options.parentType.inverseFor(options.key).name;OneToManyChange.maintainInvariant(options,store,childRecord,key)}else if(options.key){key=options.key}else{Ember.assert("You must pass either a parentType or belongsToName option to OneToManyChange.forChildAndParent",false)}var change=RelationshipChange._createChange({parentRecord:parentRecord,childRecord:childRecord,firstRecord:childRecord,secondRecord:parentRecord,firstRecordKind:"belongsTo",secondRecordKind:"hasMany",store:store,changeType:options.changeType,firstRecordName:key});store.addRelationshipChangeFor(childRecord,key,parentRecord,change.getSecondRecordName(),change);return change};OneToManyChange.maintainInvariant=function(options,store,childRecord,key){if(options.changeType==="add"&&childRecord){var oldParent=get(childRecord,key);if(oldParent){var correspondingChange=OneToManyChange.createChange(childRecord,oldParent,store,{parentType:options.parentType,hasManyName:options.hasManyName,changeType:"remove",key:options.key});store.addRelationshipChangeFor(childRecord,key,options.parentRecord,correspondingChange.getSecondRecordName(),correspondingChange);correspondingChange.sync()}}};RelationshipChange.prototype={getSecondRecordName:function(){var name=this.secondRecordName,parent;if(!name){parent=this.secondRecord;if(!parent){return}var childType=this.firstRecord.constructor;var inverse=childType.inverseFor(this.firstRecordName);this.secondRecordName=inverse.name}return this.secondRecordName},getFirstRecordName:function(){var name=this.firstRecordName;return name},destroy:function(){var childRecord=this.childRecord,belongsToName=this.getFirstRecordName(),hasManyName=this.getSecondRecordName(),store=this.store;store.removeRelationshipChangeFor(childRecord,belongsToName,this.parentRecord,hasManyName,this.changeType)},getSecondRecord:function(){return this.secondRecord},getFirstRecord:function(){return this.firstRecord},coalesce:function(){var relationshipPairs=this.store.relationshipChangePairsFor(this.firstRecord);forEach(relationshipPairs,function(pair){var addedChange=pair["add"];var removedChange=pair["remove"];if(addedChange&&removedChange){addedChange.destroy();removedChange.destroy()}})}};RelationshipChangeAdd.prototype=Ember.create(RelationshipChange.create({}));RelationshipChangeRemove.prototype=Ember.create(RelationshipChange.create({}));function isValue(object){return typeof object==="object"&&(!object.then||typeof object.then!=="function")}RelationshipChangeAdd.prototype.changeType="add";RelationshipChangeAdd.prototype.sync=function(){var secondRecordName=this.getSecondRecordName(),firstRecordName=this.getFirstRecordName(),firstRecord=this.getFirstRecord(),secondRecord=this.getSecondRecord();if(secondRecord instanceof Model&&firstRecord instanceof Model){if(this.secondRecordKind==="belongsTo"){secondRecord.suspendRelationshipObservers(function(){set(secondRecord,secondRecordName,firstRecord)})}else if(this.secondRecordKind==="hasMany"){secondRecord.suspendRelationshipObservers(function(){var relationship=get(secondRecord,secondRecordName);if(isValue(relationship)){relationship.addObject(firstRecord)}})}}if(firstRecord instanceof Model&&secondRecord instanceof Model&&get(firstRecord,firstRecordName)!==secondRecord){if(this.firstRecordKind==="belongsTo"){firstRecord.suspendRelationshipObservers(function(){set(firstRecord,firstRecordName,secondRecord)})}else if(this.firstRecordKind==="hasMany"){firstRecord.suspendRelationshipObservers(function(){var relationship=get(firstRecord,firstRecordName);if(isValue(relationship)){relationship.addObject(secondRecord)}})}}this.coalesce()};RelationshipChangeRemove.prototype.changeType="remove";RelationshipChangeRemove.prototype.sync=function(){var secondRecordName=this.getSecondRecordName(),firstRecordName=this.getFirstRecordName(),firstRecord=this.getFirstRecord(),secondRecord=this.getSecondRecord();if(secondRecord instanceof Model&&firstRecord instanceof Model){if(this.secondRecordKind==="belongsTo"){secondRecord.suspendRelationshipObservers(function(){set(secondRecord,secondRecordName,null)})}else if(this.secondRecordKind==="hasMany"){secondRecord.suspendRelationshipObservers(function(){var relationship=get(secondRecord,secondRecordName);if(isValue(relationship)){relationship.removeObject(firstRecord)}})}}if(firstRecord instanceof Model&&get(firstRecord,firstRecordName)){if(this.firstRecordKind==="belongsTo"){firstRecord.suspendRelationshipObservers(function(){set(firstRecord,firstRecordName,null)})}else if(this.firstRecordKind==="hasMany"){firstRecord.suspendRelationshipObservers(function(){var relationship=get(firstRecord,firstRecordName);if(isValue(relationship)){relationship.removeObject(secondRecord)}})}}this.coalesce()};__exports__.RelationshipChange=RelationshipChange;__exports__.RelationshipChangeAdd=RelationshipChangeAdd;__exports__.RelationshipChangeRemove=RelationshipChangeRemove;__exports__.OneToManyChange=OneToManyChange;__exports__.ManyToNoneChange=ManyToNoneChange;__exports__.OneToOneChange=OneToOneChange;__exports__.ManyToManyChange=ManyToManyChange});define("ember-data/lib/system/container_proxy",["exports"],function(__exports__){"use strict";var ContainerProxy=function(container){this.container=container};ContainerProxy.prototype.aliasedFactory=function(path,preLookup){var _this=this;return{create:function(){if(preLookup){preLookup()}return _this.container.lookup(path)}}};ContainerProxy.prototype.registerAlias=function(source,dest,preLookup){var factory=this.aliasedFactory(dest,preLookup);return this.container.register(source,factory)};ContainerProxy.prototype.registerDeprecation=function(deprecated,valid){var preLookupCallback=function(){Ember.deprecate("You tried to look up '"+deprecated+"', "+"but this has been deprecated in favor of '"+valid+"'.",false)};return this.registerAlias(deprecated,valid,preLookupCallback)};ContainerProxy.prototype.registerDeprecations=function(proxyPairs){for(var i=proxyPairs.length;i>0;i--){var proxyPair=proxyPairs[i-1],deprecated=proxyPair["deprecated"],valid=proxyPair["valid"];this.registerDeprecation(deprecated,valid)}};__exports__["default"]=ContainerProxy});define("ember-data/lib/system/debug",["./debug/debug_info","./debug/debug_adapter","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var DebugAdapter=__dependency2__["default"];__exports__["default"]=DebugAdapter});define("ember-data/lib/system/debug/debug_adapter",["../model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;var get=Ember.get,capitalize=Ember.String.capitalize,underscore=Ember.String.underscore;var DebugAdapter=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(klass){return klass!==Model&&Model.detect(klass)},columnsForType:function(type){var columns=[{name:"id",desc:"Id"}],count=0,self=this;get(type,"attributes").forEach(function(name,meta){if(count++>self.attributeLimit){return false}var desc=capitalize(underscore(name).replace("_"," "));columns.push({name:name,desc:desc})});return columns},getRecords:function(type){return this.get("store").all(type)},getRecordColumnValues:function(record){var self=this,count=0,columnValues={id:get(record,"id")};record.eachAttribute(function(key){if(count++>self.attributeLimit){return false}var value=get(record,key);columnValues[key]=value});return columnValues},getRecordKeywords:function(record){var keywords=[],keys=Ember.A(["id"]);record.eachAttribute(function(key){keys.push(key)});keys.forEach(function(key){keywords.push(get(record,key))});return keywords},getRecordFilterValues:function(record){return{isNew:record.get("isNew"),isModified:record.get("isDirty")&&!record.get("isNew"),isClean:!record.get("isDirty")}},getRecordColor:function(record){var color="black";if(record.get("isNew")){color="green"}else if(record.get("isDirty")){color="blue"}return color},observeRecord:function(record,recordUpdated){var releaseMethods=Ember.A(),self=this,keysToObserve=Ember.A(["id","isNew","isDirty"]);record.eachAttribute(function(key){keysToObserve.push(key)});keysToObserve.forEach(function(key){var handler=function(){recordUpdated(self.wrapRecord(record))};Ember.addObserver(record,key,handler);releaseMethods.push(function(){Ember.removeObserver(record,key,handler)})});var release=function(){releaseMethods.forEach(function(fn){fn()})};return release}});__exports__["default"]=DebugAdapter});define("ember-data/lib/system/debug/debug_info",["../model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__.Model;Model.reopen({_debugInfo:function(){var attributes=["id"],relationships={belongsTo:[],hasMany:[]},expensiveProperties=[];this.eachAttribute(function(name,meta){attributes.push(name)},this);this.eachRelationship(function(name,relationship){relationships[relationship.kind].push(name);expensiveProperties.push(name)});var groups=[{name:"Attributes",properties:attributes,expand:true},{name:"Belongs To",properties:relationships.belongsTo,expand:true},{name:"Has Many",properties:relationships.hasMany,expand:true},{name:"Flags",properties:["isLoaded","isDirty","isSaving","isDeleted","isError","isNew","isValid"]}];return{propertyInfo:{includeOtherProperties:true,groups:groups,expensiveProperties:expensiveProperties}}}});__exports__["default"]=Model});define("ember-data/lib/system/model",["./model/model","./model/attributes","./model/states","./model/errors","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var Model=__dependency1__["default"];var attr=__dependency2__["default"];var RootState=__dependency3__["default"];var Errors=__dependency4__["default"];__exports__.Model=Model;__exports__.RootState=RootState;__exports__.attr=attr;__exports__.Errors=Errors});define("ember-data/lib/system/model/attributes",["./model","exports"],function(__dependency1__,__exports__){"use strict";var Model=__dependency1__["default"];var get=Ember.get;Model.reopenClass({attributes:Ember.computed(function(){var map=Ember.Map.create();this.eachComputedProperty(function(name,meta){if(meta.isAttribute){Ember.assert("You may not set `id` as an attribute on your model. Please remove any lines that look like: `id: DS.attr('<type>')` from "+this.toString(),name!=="id");meta.name=name;map.set(name,meta)}});return map}),transformedAttributes:Ember.computed(function(){var map=Ember.Map.create();this.eachAttribute(function(key,meta){if(meta.type){map.set(key,meta.type)}});return map}),eachAttribute:function(callback,binding){get(this,"attributes").forEach(function(name,meta){callback.call(binding,name,meta)},binding)},eachTransformedAttribute:function(callback,binding){get(this,"transformedAttributes").forEach(function(name,type){callback.call(binding,name,type)})}});Model.reopen({eachAttribute:function(callback,binding){this.constructor.eachAttribute(callback,binding)}});function getDefaultValue(record,options,key){if(typeof options.defaultValue==="function"){return options.defaultValue.apply(null,arguments)}else{return options.defaultValue}}function hasValue(record,key){return record._attributes.hasOwnProperty(key)||record._inFlightAttributes.hasOwnProperty(key)||record._data.hasOwnProperty(key)}function getValue(record,key){if(record._attributes.hasOwnProperty(key)){return record._attributes[key]}else if(record._inFlightAttributes.hasOwnProperty(key)){return record._inFlightAttributes[key]}else{return record._data[key]}}function attr(type,options){options=options||{};var meta={type:type,isAttribute:true,options:options};return Ember.computed("data",function(key,value){if(arguments.length>1){Ember.assert("You may not set `id` as an attribute on your model. Please remove any lines that look like: `id: DS.attr('<type>')` from "+this.constructor.toString(),key!=="id");var oldValue=getValue(this,key);if(value!==oldValue){this._attributes[key]=value;this.send("didSetProperty",{name:key,oldValue:oldValue,originalValue:this._data[key],value:value})}return value}else if(hasValue(this,key)){return getValue(this,key)}else{return getDefaultValue(this,options,key)}}).meta(meta)}__exports__["default"]=attr});define("ember-data/lib/system/model/errors",["exports"],function(__exports__){"use strict";var get=Ember.get,isEmpty=Ember.isEmpty;var Errors=Ember.Object.extend(Ember.Enumerable,Ember.Evented,{registerHandlers:function(target,becameInvalid,becameValid){this.on("becameInvalid",target,becameInvalid);this.on("becameValid",target,becameValid)},errorsByAttributeName:Ember.reduceComputed("content",{initialValue:function(){return Ember.MapWithDefault.create({defaultValue:function(){return Ember.A()}})},addedItem:function(errors,error){errors.get(error.attribute).pushObject(error);return errors},removedItem:function(errors,error){errors.get(error.attribute).removeObject(error);return errors}}),errorsFor:function(attribute){return get(this,"errorsByAttributeName").get(attribute)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(attribute){var errors=this.errorsFor(attribute);if(isEmpty(errors)){return null}return errors},nextObject:function(index,previousObject,context){return get(this,"content").objectAt(index)},length:Ember.computed.oneWay("content.length").readOnly(),isEmpty:Ember.computed.not("length").readOnly(),add:function(attribute,messages){var wasEmpty=get(this,"isEmpty");messages=this._findOrCreateMessages(attribute,messages);get(this,"content").addObjects(messages);this.notifyPropertyChange(attribute);this.enumerableContentDidChange();if(wasEmpty&&!get(this,"isEmpty")){this.trigger("becameInvalid")}},_findOrCreateMessages:function(attribute,messages){var errors=this.errorsFor(attribute);return Ember.makeArray(messages).map(function(message){return errors.findBy("message",message)||{attribute:attribute,message:message}})},remove:function(attribute){if(get(this,"isEmpty")){return}var content=get(this,"content").rejectBy("attribute",attribute);get(this,"content").setObjects(content);this.notifyPropertyChange(attribute);this.enumerableContentDidChange();if(get(this,"isEmpty")){this.trigger("becameValid")}},clear:function(){if(get(this,"isEmpty")){return}get(this,"content").clear();this.enumerableContentDidChange();this.trigger("becameValid")},has:function(attribute){return!isEmpty(this.errorsFor(attribute))}});__exports__["default"]=Errors});define("ember-data/lib/system/model/model",["./states","./errors","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var RootState=__dependency1__["default"];var Errors=__dependency2__["default"];var get=Ember.get,set=Ember.set,merge=Ember.merge,Promise=Ember.RSVP.Promise;var retrieveFromCurrentState=Ember.computed("currentState",function(key,value){return get(get(this,"currentState"),key)}).readOnly();var Model=Ember.Object.extend(Ember.Evented,{_recordArrays:undefined,_relationships:undefined,_loadingRecordArrays:undefined,isEmpty:retrieveFromCurrentState,isLoading:retrieveFromCurrentState,isLoaded:retrieveFromCurrentState,isDirty:retrieveFromCurrentState,isSaving:retrieveFromCurrentState,isDeleted:retrieveFromCurrentState,isNew:retrieveFromCurrentState,isValid:retrieveFromCurrentState,dirtyType:retrieveFromCurrentState,isError:false,isReloading:false,clientId:null,id:null,currentState:RootState.empty,errors:Ember.computed(function(){var errors=Errors.create();errors.registerHandlers(this,function(){this.send("becameInvalid")},function(){this.send("becameValid")});return errors}).readOnly(),serialize:function(options){var store=get(this,"store");return store.serialize(this,options)},toJSON:function(options){var serializer=DS.JSONSerializer.create({container:this.container});return serializer.serialize(this,options)},didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){this._data=this._data||{};return this._data}).readOnly(),_data:null,init:function(){this._super();this._setup()},_setup:function(){this._changesToSync={};this._deferredTriggers=[];this._data={};this._attributes={};this._inFlightAttributes={};this._relationships={}},send:function(name,context){var currentState=get(this,"currentState");if(!currentState[name]){this._unhandledEvent(currentState,name,context)}return currentState[name](this,context)},transitionTo:function(name){var pivotName=name.split(".",1),currentState=get(this,"currentState"),state=currentState;do{if(state.exit){state.exit(this)}state=state.parentState}while(!state.hasOwnProperty(pivotName));var path=name.split(".");var setups=[],enters=[],i,l;for(i=0,l=path.length;i<l;i++){state=state[path[i]];if(state.enter){enters.push(state)}if(state.setup){setups.push(state)}}for(i=0,l=enters.length;i<l;i++){enters[i].enter(this)}set(this,"currentState",state);for(i=0,l=setups.length;i<l;i++){setups[i].setup(this)}this.updateRecordArraysLater()},_unhandledEvent:function(state,name,context){var errorMessage="Attempted to handle event `"+name+"` ";errorMessage+="on "+String(this)+" while in state ";errorMessage+=state.stateName+". ";if(context!==undefined){errorMessage+="Called with "+Ember.inspect(context)+"."}throw new Ember.Error(errorMessage)},withTransaction:function(fn){var transaction=get(this,"transaction");if(transaction){fn(transaction)}},loadingData:function(promise){this.send("loadingData",promise)},loadedData:function(){this.send("loadedData")},notFound:function(){this.send("notFound")},pushedData:function(){this.send("pushedData")},deleteRecord:function(){this.send("deleteRecord")},destroyRecord:function(){this.deleteRecord();return this.save()},unloadRecord:function(){if(this.isDestroyed){return}this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(name,relationship){if(relationship.kind==="belongsTo"){set(this,name,null)}else if(relationship.kind==="hasMany"){var hasMany=this._relationships[name];if(hasMany){hasMany.destroy()}}},this)},updateRecordArrays:function(){this._updatingRecordArraysLater=false;get(this,"store").dataWasUpdated(this.constructor,this)},changedAttributes:function(){var oldData=get(this,"_data"),newData=get(this,"_attributes"),diffData={},prop;for(prop in newData){diffData[prop]=[oldData[prop],newData[prop]]}return diffData},adapterWillCommit:function(){this.send("willCommit")},adapterDidCommit:function(data){set(this,"isError",false);if(data){this._data=data}else{Ember.mixin(this._data,this._inFlightAttributes)}this._inFlightAttributes={};this.send("didCommit");this.updateRecordArraysLater();if(!data){return}this.suspendRelationshipObservers(function(){this.notifyPropertyChange("data")})},adapterDidDirty:function(){this.send("becomeDirty");this.updateRecordArraysLater()},dataDidChange:Ember.observer(function(){this.reloadHasManys()},"data"),reloadHasManys:function(){var relationships=get(this.constructor,"relationshipsByName");this.updateRecordArraysLater();relationships.forEach(function(name,relationship){if(this._data.links&&this._data.links[name]){return}if(relationship.kind==="hasMany"){this.hasManyDidChange(relationship.key)}},this)},hasManyDidChange:function(key){var hasMany=this._relationships[key];if(hasMany){var records=this._data[key]||[];set(hasMany,"content",Ember.A(records));set(hasMany,"isLoaded",true);hasMany.trigger("didLoad")}},updateRecordArraysLater:function(){if(this._updatingRecordArraysLater){return}this._updatingRecordArraysLater=true;Ember.run.schedule("actions",this,this.updateRecordArrays)},setupData:function(data,partial){if(partial){Ember.merge(this._data,data)}else{this._data=data}var relationships=this._relationships;this.eachRelationship(function(name,rel){if(data.links&&data.links[name]){return}if(rel.options.async){relationships[name]=null}});if(data){this.pushedData()}this.suspendRelationshipObservers(function(){this.notifyPropertyChange("data")})},materializeId:function(id){set(this,"id",id)},materializeAttributes:function(attributes){Ember.assert("Must pass a hash of attributes to materializeAttributes",!!attributes);merge(this._data,attributes)},materializeAttribute:function(name,value){this._data[name]=value},updateHasMany:function(name,records){this._data[name]=records;this.hasManyDidChange(name)},updateBelongsTo:function(name,record){this._data[name]=record},rollback:function(){this._attributes={};if(get(this,"isError")){this._inFlightAttributes={};set(this,"isError",false)}if(!get(this,"isValid")){this._inFlightAttributes={}}this.send("rolledBack");this.suspendRelationshipObservers(function(){this.notifyPropertyChange("data")})},toStringExtension:function(){return get(this,"id")},suspendRelationshipObservers:function(callback,binding){var observers=get(this.constructor,"relationshipNames").belongsTo;var self=this;try{this._suspendedRelationships=true;Ember._suspendObservers(self,observers,null,"belongsToDidChange",function(){Ember._suspendBeforeObservers(self,observers,null,"belongsToWillChange",function(){callback.call(binding||self)})})}finally{this._suspendedRelationships=false}},save:function(){var promiseLabel="DS: Model#save "+this;var resolver=Ember.RSVP.defer(promiseLabel);this.get("store").scheduleSave(this,resolver);this._inFlightAttributes=this._attributes;this._attributes={};return DS.PromiseObject.create({promise:resolver.promise})},reload:function(){set(this,"isReloading",true);
var record=this;var promiseLabel="DS: Model#reload of "+this;var promise=new Promise(function(resolve){record.send("reloadRecord",resolve)},promiseLabel).then(function(){record.set("isReloading",false);record.set("isError",false);return record},function(reason){record.set("isError",true);throw reason},"DS: Model#reload complete, update flags");return DS.PromiseObject.create({promise:promise})},adapterDidUpdateAttribute:function(attributeName,value){if(value!==undefined){this._data[attributeName]=value;this.notifyPropertyChange(attributeName)}else{this._data[attributeName]=this._inFlightAttributes[attributeName]}this.updateRecordArraysLater()},adapterDidInvalidate:function(errors){var recordErrors=get(this,"errors");function addError(name){if(errors[name]){recordErrors.add(name,errors[name])}}this.eachAttribute(addError);this.eachRelationship(addError)},adapterDidError:function(){this.send("becameError");set(this,"isError",true)},trigger:function(name){Ember.tryInvoke(this,name,[].slice.call(arguments,1));this._super.apply(this,arguments)},triggerLater:function(){if(this._deferredTriggers.push(arguments)!==1){return}Ember.run.schedule("actions",this,"_triggerDeferredTriggers")},_triggerDeferredTriggers:function(){for(var i=0,l=this._deferredTriggers.length;i<l;i++){this.trigger.apply(this,this._deferredTriggers[i])}this._deferredTriggers.length=0},willDestroy:function(){this._super();this.clearRelationships()}});Model.reopenClass({_create:Model.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.createRecord` with the attributes you would like to set.")}});__exports__["default"]=Model});define("ember-data/lib/system/model/states",["exports"],function(__exports__){"use strict";var get=Ember.get,set=Ember.set;function hasDefinedProperties(object){var names=Ember.keys(object);var i,l,name;for(i=0,l=names.length;i<l;i++){name=names[i];if(object.hasOwnProperty(name)&&object[name]){return true}}return false}function didSetProperty(record,context){if(context.value===context.originalValue){delete record._attributes[context.name];record.send("propertyWasReset",context.name)}else if(context.value!==context.oldValue){record.send("becomeDirty")}record.updateRecordArraysLater()}var DirtyState={initialState:"uncommitted",isDirty:true,uncommitted:{didSetProperty:didSetProperty,propertyWasReset:function(record,name){var stillDirty=false;for(var prop in record._attributes){stillDirty=true;break}if(!stillDirty){record.send("rolledBack")}},pushedData:Ember.K,becomeDirty:Ember.K,willCommit:function(record){record.transitionTo("inFlight")},reloadRecord:function(record,resolve){resolve(get(record,"store").reloadRecord(record))},rolledBack:function(record){record.transitionTo("loaded.saved")},becameInvalid:function(record){record.transitionTo("invalid")},rollback:function(record){record.rollback()}},inFlight:{isSaving:true,didSetProperty:didSetProperty,becomeDirty:Ember.K,pushedData:Ember.K,unloadRecord:function(record){Ember.assert("You can only unload a record which is not inFlight. `"+Ember.inspect(record)+" `",false)},willCommit:Ember.K,didCommit:function(record){var dirtyType=get(this,"dirtyType");record.transitionTo("saved");record.send("invokeLifecycleCallbacks",dirtyType)},becameInvalid:function(record){record.transitionTo("invalid");record.send("invokeLifecycleCallbacks")},becameError:function(record){record.transitionTo("uncommitted");record.triggerLater("becameError",record)}},invalid:{isValid:false,deleteRecord:function(record){record.transitionTo("deleted.uncommitted");record.clearRelationships()},didSetProperty:function(record,context){get(record,"errors").remove(context.name);didSetProperty(record,context)},becomeDirty:Ember.K,rolledBack:function(record){get(record,"errors").clear()},becameValid:function(record){record.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(record){record.triggerLater("becameInvalid",record)}}};function deepClone(object){var clone={},value;for(var prop in object){value=object[prop];if(value&&typeof value==="object"){clone[prop]=deepClone(value)}else{clone[prop]=value}}return clone}function mixin(original,hash){for(var prop in hash){original[prop]=hash[prop]}return original}function dirtyState(options){var newState=deepClone(DirtyState);return mixin(newState,options)}var createdState=dirtyState({dirtyType:"created",isNew:true});createdState.uncommitted.rolledBack=function(record){record.transitionTo("deleted.saved")};var updatedState=dirtyState({dirtyType:"updated"});createdState.uncommitted.deleteRecord=function(record){record.clearRelationships();record.transitionTo("deleted.saved")};createdState.uncommitted.rollback=function(record){DirtyState.uncommitted.rollback.apply(this,arguments);record.transitionTo("deleted.saved")};createdState.uncommitted.propertyWasReset=Ember.K;function assertAgainstUnloadRecord(record){Ember.assert("You can only unload a record which is not inFlight. `"+Ember.inspect(record)+"`",false)}updatedState.inFlight.unloadRecord=assertAgainstUnloadRecord;updatedState.uncommitted.deleteRecord=function(record){record.transitionTo("deleted.uncommitted");record.clearRelationships()};var RootState={isEmpty:false,isLoading:false,isLoaded:false,isDirty:false,isSaving:false,isDeleted:false,isNew:false,isValid:true,rolledBack:Ember.K,unloadRecord:function(record){record.clearRelationships();record.transitionTo("deleted.saved")},propertyWasReset:Ember.K,empty:{isEmpty:true,loadingData:function(record,promise){record._loadingPromise=promise;record.transitionTo("loading")},loadedData:function(record){record.transitionTo("loaded.created.uncommitted");record.suspendRelationshipObservers(function(){record.notifyPropertyChange("data")})},pushedData:function(record){record.transitionTo("loaded.saved");record.triggerLater("didLoad")}},loading:{isLoading:true,exit:function(record){record._loadingPromise=null},pushedData:function(record){record.transitionTo("loaded.saved");record.triggerLater("didLoad");set(record,"isError",false)},becameError:function(record){record.triggerLater("becameError",record)},notFound:function(record){record.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:true,saved:{setup:function(record){var attrs=record._attributes,isDirty=false;for(var prop in attrs){if(attrs.hasOwnProperty(prop)){isDirty=true;break}}if(isDirty){record.adapterDidDirty()}},didSetProperty:didSetProperty,pushedData:Ember.K,becomeDirty:function(record){record.transitionTo("updated.uncommitted")},willCommit:function(record){record.transitionTo("updated.inFlight")},reloadRecord:function(record,resolve){resolve(get(record,"store").reloadRecord(record))},deleteRecord:function(record){record.transitionTo("deleted.uncommitted");record.clearRelationships()},unloadRecord:function(record){record.clearRelationships();record.transitionTo("deleted.saved")},didCommit:function(record){record.send("invokeLifecycleCallbacks",get(record,"lastDirtyType"))},notFound:Ember.K},created:createdState,updated:updatedState},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:true,isLoaded:true,isDirty:true,setup:function(record){record.updateRecordArrays()},uncommitted:{willCommit:function(record){record.transitionTo("inFlight")},rollback:function(record){record.rollback()},becomeDirty:Ember.K,deleteRecord:Ember.K,rolledBack:function(record){record.transitionTo("loaded.saved")}},inFlight:{isSaving:true,unloadRecord:assertAgainstUnloadRecord,willCommit:Ember.K,didCommit:function(record){record.transitionTo("saved");record.send("invokeLifecycleCallbacks")},becameError:function(record){record.transitionTo("uncommitted");record.triggerLater("becameError",record)}},saved:{isDirty:false,setup:function(record){var store=get(record,"store");store.dematerializeRecord(record)},invokeLifecycleCallbacks:function(record){record.triggerLater("didDelete",record);record.triggerLater("didCommit",record)}}},invokeLifecycleCallbacks:function(record,dirtyType){if(dirtyType==="created"){record.triggerLater("didCreate",record)}else{record.triggerLater("didUpdate",record)}record.triggerLater("didCommit",record)}};function wireState(object,parent,name){object=mixin(parent?Ember.create(parent):{},object);object.parentState=parent;object.stateName=name;for(var prop in object){if(!object.hasOwnProperty(prop)||prop==="parentState"||prop==="stateName"){continue}if(typeof object[prop]==="object"){object[prop]=wireState(object[prop],object,name+"."+prop)}}return object}RootState=wireState(RootState,null,"root");__exports__["default"]=RootState});define("ember-data/lib/system/record_array_manager",["./record_arrays","exports"],function(__dependency1__,__exports__){"use strict";var ManyArray=__dependency1__.ManyArray;var get=Ember.get,set=Ember.set;var forEach=Ember.EnumerableUtils.forEach;var RecordArrayManager=Ember.Object.extend({init:function(){this.filteredRecordArrays=Ember.MapWithDefault.create({defaultValue:function(){return[]}});this.changedRecords=[];this._adapterPopulatedRecordArrays=[]},recordDidChange:function(record){if(this.changedRecords.push(record)!==1){return}Ember.run.schedule("actions",this,this.updateRecordArrays)},recordArraysForRecord:function(record){record._recordArrays=record._recordArrays||Ember.OrderedSet.create();return record._recordArrays},updateRecordArrays:function(){forEach(this.changedRecords,function(record){if(get(record,"isDeleted")){this._recordWasDeleted(record)}else{this._recordWasChanged(record)}},this);this.changedRecords.length=0},_recordWasDeleted:function(record){var recordArrays=record._recordArrays;if(!recordArrays){return}forEach(recordArrays,function(array){array.removeRecord(record)})},_recordWasChanged:function(record){var type=record.constructor,recordArrays=this.filteredRecordArrays.get(type),filter;forEach(recordArrays,function(array){filter=get(array,"filterFunction");this.updateRecordArray(array,filter,type,record)},this);var manyArrays=record._loadingRecordArrays;if(manyArrays){for(var i=0,l=manyArrays.length;i<l;i++){manyArrays[i].loadedRecord()}record._loadingRecordArrays=[]}},updateRecordArray:function(array,filter,type,record){var shouldBeInArray;if(!filter){shouldBeInArray=true}else{shouldBeInArray=filter(record)}var recordArrays=this.recordArraysForRecord(record);if(shouldBeInArray){recordArrays.add(array);array.addRecord(record)}else if(!shouldBeInArray){recordArrays.remove(array);array.removeRecord(record)}},updateFilter:function(array,type,filter){var typeMap=this.store.typeMapFor(type),records=typeMap.records,record;for(var i=0,l=records.length;i<l;i++){record=records[i];if(!get(record,"isDeleted")&&!get(record,"isEmpty")){this.updateRecordArray(array,filter,type,record)}}},createManyArray:function(type,records){var manyArray=ManyArray.create({type:type,content:records,store:this.store});forEach(records,function(record){var arrays=this.recordArraysForRecord(record);arrays.add(manyArray)},this);return manyArray},createRecordArray:function(type){var array=DS.RecordArray.create({type:type,content:Ember.A(),store:this.store,isLoaded:true});this.registerFilteredRecordArray(array,type);return array},createFilteredRecordArray:function(type,filter){var array=DS.FilteredRecordArray.create({type:type,content:Ember.A(),store:this.store,manager:this,filterFunction:filter});this.registerFilteredRecordArray(array,type,filter);return array},createAdapterPopulatedRecordArray:function(type,query){var array=DS.AdapterPopulatedRecordArray.create({type:type,query:query,content:Ember.A(),store:this.store});this._adapterPopulatedRecordArrays.push(array);return array},registerFilteredRecordArray:function(array,type,filter){var recordArrays=this.filteredRecordArrays.get(type);recordArrays.push(array);this.updateFilter(array,type,filter)},registerWaitingRecordArray:function(record,array){var loadingRecordArrays=record._loadingRecordArrays||[];loadingRecordArrays.push(array);record._loadingRecordArrays=loadingRecordArrays},willDestroy:function(){this._super();flatten(values(this.filteredRecordArrays.values)).forEach(destroy);this._adapterPopulatedRecordArrays.forEach(destroy)}});function values(obj){var result=[];var keys=Ember.keys(obj);for(var i=0;i<keys.length;i++){result.push(obj[keys[i]])}return result}function destroy(entry){entry.destroy()}function flatten(list){var length=list.length;var result=Ember.A();for(var i=0;i<length;i++){result=result.concat(list[i])}return result}__exports__["default"]=RecordArrayManager});define("ember-data/lib/system/record_arrays",["./record_arrays/record_array","./record_arrays/filtered_record_array","./record_arrays/adapter_populated_record_array","./record_arrays/many_array","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var FilteredRecordArray=__dependency2__["default"];var AdapterPopulatedRecordArray=__dependency3__["default"];var ManyArray=__dependency4__["default"];__exports__.RecordArray=RecordArray;__exports__.FilteredRecordArray=FilteredRecordArray;__exports__.AdapterPopulatedRecordArray=AdapterPopulatedRecordArray;__exports__.ManyArray=ManyArray});define("ember-data/lib/system/record_arrays/adapter_populated_record_array",["./record_array","exports"],function(__dependency1__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var get=Ember.get,set=Ember.set;var AdapterPopulatedRecordArray=RecordArray.extend({query:null,replace:function(){var type=get(this,"type").toString();throw new Error("The result of a server query (on "+type+") is immutable.")},load:function(data){var store=get(this,"store"),type=get(this,"type"),records=store.pushMany(type,data),meta=store.metadataFor(type);this.setProperties({content:Ember.A(records),isLoaded:true,meta:meta});Ember.run.once(this,"trigger","didLoad")}});__exports__["default"]=AdapterPopulatedRecordArray});define("ember-data/lib/system/record_arrays/filtered_record_array",["./record_array","exports"],function(__dependency1__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var get=Ember.get;var FilteredRecordArray=RecordArray.extend({filterFunction:null,isLoaded:true,replace:function(){var type=get(this,"type").toString();throw new Error("The result of a client-side filter (on "+type+") is immutable.")},updateFilter:Ember.observer(function(){var manager=get(this,"manager");manager.updateFilter(this,get(this,"type"),get(this,"filterFunction"))},"filterFunction")});__exports__["default"]=FilteredRecordArray});define("ember-data/lib/system/record_arrays/many_array",["./record_array","../changes","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var RecordArray=__dependency1__["default"];var RelationshipChange=__dependency2__.RelationshipChange;var get=Ember.get,set=Ember.set;var map=Ember.EnumerableUtils.map;function sync(change){change.sync()}var ManyArray=RecordArray.extend({init:function(){this._super.apply(this,arguments);this._changesToSync=Ember.OrderedSet.create()},name:null,owner:null,isPolymorphic:false,isLoaded:false,promise:null,loadingRecordsCount:function(count){this.loadingRecordsCount=count},loadedRecord:function(){this.loadingRecordsCount--;if(this.loadingRecordsCount===0){set(this,"isLoaded",true);this.trigger("didLoad")}},fetch:function(){var records=get(this,"content"),store=get(this,"store"),owner=get(this,"owner"),resolver=Ember.RSVP.defer("DS: ManyArray#fetch "+get(this,"type"));var unloadedRecords=records.filterProperty("isEmpty",true);store.fetchMany(unloadedRecords,owner,resolver)},replaceContent:function(index,removed,added){added=map(added,function(record){Ember.assert("You cannot add '"+record.constructor.typeKey+"' records to this relationship (only '"+this.type.typeKey+"' allowed)",!this.type||record instanceof this.type);return record},this);this._super(index,removed,added)},arrangedContentDidChange:function(){Ember.run.once(this,"fetch")},arrayContentWillChange:function(index,removed,added){var owner=get(this,"owner"),name=get(this,"name");if(!owner._suspendedRelationships){for(var i=index;i<index+removed;i++){var record=get(this,"content").objectAt(i);var change=RelationshipChange.createChange(owner,record,get(this,"store"),{parentType:owner.constructor,changeType:"remove",kind:"hasMany",key:name});this._changesToSync.add(change)}}return this._super.apply(this,arguments)},arrayContentDidChange:function(index,removed,added){this._super.apply(this,arguments);var owner=get(this,"owner"),name=get(this,"name"),store=get(this,"store");if(!owner._suspendedRelationships){for(var i=index;i<index+added;i++){var record=get(this,"content").objectAt(i);var change=RelationshipChange.createChange(owner,record,store,{parentType:owner.constructor,changeType:"add",kind:"hasMany",key:name});change.hasManyName=name;this._changesToSync.add(change)}this._changesToSync.forEach(sync);this._changesToSync.clear()}},createRecord:function(hash){var owner=get(this,"owner"),store=get(owner,"store"),type=get(this,"type"),record;Ember.assert("You cannot add '"+type.typeKey+"' records to this polymorphic relationship.",!get(this,"isPolymorphic"));record=store.createRecord.call(store,type,hash);this.pushObject(record);return record}});__exports__["default"]=ManyArray});define("ember-data/lib/system/record_arrays/record_array",["../store","exports"],function(__dependency1__,__exports__){"use strict";var PromiseArray=__dependency1__.PromiseArray;var get=Ember.get,set=Ember.set;var RecordArray=Ember.ArrayProxy.extend(Ember.Evented,{type:null,content:null,isLoaded:false,isUpdating:false,store:null,objectAtContent:function(index){var content=get(this,"content");return content.objectAt(index)},update:function(){if(get(this,"isUpdating")){return}var store=get(this,"store"),type=get(this,"type");return store.fetchAll(type,this)},addRecord:function(record){get(this,"content").addObject(record)},removeRecord:function(record){get(this,"content").removeObject(record)},save:function(){var promiseLabel="DS: RecordArray#save "+get(this,"type");var promise=Ember.RSVP.all(this.invoke("save"),promiseLabel).then(function(array){return Ember.A(array)},null,"DS: RecordArray#save apply Ember.NativeArray");return PromiseArray.create({promise:promise})},_dissociateFromOwnRecords:function(){var array=this;this.forEach(function(record){var recordArrays=record._recordArrays;if(recordArrays){recordArrays.remove(array)}})},willDestroy:function(){this._dissociateFromOwnRecords();this._super()}});__exports__["default"]=RecordArray});define("ember-data/lib/system/relationships",["./relationships/belongs_to","./relationships/has_many","../system/relationships/ext","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var belongsTo=__dependency1__["default"];var hasMany=__dependency2__["default"];__exports__.belongsTo=belongsTo;__exports__.hasMany=hasMany});define("ember-data/lib/system/relationships/belongs_to",["../model","exports"],function(__dependency1__,__exports__){"use strict";var get=Ember.get,set=Ember.set,isNone=Ember.isNone;var Promise=Ember.RSVP.Promise;var Model=__dependency1__.Model;function asyncBelongsTo(type,options,meta){return Ember.computed("data",function(key,value){var data=get(this,"data"),store=get(this,"store"),promiseLabel="DS: Async belongsTo "+this+" : "+key,promise;if(arguments.length===2){Ember.assert("You can only add a '"+type+"' record to this relationship",!value||value instanceof store.modelFor(type));return value===undefined?null:DS.PromiseObject.create({promise:Promise.cast(value,promiseLabel)})}var link=data.links&&data.links[key],belongsTo=data[key];if(!isNone(belongsTo)){promise=store.fetchRecord(belongsTo)||Promise.cast(belongsTo,promiseLabel);return DS.PromiseObject.create({promise:promise})}else if(link){promise=store.findBelongsTo(this,link,meta);return DS.PromiseObject.create({promise:promise})}else{return null}}).meta(meta)}function belongsTo(type,options){if(typeof type==="object"){options=type;type=undefined}else{Ember.assert("The first argument DS.belongsTo must be a model type or string, like DS.belongsTo(App.Person)",!!type&&(typeof type==="string"||DS.Model.detect(type)))}options=options||{};var meta={type:type,isRelationship:true,options:options,kind:"belongsTo"};if(options.async){return asyncBelongsTo(type,options,meta)}return Ember.computed("data",function(key,value){var data=get(this,"data"),store=get(this,"store"),belongsTo,typeClass;if(typeof type==="string"){typeClass=store.modelFor(type)}else{typeClass=type}if(arguments.length===2){Ember.assert("You can only add a '"+type+"' record to this relationship",!value||value instanceof typeClass);return value===undefined?null:value}belongsTo=data[key];if(isNone(belongsTo)){return null}store.fetchRecord(belongsTo);return belongsTo}).meta(meta)}Model.reopen({belongsToWillChange:Ember.beforeObserver(function(record,key){if(get(record,"isLoaded")){var oldParent=get(record,key);if(oldParent){var store=get(record,"store"),change=DS.RelationshipChange.createChange(record,oldParent,store,{key:key,kind:"belongsTo",changeType:"remove"});change.sync();this._changesToSync[key]=change}}}),belongsToDidChange:Ember.immediateObserver(function(record,key){if(get(record,"isLoaded")){var newParent=get(record,key);if(newParent){var store=get(record,"store"),change=DS.RelationshipChange.createChange(record,newParent,store,{key:key,kind:"belongsTo",changeType:"add"});change.sync()}}delete this._changesToSync[key]})});__exports__["default"]=belongsTo});define("ember-data/lib/system/relationships/ext",["../../../../ember-inflector/lib/system","../model"],function(__dependency1__,__dependency2__){"use strict";var singularize=__dependency1__.singularize;var Model=__dependency2__.Model;var get=Ember.get,set=Ember.set;Model.reopen({didDefineProperty:function(proto,key,value){if(value instanceof Ember.Descriptor){var meta=value.meta();if(meta.isRelationship&&meta.kind==="belongsTo"){Ember.addObserver(proto,key,null,"belongsToDidChange");Ember.addBeforeObserver(proto,key,null,"belongsToWillChange")}meta.parentType=proto.constructor}}});Model.reopenClass({typeForRelationship:function(name){var relationship=get(this,"relationshipsByName").get(name);return relationship&&relationship.type},inverseFor:function(name){var inverseType=this.typeForRelationship(name);if(!inverseType){return null}var options=this.metaForProperty(name).options;if(options.inverse===null){return null}var inverseName,inverseKind;if(options.inverse){inverseName=options.inverse;inverseKind=Ember.get(inverseType,"relationshipsByName").get(inverseName).kind}else{var possibleRelationships=findPossibleInverses(this,inverseType);if(possibleRelationships.length===0){return null}Ember.assert("You defined the '"+name+"' relationship on "+this+", but multiple possible inverse relationships of type "+this+" were found on "+inverseType+". Look at http://emberjs.com/guides/models/defining-models/#toc_explicit-inverses for how to explicitly specify inverses",possibleRelationships.length===1);inverseName=possibleRelationships[0].name;inverseKind=possibleRelationships[0].kind}function findPossibleInverses(type,inverseType,possibleRelationships){possibleRelationships=possibleRelationships||[];var relationshipMap=get(inverseType,"relationships");if(!relationshipMap){return}var relationships=relationshipMap.get(type);if(relationships){possibleRelationships.push.apply(possibleRelationships,relationshipMap.get(type))}if(type.superclass){findPossibleInverses(type.superclass,inverseType,possibleRelationships)}return possibleRelationships}return{type:inverseType,name:inverseName,kind:inverseKind}},relationships:Ember.computed(function(){var map=new Ember.MapWithDefault({defaultValue:function(){return[]}});this.eachComputedProperty(function(name,meta){if(meta.isRelationship){if(typeof meta.type==="string"){meta.type=this.store.modelFor(meta.type)}var relationshipsForType=map.get(meta.type);relationshipsForType.push({name:name,kind:meta.kind})}});return map}),relationshipNames:Ember.computed(function(){var names={hasMany:[],belongsTo:[]};this.eachComputedProperty(function(name,meta){if(meta.isRelationship){names[meta.kind].push(name)}});return names}),relatedTypes:Ember.computed(function(){var type,types=Ember.A();this.eachComputedProperty(function(name,meta){if(meta.isRelationship){type=meta.type;if(typeof type==="string"){type=get(this,type,false)||this.store.modelFor(type)}Ember.assert("You specified a hasMany ("+meta.type+") on "+meta.parentType+" but "+meta.type+" was not found.",type);if(!types.contains(type)){Ember.assert("Trying to sideload "+name+" on "+this.toString()+" but the type doesn't exist.",!!type);types.push(type)}}});return types}),relationshipsByName:Ember.computed(function(){var map=Ember.Map.create(),type;this.eachComputedProperty(function(name,meta){if(meta.isRelationship){meta.key=name;type=meta.type;if(!type&&meta.kind==="hasMany"){type=singularize(name)}else if(!type){type=name}if(typeof type==="string"){meta.type=this.store.modelFor(type)}map.set(name,meta)}});return map}),fields:Ember.computed(function(){var map=Ember.Map.create();this.eachComputedProperty(function(name,meta){if(meta.isRelationship){map.set(name,meta.kind)}else if(meta.isAttribute){map.set(name,"attribute")}});return map}),eachRelationship:function(callback,binding){get(this,"relationshipsByName").forEach(function(name,relationship){callback.call(binding,name,relationship)})},eachRelatedType:function(callback,binding){get(this,"relatedTypes").forEach(function(type){callback.call(binding,type)})}});Model.reopen({eachRelationship:function(callback,binding){this.constructor.eachRelationship(callback,binding)}})});define("ember-data/lib/system/relationships/has_many",["exports"],function(__exports__){"use strict";var get=Ember.get,set=Ember.set,setProperties=Ember.setProperties;function asyncHasMany(type,options,meta){return Ember.computed("data",function(key){var relationship=this._relationships[key],promiseLabel="DS: Async hasMany "+this+" : "+key;if(!relationship){var resolver=Ember.RSVP.defer(promiseLabel);relationship=buildRelationship(this,key,options,function(store,data){var link=data.links&&data.links[key];var rel;if(link){rel=store.findHasMany(this,link,meta,resolver)}else{rel=store.findMany(this,data[key],meta.type,resolver)}set(rel,"promise",resolver.promise);return rel})}var promise=relationship.get("promise").then(function(){return relationship},null,"DS: Async hasMany records received");return DS.PromiseArray.create({promise:promise})}).meta(meta).readOnly()}function buildRelationship(record,key,options,callback){var rels=record._relationships;if(rels[key]){return rels[key]}var data=get(record,"data"),store=get(record,"store");var relationship=rels[key]=callback.call(record,store,data);return setProperties(relationship,{owner:record,name:key,isPolymorphic:options.polymorphic})}function hasRelationship(type,options){options=options||{};var meta={type:type,isRelationship:true,options:options,kind:"hasMany"};if(options.async){return asyncHasMany(type,options,meta)}return Ember.computed("data",function(key){return buildRelationship(this,key,options,function(store,data){var records=data[key];Ember.assert("You looked up the '"+key+"' relationship on '"+this+"' but some of the associated records were not loaded. Either make sure they are all loaded together with the parent record, or specify that the relationship is async (`DS.hasMany({ async: true })`)",Ember.A(records).everyProperty("isEmpty",false));return store.findMany(this,data[key],meta.type)})}).meta(meta).readOnly()}function hasMany(type,options){if(typeof type==="object"){options=type;type=undefined}return hasRelationship(type,options)}__exports__["default"]=hasMany});define("ember-data/lib/system/store",["exports"],function(__exports__){"use strict";var get=Ember.get,set=Ember.set;var once=Ember.run.once;var isNone=Ember.isNone;var forEach=Ember.EnumerableUtils.forEach;var indexOf=Ember.EnumerableUtils.indexOf;var map=Ember.EnumerableUtils.map;var Promise=Ember.RSVP.Promise;var copy=Ember.copy;var Store,PromiseObject,PromiseArray;function coerceId(id){return id==null?null:id+""}Store=Ember.Object.extend({init:function(){this.typeMaps={};this.recordArrayManager=DS.RecordArrayManager.create({store:this});this._relationshipChanges={};this._pendingSave=[]},adapter:"-rest",serialize:function(record,options){return this.serializerFor(record.constructor.typeKey).serialize(record,options)},defaultAdapter:Ember.computed("adapter",function(){var adapter=get(this,"adapter");Ember.assert("You tried to set `adapter` property to an instance of `DS.Adapter`, where it should be a name or a factory",!(adapter instanceof DS.Adapter));if(typeof adapter==="string"){adapter=this.container.lookup("adapter:"+adapter)||this.container.lookup("adapter:application")||this.container.lookup("adapter:-rest")}if(DS.Adapter.detect(adapter)){adapter=adapter.create({container:this.container})}return adapter}),createRecord:function(type,properties){type=this.modelFor(type);properties=copy(properties)||{};if(isNone(properties.id)){properties.id=this._generateId(type)}properties.id=coerceId(properties.id);var record=this.buildRecord(type,properties.id);record.loadedData();record.setProperties(properties);return record},_generateId:function(type){var adapter=this.adapterFor(type);if(adapter&&adapter.generateIdForRecord){return adapter.generateIdForRecord(this)}return null},deleteRecord:function(record){record.deleteRecord()},unloadRecord:function(record){record.unloadRecord()},find:function(type,id){Ember.assert("You need to pass a type to the store's find method",arguments.length>=1);Ember.assert("You may not pass `"+id+"` as id to the store's find method",arguments.length===1||!Ember.isNone(id));if(arguments.length===1){return this.findAll(type)}if(Ember.typeOf(id)==="object"){return this.findQuery(type,id)}return this.findById(type,coerceId(id))},findById:function(type,id){type=this.modelFor(type);var record=this.recordForId(type,id);var fetchedRecord=this.fetchRecord(record);return promiseObject(fetchedRecord||record,"DS: Store#findById "+type+" with id: "+id)},findByIds:function(type,ids){var store=this;var promiseLabel="DS: Store#findByIds "+type;return promiseArray(Ember.RSVP.all(map(ids,function(id){return store.findById(type,id)})).then(Ember.A,null,"DS: Store#findByIds of "+type+" complete"))},fetchRecord:function(record){if(isNone(record)){return null}if(record._loadingPromise){return record._loadingPromise}if(!get(record,"isEmpty")){return null}var type=record.constructor,id=get(record,"id");var adapter=this.adapterFor(type);Ember.assert("You tried to find a record but you have no adapter (for "+type+")",adapter);Ember.assert("You tried to find a record but your adapter (for "+type+") does not implement 'find'",adapter.find);var promise=_find(adapter,this,type,id);record.loadingData(promise);return promise},getById:function(type,id){if(this.hasRecordForId(type,id)){return this.recordForId(type,id)}else{return null}},reloadRecord:function(record){var type=record.constructor,adapter=this.adapterFor(type),id=get(record,"id");Ember.assert("You cannot reload a record without an ID",id);Ember.assert("You tried to reload a record but you have no adapter (for "+type+")",adapter);Ember.assert("You tried to reload a record but your adapter does not implement `find`",adapter.find);return _find(adapter,this,type,id)},fetchMany:function(records,owner){if(!records.length){return}var recordsByTypeMap=Ember.MapWithDefault.create({defaultValue:function(){return Ember.A()}});forEach(records,function(record){recordsByTypeMap.get(record.constructor).push(record)});var promises=[];forEach(recordsByTypeMap,function(type,records){var ids=records.mapProperty("id"),adapter=this.adapterFor(type);Ember.assert("You tried to load many records but you have no adapter (for "+type+")",adapter);Ember.assert("You tried to load many records but your adapter does not implement `findMany`",adapter.findMany);promises.push(_findMany(adapter,this,type,ids,owner))
},this);return Ember.RSVP.all(promises)},hasRecordForId:function(type,id){id=coerceId(id);type=this.modelFor(type);return!!this.typeMapFor(type).idToRecord[id]},recordForId:function(type,id){type=this.modelFor(type);id=coerceId(id);var record=this.typeMapFor(type).idToRecord[id];if(!record){record=this.buildRecord(type,id)}return record},findMany:function(owner,records,type,resolver){type=this.modelFor(type);records=Ember.A(records);var unloadedRecords=records.filterProperty("isEmpty",true),manyArray=this.recordArrayManager.createManyArray(type,records);forEach(unloadedRecords,function(record){record.loadingData()});manyArray.loadingRecordsCount=unloadedRecords.length;if(unloadedRecords.length){forEach(unloadedRecords,function(record){this.recordArrayManager.registerWaitingRecordArray(record,manyArray)},this);resolver.resolve(this.fetchMany(unloadedRecords,owner))}else{if(resolver){resolver.resolve()}manyArray.set("isLoaded",true);once(manyArray,"trigger","didLoad")}return manyArray},findHasMany:function(owner,link,relationship,resolver){var adapter=this.adapterFor(owner.constructor);Ember.assert("You tried to load a hasMany relationship but you have no adapter (for "+owner.constructor+")",adapter);Ember.assert("You tried to load a hasMany relationship from a specified `link` in the original payload but your adapter does not implement `findHasMany`",adapter.findHasMany);var records=this.recordArrayManager.createManyArray(relationship.type,Ember.A([]));resolver.resolve(_findHasMany(adapter,this,owner,link,relationship));return records},findBelongsTo:function(owner,link,relationship){var adapter=this.adapterFor(owner.constructor);Ember.assert("You tried to load a belongsTo relationship but you have no adapter (for "+owner.constructor+")",adapter);Ember.assert("You tried to load a belongsTo relationship from a specified `link` in the original payload but your adapter does not implement `findBelongsTo`",adapter.findBelongsTo);return _findBelongsTo(adapter,this,owner,link,relationship)},findQuery:function(type,query){type=this.modelFor(type);var array=this.recordArrayManager.createAdapterPopulatedRecordArray(type,query);var adapter=this.adapterFor(type);Ember.assert("You tried to load a query but you have no adapter (for "+type+")",adapter);Ember.assert("You tried to load a query but your adapter does not implement `findQuery`",adapter.findQuery);return promiseArray(_findQuery(adapter,this,type,query,array))},findAll:function(type){type=this.modelFor(type);return this.fetchAll(type,this.all(type))},fetchAll:function(type,array){var adapter=this.adapterFor(type),sinceToken=this.typeMapFor(type).metadata.since;set(array,"isUpdating",true);Ember.assert("You tried to load all records but you have no adapter (for "+type+")",adapter);Ember.assert("You tried to load all records but your adapter does not implement `findAll`",adapter.findAll);return promiseArray(_findAll(adapter,this,type,sinceToken))},didUpdateAll:function(type){var findAllCache=this.typeMapFor(type).findAllCache;set(findAllCache,"isUpdating",false)},all:function(type){type=this.modelFor(type);var typeMap=this.typeMapFor(type),findAllCache=typeMap.findAllCache;if(findAllCache){return findAllCache}var array=this.recordArrayManager.createRecordArray(type);typeMap.findAllCache=array;return array},unloadAll:function(type){var modelType=this.modelFor(type);var typeMap=this.typeMapFor(modelType);var records=typeMap.records.slice();var record;for(var i=0;i<records.length;i++){record=records[i];record.unloadRecord();record.destroy()}typeMap.findAllCache=null},filter:function(type,query,filter){var promise;if(arguments.length===3){promise=this.findQuery(type,query)}else if(arguments.length===2){filter=query}type=this.modelFor(type);var array=this.recordArrayManager.createFilteredRecordArray(type,filter);promise=promise||Promise.cast(array);return promiseArray(promise.then(function(){return array},null,"DS: Store#filter of "+type))},recordIsLoaded:function(type,id){if(!this.hasRecordForId(type,id)){return false}return!get(this.recordForId(type,id),"isEmpty")},metadataFor:function(type){type=this.modelFor(type);return this.typeMapFor(type).metadata},dataWasUpdated:function(type,record){this.recordArrayManager.recordDidChange(record)},scheduleSave:function(record,resolver){record.adapterWillCommit();this._pendingSave.push([record,resolver]);once(this,"flushPendingSave")},flushPendingSave:function(){var pending=this._pendingSave.slice();this._pendingSave=[];forEach(pending,function(tuple){var record=tuple[0],resolver=tuple[1],adapter=this.adapterFor(record.constructor),operation;if(get(record,"isNew")){operation="createRecord"}else if(get(record,"isDeleted")){operation="deleteRecord"}else{operation="updateRecord"}resolver.resolve(_commit(adapter,this,operation,record))},this)},didSaveRecord:function(record,data){if(data){data=normalizeRelationships(this,record.constructor,data,record);this.updateId(record,data)}record.adapterDidCommit(data)},recordWasInvalid:function(record,errors){record.adapterDidInvalidate(errors)},recordWasError:function(record){record.adapterDidError()},updateId:function(record,data){var oldId=get(record,"id"),id=coerceId(data.id);Ember.assert("An adapter cannot assign a new id to a record that already has an id. "+record+" had id: "+oldId+" and you tried to update it with "+id+". This likely happened because your server returned data in response to a find or update that had a different id than the one you sent.",oldId===null||id===oldId);this.typeMapFor(record.constructor).idToRecord[id]=record;set(record,"id",id)},typeMapFor:function(type){var typeMaps=get(this,"typeMaps"),guid=Ember.guidFor(type),typeMap;typeMap=typeMaps[guid];if(typeMap){return typeMap}typeMap={idToRecord:{},records:[],metadata:{},type:type};typeMaps[guid]=typeMap;return typeMap},_load:function(type,data,partial){var id=coerceId(data.id),record=this.recordForId(type,id);record.setupData(data,partial);this.recordArrayManager.recordDidChange(record);return record},modelFor:function(key){var factory;if(typeof key==="string"){var normalizedKey=this.container.normalize("model:"+key);factory=this.container.lookupFactory(normalizedKey);if(!factory){throw new Ember.Error("No model was found for '"+key+"'")}factory.typeKey=normalizedKey.split(":",2)[1]}else{factory=key}factory.store=this;return factory},push:function(type,data,_partial){Ember.assert("You must include an `id` in a hash passed to `push`",data.id!=null);type=this.modelFor(type);data=normalizeRelationships(this,type,data);this._load(type,data,_partial);return this.recordForId(type,data.id)},pushPayload:function(type,payload){var serializer;if(!payload){payload=type;serializer=defaultSerializer(this.container);Ember.assert("You cannot use `store#pushPayload` without a type unless your default serializer defines `pushPayload`",serializer.pushPayload)}else{serializer=this.serializerFor(type)}serializer.pushPayload(this,payload)},update:function(type,data){Ember.assert("You must include an `id` in a hash passed to `update`",data.id!=null);return this.push(type,data,true)},pushMany:function(type,datas){return map(datas,function(data){return this.push(type,data)},this)},metaForType:function(type,metadata){type=this.modelFor(type);Ember.merge(this.typeMapFor(type).metadata,metadata)},buildRecord:function(type,id,data){var typeMap=this.typeMapFor(type),idToRecord=typeMap.idToRecord;Ember.assert("The id "+id+" has already been used with another record of type "+type.toString()+".",!id||!idToRecord[id]);Ember.assert("`"+Ember.inspect(type)+"` does not appear to be an ember-data model",typeof type._create==="function");var record=type._create({id:id,store:this,container:this.container});if(data){record.setupData(data)}if(id){idToRecord[id]=record}typeMap.records.push(record);return record},dematerializeRecord:function(record){var type=record.constructor,typeMap=this.typeMapFor(type),id=get(record,"id");record.updateRecordArrays();if(id){delete typeMap.idToRecord[id]}var loc=indexOf(typeMap.records,record);typeMap.records.splice(loc,1)},addRelationshipChangeFor:function(childRecord,childKey,parentRecord,parentKey,change){var clientId=childRecord.clientId,parentClientId=parentRecord?parentRecord:parentRecord;var key=childKey+parentKey;var changes=this._relationshipChanges;if(!(clientId in changes)){changes[clientId]={}}if(!(parentClientId in changes[clientId])){changes[clientId][parentClientId]={}}if(!(key in changes[clientId][parentClientId])){changes[clientId][parentClientId][key]={}}changes[clientId][parentClientId][key][change.changeType]=change},removeRelationshipChangeFor:function(clientRecord,childKey,parentRecord,parentKey,type){var clientId=clientRecord.clientId,parentClientId=parentRecord?parentRecord.clientId:parentRecord;var changes=this._relationshipChanges;var key=childKey+parentKey;if(!(clientId in changes)||!(parentClientId in changes[clientId])||!(key in changes[clientId][parentClientId])){return}delete changes[clientId][parentClientId][key][type]},relationshipChangePairsFor:function(record){var toReturn=[];if(!record){return toReturn}var changesObject=this._relationshipChanges[record.clientId];for(var objKey in changesObject){if(changesObject.hasOwnProperty(objKey)){for(var changeKey in changesObject[objKey]){if(changesObject[objKey].hasOwnProperty(changeKey)){toReturn.push(changesObject[objKey][changeKey])}}}}return toReturn},adapterFor:function(type){var container=this.container,adapter;if(container){adapter=container.lookup("adapter:"+type.typeKey)||container.lookup("adapter:application")}return adapter||get(this,"defaultAdapter")},serializerFor:function(type){type=this.modelFor(type);var adapter=this.adapterFor(type);return serializerFor(this.container,type.typeKey,adapter&&adapter.defaultSerializer)},willDestroy:function(){var map=this.typeMaps;var keys=Ember.keys(map);var store=this;var types=keys.map(byType);this.recordArrayManager.destroy();types.forEach(this.unloadAll,this);function byType(entry){return map[entry].type}}});function normalizeRelationships(store,type,data,record){type.eachRelationship(function(key,relationship){if(data.links&&data.links[key]){if(record&&relationship.options.async){record._relationships[key]=null}return}var kind=relationship.kind,value=data[key];if(value==null){return}if(kind==="belongsTo"){deserializeRecordId(store,data,key,relationship,value)}else if(kind==="hasMany"){deserializeRecordIds(store,data,key,relationship,value);addUnsavedRecords(record,key,value)}});return data}function deserializeRecordId(store,data,key,relationship,id){if(isNone(id)||id instanceof DS.Model){return}var type;if(typeof id==="number"||typeof id==="string"){type=typeFor(relationship,key,data);data[key]=store.recordForId(type,id)}else if(typeof id==="object"){data[key]=store.recordForId(id.type,id.id)}}function typeFor(relationship,key,data){if(relationship.options.polymorphic){return data[key+"Type"]}else{return relationship.type}}function deserializeRecordIds(store,data,key,relationship,ids){for(var i=0,l=ids.length;i<l;i++){deserializeRecordId(store,ids,i,relationship,ids[i])}}function addUnsavedRecords(record,key,data){if(record){data.pushObjects(record.get(key).filterBy("isNew"))}}PromiseArray=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin);PromiseObject=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin);function promiseObject(promise,label){return PromiseObject.create({promise:Promise.cast(promise,label)})}function promiseArray(promise,label){return PromiseArray.create({promise:Promise.cast(promise,label)})}function isThenable(object){return object&&typeof object.then==="function"}function serializerFor(container,type,defaultSerializer){return container.lookup("serializer:"+type)||container.lookup("serializer:application")||container.lookup("serializer:"+defaultSerializer)||container.lookup("serializer:-default")}function defaultSerializer(container){return container.lookup("serializer:application")||container.lookup("serializer:-default")}function serializerForAdapter(adapter,type){var serializer=adapter.serializer,defaultSerializer=adapter.defaultSerializer,container=adapter.container;if(container&&serializer===undefined){serializer=serializerFor(container,type.typeKey,defaultSerializer)}if(serializer===null||serializer===undefined){serializer={extract:function(store,type,payload){return payload}}}return serializer}function _find(adapter,store,type,id){var promise=adapter.find(store,type,id),serializer=serializerForAdapter(adapter,type),label="DS: Handle Adapter#find of "+type+" with id: "+id;return Promise.cast(promise,label).then(function(adapterPayload){Ember.assert("You made a request for a "+type.typeKey+" with id "+id+", but the adapter's response did not have any data",adapterPayload);var payload=serializer.extract(store,type,adapterPayload,id,"find");return store.push(type,payload)},function(error){var record=store.getById(type,id);record.notFound();throw error},"DS: Extract payload of '"+type+"'")}function _findMany(adapter,store,type,ids,owner){var promise=adapter.findMany(store,type,ids,owner),serializer=serializerForAdapter(adapter,type),label="DS: Handle Adapter#findMany of "+type;return Promise.cast(promise,label).then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findMany");Ember.assert("The response from a findMany must be an Array, not "+Ember.inspect(payload),Ember.typeOf(payload)==="array");store.pushMany(type,payload)},null,"DS: Extract payload of "+type)}function _findHasMany(adapter,store,record,link,relationship){var promise=adapter.findHasMany(store,record,link,relationship),serializer=serializerForAdapter(adapter,relationship.type),label="DS: Handle Adapter#findHasMany of "+record+" : "+relationship.type;return Promise.cast(promise,label).then(function(adapterPayload){var payload=serializer.extract(store,relationship.type,adapterPayload,null,"findHasMany");Ember.assert("The response from a findHasMany must be an Array, not "+Ember.inspect(payload),Ember.typeOf(payload)==="array");var records=store.pushMany(relationship.type,payload);record.updateHasMany(relationship.key,records)},null,"DS: Extract payload of "+record+" : hasMany "+relationship.type)}function _findBelongsTo(adapter,store,record,link,relationship){var promise=adapter.findBelongsTo(store,record,link,relationship),serializer=serializerForAdapter(adapter,relationship.type),label="DS: Handle Adapter#findBelongsTo of "+record+" : "+relationship.type;return Promise.cast(promise,label).then(function(adapterPayload){var payload=serializer.extract(store,relationship.type,adapterPayload,null,"findBelongsTo");var record=store.push(relationship.type,payload);record.updateBelongsTo(relationship.key,record);return record},null,"DS: Extract payload of "+record+" : "+relationship.type)}function _findAll(adapter,store,type,sinceToken){var promise=adapter.findAll(store,type,sinceToken),serializer=serializerForAdapter(adapter,type),label="DS: Handle Adapter#findAll of "+type;return Promise.cast(promise,label).then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findAll");Ember.assert("The response from a findAll must be an Array, not "+Ember.inspect(payload),Ember.typeOf(payload)==="array");store.pushMany(type,payload);store.didUpdateAll(type);return store.all(type)},null,"DS: Extract payload of findAll "+type)}function _findQuery(adapter,store,type,query,recordArray){var promise=adapter.findQuery(store,type,query,recordArray),serializer=serializerForAdapter(adapter,type),label="DS: Handle Adapter#findQuery of "+type;return Promise.cast(promise,label).then(function(adapterPayload){var payload=serializer.extract(store,type,adapterPayload,null,"findQuery");Ember.assert("The response from a findQuery must be an Array, not "+Ember.inspect(payload),Ember.typeOf(payload)==="array");recordArray.load(payload);return recordArray},null,"DS: Extract payload of findQuery "+type)}function _commit(adapter,store,operation,record){var type=record.constructor,promise=adapter[operation](store,type,record),serializer=serializerForAdapter(adapter,type),label="DS: Extract and notify about "+operation+" completion of "+record;Ember.assert("Your adapter's '"+operation+"' method must return a promise, but it returned "+promise,isThenable(promise));return promise.then(function(adapterPayload){var payload;if(adapterPayload){payload=serializer.extract(store,type,adapterPayload,get(record,"id"),operation)}else{payload=adapterPayload}store.didSaveRecord(record,payload);return record},function(reason){if(reason instanceof DS.InvalidError){store.recordWasInvalid(record,reason.errors)}else{store.recordWasError(record,reason)}throw reason},label)}__exports__.Store=Store;__exports__.PromiseArray=PromiseArray;__exports__.PromiseObject=PromiseObject;__exports__["default"]=Store});define("ember-data/lib/transforms",["./transforms/base","./transforms/number","./transforms/date","./transforms/string","./transforms/boolean","exports"],function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__,__exports__){"use strict";var Transform=__dependency1__["default"];var NumberTransform=__dependency2__["default"];var DateTransform=__dependency3__["default"];var StringTransform=__dependency4__["default"];var BooleanTransform=__dependency5__["default"];__exports__.Transform=Transform;__exports__.NumberTransform=NumberTransform;__exports__.DateTransform=DateTransform;__exports__.StringTransform=StringTransform;__exports__.BooleanTransform=BooleanTransform});define("ember-data/lib/transforms/base",["exports"],function(__exports__){"use strict";var Transform=Ember.Object.extend({serialize:Ember.required(),deserialize:Ember.required()});__exports__["default"]=Transform});define("ember-data/lib/transforms/boolean",["./base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var BooleanTransform=Transform.extend({deserialize:function(serialized){var type=typeof serialized;if(type==="boolean"){return serialized}else if(type==="string"){return serialized.match(/^true$|^t$|^1$/i)!==null}else if(type==="number"){return serialized===1}else{return false}},serialize:function(deserialized){return Boolean(deserialized)}});__exports__["default"]=BooleanTransform});define("ember-data/lib/transforms/date",["./base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var DateTransform=Transform.extend({deserialize:function(serialized){var type=typeof serialized;if(type==="string"){return new Date(Ember.Date.parse(serialized))}else if(type==="number"){return new Date(serialized)}else if(serialized===null||serialized===undefined){return serialized}else{return null}},serialize:function(date){if(date instanceof Date){var days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var pad=function(num){return num<10?"0"+num:""+num};var utcYear=date.getUTCFullYear(),utcMonth=date.getUTCMonth(),utcDayOfMonth=date.getUTCDate(),utcDay=date.getUTCDay(),utcHours=date.getUTCHours(),utcMinutes=date.getUTCMinutes(),utcSeconds=date.getUTCSeconds();var dayOfWeek=days[utcDay];var dayOfMonth=pad(utcDayOfMonth);var month=months[utcMonth];return dayOfWeek+", "+dayOfMonth+" "+month+" "+utcYear+" "+pad(utcHours)+":"+pad(utcMinutes)+":"+pad(utcSeconds)+" GMT"}else{return null}}});__exports__["default"]=DateTransform});define("ember-data/lib/transforms/number",["./base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var empty=Ember.isEmpty;var NumberTransform=Transform.extend({deserialize:function(serialized){return empty(serialized)?null:Number(serialized)},serialize:function(deserialized){return empty(deserialized)?null:Number(deserialized)}});__exports__["default"]=NumberTransform});define("ember-data/lib/transforms/string",["./base","exports"],function(__dependency1__,__exports__){"use strict";var Transform=__dependency1__["default"];var none=Ember.isNone;var StringTransform=Transform.extend({deserialize:function(serialized){return none(serialized)?null:String(serialized)},serialize:function(deserialized){return none(deserialized)?null:String(deserialized)}});__exports__["default"]=StringTransform});define("ember-inflector/lib/ext/string",["../system/string"],function(__dependency1__){"use strict";var pluralize=__dependency1__.pluralize;var singularize=__dependency1__.singularize;if(Ember.EXTEND_PROTOTYPES===true||Ember.EXTEND_PROTOTYPES.String){String.prototype.pluralize=function(){return pluralize(this)};String.prototype.singularize=function(){return singularize(this)}}});define("ember-inflector/lib/main",["./system","./ext/string","exports"],function(__dependency1__,__dependency2__,__exports__){"use strict";var Inflector=__dependency1__.Inflector;var inflections=__dependency1__.inflections;var pluralize=__dependency1__.pluralize;var singularize=__dependency1__.singularize;Inflector.defaultRules=inflections;Ember.Inflector=Inflector;Ember.String.pluralize=pluralize;Ember.String.singularize=singularize;__exports__["default"]=Inflector;__exports__.pluralize=pluralize;__exports__.singularize=singularize});define("ember-inflector/lib/system",["./system/inflector","./system/string","./system/inflections","exports"],function(__dependency1__,__dependency2__,__dependency3__,__exports__){"use strict";var Inflector=__dependency1__["default"];var pluralize=__dependency2__.pluralize;var singularize=__dependency2__.singularize;var defaultRules=__dependency3__["default"];Inflector.inflector=new Inflector(defaultRules);__exports__.Inflector=Inflector;__exports__.singularize=singularize;__exports__.pluralize=pluralize;__exports__.defaultRules=defaultRules});define("ember-inflector/lib/system/inflections",["exports"],function(__exports__){"use strict";var defaultRules={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]};__exports__["default"]=defaultRules});define("ember-inflector/lib/system/inflector",["exports"],function(__exports__){"use strict";var BLANK_REGEX=/^\s*$/;function loadUncountable(rules,uncountable){for(var i=0,length=uncountable.length;i<length;i++){rules.uncountable[uncountable[i].toLowerCase()]=true}}function loadIrregular(rules,irregularPairs){var pair;for(var i=0,length=irregularPairs.length;i<length;i++){pair=irregularPairs[i];rules.irregular[pair[0].toLowerCase()]=pair[1];rules.irregularInverse[pair[1].toLowerCase()]=pair[0]}}function Inflector(ruleSet){ruleSet=ruleSet||{};ruleSet.uncountable=ruleSet.uncountable||{};ruleSet.irregularPairs=ruleSet.irregularPairs||{};var rules=this.rules={plurals:ruleSet.plurals||[],singular:ruleSet.singular||[],irregular:{},irregularInverse:{},uncountable:{}};loadUncountable(rules,ruleSet.uncountable);loadIrregular(rules,ruleSet.irregularPairs)}Inflector.prototype={plural:function(regex,string){this.rules.plurals.push([regex,string.toLowerCase()])},singular:function(regex,string){this.rules.singular.push([regex,string.toLowerCase()])},uncountable:function(string){loadUncountable(this.rules,[string.toLowerCase()])},irregular:function(singular,plural){loadIrregular(this.rules,[[singular,plural]])},pluralize:function(word){return this.inflect(word,this.rules.plurals,this.rules.irregular)},singularize:function(word){return this.inflect(word,this.rules.singular,this.rules.irregularInverse)},inflect:function(word,typeRules,irregular){var inflection,substitution,result,lowercase,isBlank,isUncountable,isIrregular,isIrregularInverse,rule;isBlank=BLANK_REGEX.test(word);if(isBlank){return word}lowercase=word.toLowerCase();isUncountable=this.rules.uncountable[lowercase];if(isUncountable){return word}isIrregular=irregular&&irregular[lowercase];if(isIrregular){return isIrregular}for(var i=typeRules.length,min=0;i>min;i--){inflection=typeRules[i-1];rule=inflection[0];if(rule.test(word)){break}}inflection=inflection||[];rule=inflection[0];substitution=inflection[1];result=word.replace(rule,substitution);return result}};__exports__["default"]=Inflector});define("ember-inflector/lib/system/string",["./inflector","exports"],function(__dependency1__,__exports__){"use strict";var Inflector=__dependency1__["default"];var pluralize=function(word){return Inflector.inflector.pluralize(word)};var singularize=function(word){return Inflector.inflector.singularize(word)};__exports__.pluralize=pluralize;__exports__.singularize=singularize});global.DS=requireModule("ember-data/lib/main")["default"]})(window);(function(){define("ember/resolver",[],function(){"use strict";if(typeof requirejs.entries==="undefined"){requirejs.entries=requirejs._eak_seen}function classFactory(klass){return{create:function(injections){if(typeof klass.extend==="function"){return klass.extend(injections)}else{return klass}}}}var underscore=Ember.String.underscore;var classify=Ember.String.classify;var get=Ember.get;function parseName(fullName){var nameParts=fullName.split(":"),type=nameParts[0],fullNameWithoutType=nameParts[1],name=fullNameWithoutType,namespace=get(this,"namespace"),root=namespace;return{fullName:fullName,type:type,fullNameWithoutType:fullNameWithoutType,name:name,root:root,resolveMethodName:"resolve"+classify(type)}}function chooseModuleName(moduleEntries,moduleName){var underscoredModuleName=Ember.String.underscore(moduleName);if(moduleName!==underscoredModuleName&&moduleEntries[moduleName]&&moduleEntries[underscoredModuleName]){throw new TypeError("Ambiguous module names: `"+moduleName+"` and `"+underscoredModuleName+"`")}if(moduleEntries[moduleName]){return moduleName}else if(moduleEntries[underscoredModuleName]){return underscoredModuleName}else{var parts=moduleName.split("/"),lastPart=parts[parts.length-1],partializedModuleName;parts[parts.length-1]=lastPart.replace(/^-/,"_");partializedModuleName=parts.join("/");if(moduleEntries[partializedModuleName]){Ember.deprecate("Modules should not contain underscores. "+'Attempted to lookup "'+moduleName+'" which '+'was not found. Please rename "'+partializedModuleName+'" '+'to "'+moduleName+'" instead.',false);return partializedModuleName}else{return moduleName}}}function logLookup(found,parsedName,moduleName){if(Ember.ENV.LOG_MODULE_RESOLVER){var symbol,padding;if(found){symbol="[✓]"}else{symbol="[ ]"}if(parsedName.fullName.length>60){padding="."}else{padding=new Array(60-parsedName.fullName.length).join(".")}Ember.Logger.info(symbol,parsedName.fullName,padding,moduleName)}}function resolveOther(parsedName){var moduleName,tmpModuleName,prefix,podPrefix,moduleEntries;prefix=this.namespace.modulePrefix;podPrefix=this.namespace.podModulePrefix||prefix;moduleEntries=requirejs.entries;Ember.assert("module prefix must be defined",prefix);var pluralizedType=parsedName.type+"s";var name=parsedName.fullNameWithoutType;tmpModuleName=podPrefix+"/"+name+"/"+parsedName.type;if(moduleEntries[tmpModuleName]){moduleName=tmpModuleName}if(this.namespace[parsedName.type+"Prefix"]){prefix=this.namespace[parsedName.type+"Prefix"]}tmpModuleName=prefix+"/"+parsedName.type;if(!moduleName&&name==="main"&&moduleEntries[tmpModuleName]){moduleName=prefix+"/"+parsedName.type}if(!moduleName){moduleName=prefix+"/"+pluralizedType+"/"+name}var normalizedModuleName=chooseModuleName(moduleEntries,moduleName);if(moduleEntries[normalizedModuleName]){var module=require(normalizedModuleName,null,null,true);if(module&&module["default"]){module=module["default"]}if(module===undefined){throw new Error(" Expected to find: '"+parsedName.fullName+"' within '"+normalizedModuleName+"' but got 'undefined'. Did you forget to `export default` within '"+normalizedModuleName+"'?")}if(this.shouldWrapInClassFactory(module,parsedName)){module=classFactory(module)}logLookup(true,parsedName,moduleName);return module}else{logLookup(false,parsedName,moduleName);return this._super(parsedName)}}var Resolver=Ember.DefaultResolver.extend({resolveOther:resolveOther,resolveTemplate:resolveOther,resolve:function(fullName){var parsedName=this.parseName(fullName),resolveMethodName=parsedName.resolveMethodName;if(!(parsedName.name&&parsedName.type)){throw new TypeError("Invalid fullName: `"+fullName+"`, must be of the form `type:name` ")}if(this[resolveMethodName]){var resolved=this[resolveMethodName](parsedName);if(resolved){return resolved}}return this.resolveOther(parsedName)},lookupDescription:function(fullName){var parsedName=this.parseName(fullName);if(parsedName.type==="template"){return"template at "+parsedName.fullNameWithoutType.replace(/\./g,"/")}var description=parsedName.root+"."+classify(parsedName.name);if(parsedName.type!=="model"){description+=classify(parsedName.type)}return description},makeToString:function(factory,fullName){return""+this.namespace.modulePrefix+"@"+fullName+":"},parseName:parseName,shouldWrapInClassFactory:function(module,parsedName){return false},normalize:function(fullName){var split=fullName.split(":");if(split.length>1){return split[0]+":"+Ember.String.dasherize(split[1].replace(/\./g,"/"))}else{return fullName}}});Resolver["default"]=Resolver;return Resolver});define("resolver",["ember/resolver"],function(Resolver){Ember.deprecate('Importing/requiring Ember Resolver as "resolver" is deprecated, please use "ember/resolver" instead');return Resolver})})();(function(){define("ember/container-debug-adapter",[],function(){"use strict";if(typeof Ember.ContainerDebugAdapter==="undefined"){return null}var ContainerDebugAdapter=Ember.ContainerDebugAdapter.extend({canCatalogEntriesByType:function(type){return true},catalogEntriesByType:function(type){var entries=requirejs.entries,module,types=Ember.A();var makeToString=function(){return this.shortname};for(var key in entries){if(entries.hasOwnProperty(key)&&key.indexOf(type)!==-1){types.push(key.split(type+"s/").pop())}}return types}});ContainerDebugAdapter["default"]=ContainerDebugAdapter;return ContainerDebugAdapter})})();(function(){(function(){"use strict";Ember.Application.initializer({name:"container-debug-adapter",initialize:function(container){var ContainerDebugAdapter=require("ember/container-debug-adapter");var Resolver=require("ember/resolver");container.register("container-debug-adapter:main",ContainerDebugAdapter)}})})()})();(function(){})();(function(){define("ember/load-initializers",[],function(){"use strict";return{"default":function(app,prefix){var initializersRegExp=new RegExp(prefix+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(key){return initializersRegExp.test(key)}).forEach(function(moduleName){var module=require(moduleName,null,null,true);if(!module){throw new Error(moduleName+" must export an initializer.")
}app.initializer(module["default"])})}}})})();define("ember",[],function(){return Ember});(function(mod){if(typeof exports=="object"&&typeof module=="object")module.exports=mod();else if(typeof define=="function"&&define.amd)return define([],mod);else this.CodeMirror=mod()})(function(){"use strict";var gecko=/gecko\/\d/i.test(navigator.userAgent);var ie_upto10=/MSIE \d/.test(navigator.userAgent);var ie_upto7=ie_upto10&&(document.documentMode==null||document.documentMode<8);var ie_upto8=ie_upto10&&(document.documentMode==null||document.documentMode<9);var ie_upto9=ie_upto10&&(document.documentMode==null||document.documentMode<10);var ie_11up=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent);var ie=ie_upto10||ie_11up;var webkit=/WebKit\//.test(navigator.userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var chrome=/Chrome\//.test(navigator.userAgent);var presto=/Opera\//.test(navigator.userAgent);var safari=/Apple Computer/.test(navigator.vendor);var khtml=/KHTML\//.test(navigator.userAgent);var mac_geLion=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var phantom=/PhantomJS/.test(navigator.userAgent);var ios=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var mac=ios||/Mac/.test(navigator.platform);var windows=/win/i.test(navigator.platform);var presto_version=presto&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&!ie_upto8;var sawReadOnlySpans=false,sawCollapsedSpans=false;function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options||{};for(var opt in defaults)if(!options.hasOwnProperty(opt))options[opt]=defaults[opt];setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc=="string")doc=new Doc(doc,options.mode);this.doc=doc;var display=this.display=new Display(place,doc);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";if(options.autofocus&&!mobile)focusInput(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new Delayed};if(ie_upto10)setTimeout(bind(resetInput,this,true),20);registerEventHandlers(this);var cm=this;runInOp(this,function(){cm.curOp.forceUpdate=true;attachDoc(cm,doc);if(options.autofocus&&!mobile||activeElt()==display.input)setTimeout(bind(onFocus,cm),20);else onBlur(cm);for(var opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](cm,options[opt],Init);for(var i=0;i<initHooks.length;++i)initHooks[i](cm)})}function Display(place,doc){var d=this;var input=d.input=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");if(webkit)input.style.width="1000px";else input.setAttribute("wrap","off");if(ios)input.style.border="1px solid black";input.setAttribute("autocorrect","off");input.setAttribute("autocapitalize","off");input.setAttribute("spellcheck","false");d.inputDiv=elt("div",[input],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");d.scrollbarH=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.scrollbarV=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.lineDiv=elt("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",null,"CodeMirror-measure");d.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");d.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerCutOff+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.inputDiv,d.scrollbarH,d.scrollbarV,d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");if(ie_upto7){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(ios)input.style.width="0px";if(!webkit)d.scroller.draggable=true;if(khtml){d.inputDiv.style.height="1px";d.inputDiv.style.position="absolute"}if(ie_upto7)d.scrollbarH.style.minHeight=d.scrollbarV.style.minWidth="18px";if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);d.viewFrom=d.viewTo=doc.first;d.view=[];d.externalMeasured=null;d.viewOffset=0;d.lastSizeC=0;d.updateLineNumbers=null;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.prevInput="";d.alignWidgets=false;d.pollingFast=false;d.poll=new Delayed;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.inaccurateSelection=false;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false}function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm)}function wrappingChanged(cm){if(cm.options.lineWrapping){cm.display.wrapper.className+=" CodeMirror-wrap";cm.display.sizer.style.minWidth=""}else{cm.display.wrapper.className=cm.display.wrapper.className.replace(" CodeMirror-wrap","");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){updateScrollbars(cm)},100)}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height)widgetsHeight+=line.widgets[i].height}if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,estHeight)})}function keyMapChanged(cm){var map=keyMap[cm.options.keyMap],style=map.style;cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(style?" cm-keymap-"+style:"")}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}function guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){alignHorizontally(cm)},20)}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));if(gutterClass=="CodeMirror-linenumbers"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+"px"}}gutters.style.display=i?"":"none";var width=gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px";if(i)cm.display.scrollbarH.style.left=cm.options.fixedGutter?width+"px":0}function lineLength(line){if(line.height==0)return 0;var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found=merged.find(0,true);len-=cur.text.length-found.from.ch;cur=found.to.line;len+=cur.text.length-found.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat(["CodeMirror-linenumbers"])}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1)}}function measureForScrollbars(cm){var scroll=cm.display.scroller;return{clientHeight:scroll.clientHeight,barHeight:cm.display.scrollbarV.clientHeight,scrollWidth:scroll.scrollWidth,clientWidth:scroll.clientWidth,barWidth:cm.display.scrollbarH.clientWidth,docHeight:Math.round(cm.doc.height+paddingVert(cm.display))}}function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var d=cm.display;var scrollHeight=measure.docHeight+scrollerCutOff;var needsH=measure.scrollWidth>measure.clientWidth;var needsV=scrollHeight>measure.clientHeight;if(needsV){d.scrollbarV.style.display="block";d.scrollbarV.style.bottom=needsH?scrollbarWidth(d.measure)+"px":"0";d.scrollbarV.firstChild.style.height=Math.max(0,scrollHeight-measure.clientHeight+(measure.barHeight||d.scrollbarV.clientHeight))+"px"}else{d.scrollbarV.style.display="";d.scrollbarV.firstChild.style.height="0"}if(needsH){d.scrollbarH.style.display="block";d.scrollbarH.style.right=needsV?scrollbarWidth(d.measure)+"px":"0";d.scrollbarH.firstChild.style.width=measure.scrollWidth-measure.clientWidth+(measure.barWidth||d.scrollbarH.clientWidth)+"px"}else{d.scrollbarH.style.display="";d.scrollbarH.firstChild.style.width="0"}if(needsH&&needsV){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=d.scrollbarFiller.style.width=scrollbarWidth(d.measure)+"px"}else d.scrollbarFiller.style.display="";if(needsH&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=scrollbarWidth(d.measure)+"px";d.gutterFiller.style.width=d.gutters.offsetWidth+"px"}else d.gutterFiller.style.display="";if(mac_geLion&&scrollbarWidth(d.measure)===0){d.scrollbarV.style.minWidth=d.scrollbarH.style.minHeight=mac_geMountainLion?"18px":"12px";var barMouseDown=function(e){if(e_target(e)!=d.scrollbarV&&e_target(e)!=d.scrollbarH)operation(cm,onMouseDown)(e)};on(d.scrollbarV,"mousedown",barMouseDown);on(d.scrollbarH,"mousedown",barMouseDown)}}function visibleLines(display,doc,viewPort){var top=viewPort&&viewPort.top!=null?viewPort.top:display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewPort&&viewPort.bottom!=null?viewPort.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);if(viewPort&&viewPort.ensure){var ensureFrom=viewPort.ensure.from.line,ensureTo=viewPort.ensure.to.line;if(ensureFrom<from)return{from:ensureFrom,to:lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)};if(Math.min(ensureTo,doc.lastLine())>=to)return{from:lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to:ensureTo}}return{from:from,to:to}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+"px";for(var i=0;i<view.length;i++)if(!view[i].hidden){if(cm.options.fixedGutter&&view[i].gutter)view[i].gutter.style.left=left;var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+"px"}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding);display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";var width=display.gutters.offsetWidth;display.scrollbarH.style.left=cm.options.fixedGutter?width+"px":0;display.sizer.style.marginLeft=width+"px";return true}return false}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function updateDisplay(cm,viewPort,forced){var oldFrom=cm.display.viewFrom,oldTo=cm.display.viewTo,updated;var visible=visibleLines(cm.display,cm.doc,viewPort);for(var first=true;;first=false){var oldWidth=cm.display.scroller.clientWidth;if(!updateDisplayInner(cm,visible,forced))break;updated=true;if(cm.display.maxLineChanged&&!cm.options.lineWrapping)adjustContentWidth(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);setDocumentHeight(cm,barMeasure);updateScrollbars(cm,barMeasure);if(first&&cm.options.lineWrapping&&oldWidth!=cm.display.scroller.clientWidth){forced=true;continue}forced=false;if(viewPort&&viewPort.top!=null)viewPort={top:Math.min(barMeasure.docHeight-scrollerCutOff-barMeasure.clientHeight,viewPort.top)};visible=visibleLines(cm.display,cm.doc,viewPort);if(visible.from>=cm.display.viewFrom&&visible.to<=cm.display.viewTo)break}cm.display.updateLineNumbers=null;if(updated){signalLater(cm,"update",cm);if(cm.display.viewFrom!=oldFrom||cm.display.viewTo!=oldTo)signalLater(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo)}return updated}function updateDisplayInner(cm,visible,forced){var display=cm.display,doc=cm.doc;if(!display.wrapper.offsetWidth){resetView(cm);return}if(!forced&&visible.from>=display.viewFrom&&visible.to<=display.viewTo&&countDirtyView(cm)==0)return;if(maybeUpdateLineNumberWidth(cm))resetView(cm);var dims=getDimensions(cm);var end=doc.first+doc.size;var from=Math.max(visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastSizeC!=display.wrapper.clientHeight;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!forced)return;var focused=activeElt();if(toUpdate>4)display.lineDiv.style.display="none";patchDisplay(cm,display.updateLineNumbers,dims);if(toUpdate>4)display.lineDiv.style.display="";if(focused&&activeElt()!=focused&&focused.offsetHeight)focused.focus();removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);if(different){display.lastSizeC=display.wrapper.clientHeight;startWorker(cm,400)}updateHeightsInViewport(cm);return true}function adjustContentWidth(cm){var display=cm.display;var width=measureChar(cm,display.maxLine,display.maxLine.text.length).left;display.maxLineChanged=false;var minWidth=Math.max(0,width+3);var maxScrollLeft=Math.max(0,display.sizer.offsetLeft+minWidth+scrollerCutOff-display.scroller.clientWidth);display.sizer.style.minWidth=minWidth+"px";if(maxScrollLeft<cm.doc.scrollLeft)setScrollLeft(cm,Math.min(display.scroller.scrollLeft,maxScrollLeft),true)}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=Math.max(measure.docHeight,measure.clientHeight-scrollerCutOff)+"px"}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height;if(cur.hidden)continue;if(ie_upto7){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(height<2)height=textHeight(display);if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest)for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)line.widgets[i].height=line.widgets[i].node.offsetHeight}function getDimensions(cm){var d=cm.display,left={},width={};for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft;width[cm.options.gutters[i]]=n.offsetWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display="none";else node.parentNode.removeChild(node);return next}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{while(cur!=lineView.node)cur=rm(cur);var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN+=lineView.size}while(cur)cur=rm(cur)}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type=="text")updateLineText(cm,lineView);else if(type=="gutter")updateLineGutter(cm,lineView,lineN,dims);else if(type=="class")updateLineClasses(lineView);else if(type=="widget")updateLineWidgets(lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);if(ie_upto7)lineView.node.style.zIndex=2}return lineView.node}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls)cls+=" CodeMirror-linebackground";if(lineView.background){if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView)}else if(cls){lineView.text.className=cls}}function updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className="";var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=wrap.insertBefore(elt("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px"),lineView.text);if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"]))lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"));if(markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(lineView,dims){if(lineView.alignable)lineView.alignable=null;for(var node=lineView.node.firstChild,next;node;node=next){var next=node.nextSibling;if(node.className=="CodeMirror-linewidget")lineView.node.removeChild(node)}insertLineWidgets(lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(lineView,dims);return lineView.node}function insertLineWidgets(lineView,dims){insertLineWidgetsFor(lineView.line,lineView,dims,true);if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(lineView.rest[i],lineView,dims,false)}function insertLineWidgetsFor(line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");if(!widget.handleMouseEvents)node.ignoreEvents=true;positionLineWidget(widget,node,lineView,dims);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+"px"}}var Pos=CodeMirror.Pos=function(line,ch){if(!(this instanceof Pos))return new Pos(line,ch);this.line=line;this.ch=ch};var cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex}Selection.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0)return false}return true},deepCopy:function(){for(var out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)},somethingSelected:function(){for(var i=0;i<this.ranges.length;i++)if(!this.ranges[i].empty())return true;return false},contains:function(pos,end){if(!end)end=pos;for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1}};function Range(anchor,head){this.anchor=anchor;this.head=head}Range.prototype={from:function(){return minPos(this.anchor,this.head)},to:function(){return maxPos(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0){head=other}}return new Range(anchor,head)}else{return new Range(other||head,head)}}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options)}function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))}};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeSelectionChange",doc.cm,obj);if(obj.ranges!=sel.ranges)return normalizeSelection(obj.ranges,obj.ranges.length-1);else return sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else{setSelection(doc,sel,options)}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))sel=filterSelectionChange(doc,sel);var bias=cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1;setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm)ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm)doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=doc.cm.curOp.cursorActivity=true;signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll)}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomic(doc,pos,bias,mayClear){var flipped=false,curPos=pos;var dir=bias||1;doc.cantEdit=false;search:for(;;){var line=getLine(doc,curPos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=curPos.ch:sp.from<curPos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=curPos.ch:sp.to>curPos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared){if(!line.markedSpans)break;else{--i;continue}}}if(!m.atomic)continue;var newPos=m.find(dir<0?-1:1);if(cmp(newPos,curPos)==0){newPos.ch+=dir;if(newPos.ch<0){if(newPos.line>doc.first)newPos=clipPos(doc,Pos(newPos.line-1));else newPos=null}else if(newPos.ch>line.text.length){if(newPos.line<doc.first+doc.size-1)newPos=Pos(newPos.line+1,0);else newPos=null}if(!newPos){if(flipped){if(!mayClear)return skipAtomic(doc,pos,bias,true);doc.cantEdit=true;return Pos(doc.first,0)}flipped=true;newPos=pos;dir=-dir}}curPos=newPos;continue search}}}return curPos}}function updateSelection(cm){var display=cm.display,doc=cm.doc;var curFragment=document.createDocumentFragment();var selFragment=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting)updateSelectionCursor(cm,range,curFragment);if(!collapsed)updateSelectionRange(cm,range,selFragment)}if(cm.options.moveInputWithCursor){var headPos=cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();var top=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));var left=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));display.inputDiv.style.top=top+"px";display.inputDiv.style.left=left+"px"}removeChildrenAndAdd(display.cursorDiv,curFragment);removeChildrenAndAdd(display.selectionDiv,selFragment)}function updateSelectionCursor(cm,range,output){var pos=cursorCoords(cm,range.head,"div");var cursor=output.appendChild(elt("div"," ","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(pos.other){var otherCursor=output.appendChild(elt("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"
}}function updateSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left,rightSide=display.lineSpace.offsetWidth-padding.right;function add(left,top,width,bottom){if(top<0)top=0;fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px; height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,"left"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left}else{rightPos=coords(to-1,"right");if(dir=="rtl"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp}left=leftPos.left;right=rightPos.right}if(fromArg==null&&from==0)left=leftSide;if(rightPos.top-leftPos.top>3){add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top)add(left,leftPos.bottom,null,rightPos.top)}if(toArg==null&&to==lineLen)right=rightSide;if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)start=leftPos;if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)end=rightPos;if(left<leftSide+1)left=leftSide;add(left,rightPos.top,right-left,rightPos.bottom)});return{start:start,end:end}}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch)}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)}}if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate)}function startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first)doc.frontier=doc.first;if(doc.frontier>=cm.display.viewTo)return;var end=+new Date+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));runInOp(cm,function(){doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles;line.styles=highlightLine(cm,line,state,true);var ischange=!oldStyles||oldStyles.length!=line.styles.length;for(var i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];if(ischange)regLineChange(cm,doc.frontier,"text");line.stateAfter=copyState(doc.mode,state)}else{processLine(cm,line.text,state);line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null}++doc.frontier;if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}})})}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100);for(var search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented}}return minline}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return true;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state)state=startState(doc.mode);else state=copyState(doc.mode,state);doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos});if(precise)doc.frontier=pos;return state}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;return display.cachedPaddingH={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)}}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&cm.display.scroller.clientWidth;if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i=0;i<lineView.rest.length;i++)if(lineNo(lineView.rest[i])>lineN)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:true}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text)view=null;else if(view&&view.changes)updateLineForChanges(cm,view,lineN,getDimensions(cm));if(!view)view=updateExternalMeasurement(cm,line);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias){if(prepared.before)ch=-1;var key=ch+(bias||""),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key]}else{if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found}return{left:found.left,right:found.right,top:found.top,bottom:found.bottom}}var nullRect={left:0,right:0,top:0,bottom:0};function measureCharInner(cm,prepared,ch,bias){var map=prepared.map;var node,start,end,collapse;for(var i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse="right"}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right"))collapse=bias;if(bias=="left"&&start==0)while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse="left"}if(bias=="right"&&start==mEnd-mStart)while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse="right"}break}}var rect;if(node.nodeType==3){while(start&&isExtendingChar(prepared.line.text.charAt(mStart+start)))--start;while(mStart+end<mEnd&&isExtendingChar(prepared.line.text.charAt(mStart+end)))++end;if(ie_upto8&&start==0&&end==mEnd-mStart){rect=node.parentNode.getBoundingClientRect()}else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();if(rects.length)rect=rects[bias=="right"?rects.length-1:0];else rect=nullRect}else{rect=range(node,start,end).getBoundingClientRect()}}else{if(start>0)collapse=bias="right";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias=="right"?rects.length-1:0];else rect=node.getBoundingClientRect()}if(ie_upto8&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect}var top,bot=(rect.bottom+rect.top)/2-prepared.rect.top;var heights=prepared.view.measure.heights;for(var i=0;i<heights.length-1;i++)if(bot<heights[i])break;top=i?heights[i-1]:0;bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;return result}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest)for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size}if(context=="line")return rect;if(!context)context="local";var yOff=heightAtLine(lineObj);if(context=="local")yOff+=paddingTop(cm.display);else yOff-=cm.display.viewOffset;if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context=="window"?0:pageScrollY());var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div")return coords;var left=coords.left,top=coords.top;if(context=="page"){left-=pageScrollX();top-=pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left");if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false}if(right&&ch==part.to&&ch>part.from)return get(ch-1);return get(ch,right)}var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null)val.other=getBidi(ch,bidiOther);return val}function estimateCoords(cm,pos){var left=0,pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside)pos.outside=true;return pos}function coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,true,-1);var lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))lineN=lineNo(lineObj=mergedPos.to.line);else return found}}function coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom)return sp.left-adjust;else if(innerOff<sp.top)return sp.left+adjust;else wrongLine=false;return sp.left}var bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var xDiff=x-(ch==from?fromX:toX);while(isExtendingChar(lineObj.text.charAt(ch)))++ch;var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i)middle=moveVisually(lineObj,middle,1)}var middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine)toX+=1e3;dist=step}else{from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step}}}var measureText;function textHeight(display){if(display.cachedTextHeight!=null)return display.cachedTextHeight;if(measureText==null){measureText=elt("pre");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=null)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10}var nextOpId=0;function startOperation(cm){cm.curOp={viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivity:false,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++nextOpId};if(!delayedCallbackDepth++)delayedCallbacks=[]}function endOperation(cm){var op=cm.curOp,doc=cm.doc,display=cm.display;cm.curOp=null;if(op.updateMaxLine)findMaxLine(cm);if(op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping){var updated=updateDisplay(cm,{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);if(cm.display.scroller.offsetHeight)cm.doc.scrollTop=cm.display.scroller.scrollTop}if(!updated&&op.selectionChanged)updateSelection(cm);if(!updated&&op.startHeight!=cm.doc.height)updateScrollbars(cm);if(op.scrollTop!=null&&display.scroller.scrollTop!=op.scrollTop){var top=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scroller.scrollTop=display.scrollbarV.scrollTop=doc.scrollTop=top}if(op.scrollLeft!=null&&display.scroller.scrollLeft!=op.scrollLeft){var left=Math.max(0,Math.min(display.scroller.scrollWidth-display.scroller.clientWidth,op.scrollLeft));display.scroller.scrollLeft=display.scrollbarH.scrollLeft=doc.scrollLeft=left;alignHorizontally(cm)}if(op.scrollToPos){var coords=scrollPosIntoView(cm,clipPos(cm.doc,op.scrollToPos.from),clipPos(cm.doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused)maybeScrollWindow(cm,coords)}if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)resetInput(cm,op.typing);var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)if(!hidden[i].lines.length)signal(hidden[i],"hide");if(unhidden)for(var i=0;i<unhidden.length;++i)if(unhidden[i].lines.length)signal(unhidden[i],"unhide");var delayed;if(!--delayedCallbackDepth){delayed=delayedCallbacks;delayedCallbacks=null}if(op.changeObjs){for(var i=0;i<op.changeObjs.length;i++)signal(cm,"change",cm,op.changeObjs[i]);signal(cm,"changes",cm,op.changeObjs)}if(op.cursorActivity)signal(cm,"cursorActivity",cm);if(delayed)for(var i=0;i<delayed.length;++i)delayed[i]()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm)}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm)}else{display.viewFrom+=lendiff;display.viewTo+=lendiff}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm)}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else{resetView(cm)}}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);if(cut){display.view=display.view.slice(0,cut.index);display.viewTo=cut.lineN}else{resetView(cm)}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else{resetView(cm)}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type)}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n-=cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0)return i}}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans)return{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++)n+=view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;index++}else{diff=n-oldN}oldN+=diff;newN+=diff}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size;index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to))}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty}return dirty}function slowPoll(cm){if(cm.display.pollingFast)return;cm.display.poll.set(cm.options.pollInterval,function(){readInput(cm);if(cm.state.focused)slowPoll(cm)})}function fastPoll(cm){var missed=false;cm.display.pollingFast=true;function p(){var changed=readInput(cm);if(!changed&&!missed){missed=true;cm.display.poll.set(60,p)}else{cm.display.pollingFast=false;slowPoll(cm)}}cm.display.poll.set(20,p)}function readInput(cm){var input=cm.display.input,prevInput=cm.display.prevInput,doc=cm.doc;if(!cm.state.focused||hasSelection(input)||isReadOnly(cm)||cm.options.disableInput)return false;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&!ie_upto8&&cm.display.inputHasSelection===text){resetInput(cm);return false}var withOp=!cm.curOp;if(withOp)startOperation(cm);cm.display.shift=false;var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same))++same;var inserted=text.slice(same),textLines=splitLines(inserted);var multiPaste=cm.state.pasteIncoming&&textLines.length>1&&doc.sel.ranges.length==textLines.length;for(var i=doc.sel.ranges.length-1;i>=0;i--){var range=doc.sel.ranges[i];var from=range.from(),to=range.to();if(same<prevInput.length)from=Pos(from.line,from.ch-(prevInput.length-same));else if(cm.state.overwrite&&range.empty()&&!cm.state.pasteIncoming)to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));var updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?[textLines[i]]:textLines,origin:cm.state.pasteIncoming?"paste":cm.state.cutIncoming?"cut":"+input"};makeChange(cm.doc,changeEvent);signalLater(cm,"inputRead",cm,changeEvent);if(inserted&&!cm.state.pasteIncoming&&cm.options.electricChars&&cm.options.smartIndent&&range.head.ch<100&&(!i||doc.sel.ranges[i-1].head.line!=range.head.line)){var electric=cm.getModeAt(range.head).electricChars;if(electric)for(var j=0;j<electric.length;j++)if(inserted.indexOf(electric.charAt(j))>-1){indentLine(cm,range.head.line,"smart");break}}}ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;if(text.length>1e3||text.indexOf("\n")>-1)input.value=cm.display.prevInput="";else cm.display.prevInput=text;if(withOp)endOperation(cm);cm.state.pasteIncoming=cm.state.cutIncoming=false;return true}function resetInput(cm,typing){var minimal,selected,doc=cm.doc;if(cm.somethingSelected()){cm.display.prevInput="";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1e3);var content=minimal?"-":selected||cm.getSelection();cm.display.input.value=content;if(cm.state.focused)selectInput(cm.display.input);if(ie&&!ie_upto8)cm.display.inputHasSelection=content}else if(!typing){cm.display.prevInput=cm.display.input.value="";if(ie&&!ie_upto8)cm.display.inputHasSelection=null}cm.display.inaccurateSelection=minimal}function focusInput(cm){if(cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=cm.display.input))cm.display.input.focus()}function ensureFocus(cm){if(!cm.state.focused){focusInput(cm);onFocus(cm)}}function isReadOnly(cm){return cm.options.readOnly||cm.doc.cantEdit}function registerEventHandlers(cm){var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie_upto10)on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=findWordAt(cm.doc,pos);extendSelection(cm.doc,word.anchor,word.head)}));else on(d.scroller,"dblclick",function(e){signalDOMEvent(cm,e)||e_preventDefault(e)});on(d.lineSpace,"selectstart",function(e){if(!eventInWidget(d,e))e_preventDefault(e)});if(!captureRightClick)on(d.scroller,"contextmenu",function(e){onContextMenu(cm,e)});on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scrollbarV,"scroll",function(){if(d.scroller.clientHeight)setScrollTop(cm,d.scrollbarV.scrollTop)});on(d.scrollbarH,"scroll",function(){if(d.scroller.clientHeight)setScrollLeft(cm,d.scrollbarH.scrollLeft)});on(d.scroller,"mousewheel",function(e){onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){onScrollWheel(cm,e)});function reFocus(){if(cm.state.focused)setTimeout(bind(focusInput,cm),0)}on(d.scrollbarH,"mousedown",reFocus);on(d.scrollbarV,"mousedown",reFocus);on(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0});var resizeTimer;function onResize(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=knownScrollbarWidth=null;cm.setSize()},100)}on(window,"resize",onResize);function unregister(){if(contains(document.body,d.wrapper))setTimeout(unregister,5e3);else off(window,"resize",onResize)}setTimeout(unregister,5e3);on(d.input,"keyup",operation(cm,onKeyUp));on(d.input,"input",function(){if(ie&&!ie_upto8&&cm.display.inputHasSelection)cm.display.inputHasSelection=null;fastPoll(cm)});on(d.input,"keydown",operation(cm,onKeyDown));on(d.input,"keypress",operation(cm,onKeyPress));on(d.input,"focus",bind(onFocus,cm));on(d.input,"blur",bind(onBlur,cm));function drag_(e){if(!signalDOMEvent(cm,e))e_stop(e)}if(cm.options.dragDrop){on(d.scroller,"dragstart",function(e){onDragStart(cm,e)});on(d.scroller,"dragenter",drag_);on(d.scroller,"dragover",drag_);on(d.scroller,"drop",operation(cm,onDrop))}on(d.scroller,"paste",function(e){if(eventInWidget(d,e))return;cm.state.pasteIncoming=true;focusInput(cm);fastPoll(cm)});on(d.input,"paste",function(){cm.state.pasteIncoming=true;fastPoll(cm)});function prepareCopy(e){if(d.inaccurateSelection){d.prevInput="";d.inaccurateSelection=false;d.input.value=cm.getSelection();selectInput(d.input)}if(e.type=="cut")cm.state.cutIncoming=true}on(d.input,"cut",prepareCopy);on(d.input,"copy",prepareCopy);if(khtml)on(d.sizer,"mouseup",function(){if(activeElt()==d.input)d.input.blur();focusInput(cm)})}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.ignoreEvents||n.parentNode==display.sizer&&n!=display.mover)return true}}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal){var target=e_target(e);if(target==display.scrollbarH||target==display.scrollbarV||target==display.scrollbarFiller||target==display.gutterFiller)return null}var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e){return null}var coords=coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff)}return coords}function onMouseDown(e){if(signalDOMEvent(this,e))return;var cm=this,display=cm.display;display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){display.scroller.draggable=true},100)}return}if(clickInGutter(cm,e))return;var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1:if(start)leftButtonDown(cm,e,start);else if(e_target(e)==display.scroller)e_preventDefault(e);break;case 2:if(webkit)cm.state.lastMiddleDown=+new Date;if(start)extendSelection(cm.doc,start);setTimeout(bind(focusInput,cm),20);e_preventDefault(e);break;case 3:if(captureRightClick)onContextMenu(cm,e);break}}var lastClick,lastDoubleClick;function leftButtonDown(cm,e,start){setTimeout(bind(ensureFocus,cm),0);var now=+new Date,type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type="triple"}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type="double";lastDoubleClick={time:now,pos:start}}else{type="single";lastClick={time:now,pos:start}}var sel=cm.doc.sel,addNew=mac?e.metaKey:e.ctrlKey;if(cm.options.dragDrop&&dragAndDrop&&!addNew&&!isReadOnly(cm)&&type=="single"&&sel.contains(start)>-1&&sel.somethingSelected())leftButtonStartDrag(cm,e,start);else leftButtonSelect(cm,e,start,type,addNew)}function leftButtonStartDrag(cm,e,start){var display=cm.display;var dragEnd=operation(cm,function(e2){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;off(document,"mouseup",dragEnd);off(display.scroller,"drop",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);extendSelection(cm.doc,start);focusInput(cm);if(ie_upto10&&!ie_upto8)setTimeout(function(){document.body.focus();focusInput(cm)},20)}});if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd;if(display.scroller.dragDrop)display.scroller.dragDrop();on(document,"mouseup",dragEnd);on(display.scroller,"drop",dragEnd)}function leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel;if(addNew){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=doc.sel.ranges[ourIndex];else ourRange=new Range(start,start)}else{ourRange=doc.sel.primary()}if(e.altKey){type="rect";if(!addNew)ourRange=new Range(start,start);start=posFromMouse(cm,e,true,true);
ourIndex=-1}else if(type=="double"){var word=findWordAt(doc,start);if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,word.anchor,word.head);else ourRange=word}else if(type=="triple"){var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,line.anchor,line.head);else ourRange=line}else{ourRange=extendRange(doc,ourRange,start)}if(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse)}else if(ourIndex>-1){replaceOneSelection(doc,ourIndex,ourRange,sel_mouse)}else{ourIndex=doc.sel.ranges.length;setSelection(doc,normalizeSelection(doc.sel.ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(type=="rect"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}if(!ranges.length)ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),sel_mouse)}else{var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!="single"){if(type=="double")var range=findWordAt(doc,pos);else var range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head)}}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse)}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type=="rect");if(!cur)return;if(cmp(cur,lastPos)!=0){ensureFocus(cm);extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e)}),50)}}function done(e){counter=Infinity;e_preventDefault(e);focusInput(cm);off(document,"mousemove",move);off(document,"mouseup",up);doc.history.lastSelOrigin=null}var move=operation(cm,function(e){if(ie&&!ie_upto9?!e.buttons:!e_button(e))done(e);else extend(e)});var up=operation(cm,done);on(document,"mousemove",move);on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent,signalfn){try{var mX=e.clientX,mY=e.clientY}catch(e){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signalfn(cm,type,cm,line,gutter,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true,signalLater)}var lastDrop=0;function onDrop(e){var cm=this;if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie_upto10)lastDrop=+new Date;var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||isReadOnly(cm))return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function(file,i){var reader=new FileReader;reader.onload=function(){text[i]=reader.result;if(++read==n){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:splitLines(text.join("\n")),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}};reader.readAsText(file)};for(var i=0;i<n;++i)loadFile(files[i],i)}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(bind(focusInput,cm),20);return}try{var text=e.dataTransfer.getData("Text");if(text){var selected=cm.state.draggingText&&cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected)for(var i=0;i<selected.length;++i)replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");cm.replaceSelection(text,"around","paste");focusInput(cm)}}catch(e){}}}function onDragStart(cm,e){if(ie_upto10&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData("Text",cm.getSelection());if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img)}}function setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2)return;cm.doc.scrollTop=val;if(!gecko)updateDisplay(cm,{top:val});if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val;if(cm.display.scrollbarV.scrollTop!=val)cm.display.scrollbarV.scrollTop=val;if(gecko)updateDisplay(cm);startWorker(cm,100)}function setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)return;val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;if(cm.display.scrollbarH.scrollLeft!=val)cm.display.scrollbarH.scrollLeft=val}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;function onScrollWheel(cm,e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;var display=cm.display,scroll=display.scroller;if(!(dx&&scroll.scrollWidth>scroll.clientWidth||dy&&scroll.scrollHeight>scroll.clientHeight))return;if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy)setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)));setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));e_preventDefault(e);display.wheelStartX=null;return}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplay(cm,{top:top,bottom:bot})}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound)return false}if(cm.display.pollingFast&&readInput(cm))cm.display.pollingFast=false;var prevShift=cm.display.shift,done=false;try{if(isReadOnly(cm))cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function allKeyMaps(cm){var maps=cm.state.keyMaps.slice(0);if(cm.options.extraKeys)maps.push(cm.options.extraKeys);maps.push(cm.options.keyMap);return maps}var maybeTransition;function handleKeyBinding(cm,e){var startMap=getKeyMap(cm.options.keyMap),next=startMap.auto;clearTimeout(maybeTransition);if(next&&!isModifierKey(e))maybeTransition=setTimeout(function(){if(getKeyMap(cm.options.keyMap)==startMap){cm.options.keyMap=next.call?next.call(null,cm):next;keyMapChanged(cm)}},50);var name=keyName(e,true),handled=false;if(!name)return false;var keymaps=allKeyMaps(cm);if(e.shiftKey){handled=lookupKey("Shift-"+name,keymaps,function(b){return doHandleBinding(cm,b,true)})||lookupKey(name,keymaps,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)})}else{handled=lookupKey(name,keymaps,function(b){return doHandleBinding(cm,b)})}if(handled){e_preventDefault(e);restartBlink(cm);signalLater(cm,"keyHandled",cm,name,e)}return handled}function handleCharBinding(cm,e,ch){var handled=lookupKey("'"+ch+"'",allKeyMaps(cm),function(b){return doHandleBinding(cm,b,true)});if(handled){e_preventDefault(e);restartBlink(cm);signalLater(cm,"keyHandled",cm,"'"+ch+"'",e)}return handled}var lastStoppedKey=null;function onKeyDown(e){var cm=this;ensureFocus(cm);if(signalDOMEvent(cm,e))return;if(ie_upto10&&e.keyCode==27)e.returnValue=false;var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection("",null,"cut")}}function onKeyUp(e){if(signalDOMEvent(this,e))return;if(e.keyCode==16)this.doc.sel.shift=false}function onKeyPress(e){var cm=this;if(signalDOMEvent(cm,e))return;var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if((presto&&(!e.which||e.which<10)||khtml)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(handleCharBinding(cm,e,ch))return;if(ie&&!ie_upto8)cm.display.inputHasSelection=null;fastPoll(cm)}function onFocus(cm){if(cm.options.readOnly=="nocursor")return;if(!cm.state.focused){signal(cm,"focus",cm);cm.state.focused=true;if(cm.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1)cm.display.wrapper.className+=" CodeMirror-focused";if(!cm.curOp){resetInput(cm);if(webkit)setTimeout(bind(resetInput,cm,true),0)}}slowPoll(cm);restartBlink(cm)}function onBlur(cm){if(cm.state.focused){signal(cm,"blur",cm);cm.state.focused=false;cm.display.wrapper.className=cm.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false},150)}var detectingSelectAll;function onContextMenu(cm,e){if(signalDOMEvent(cm,e,"contextmenu"))return;var display=cm.display;if(eventInWidget(display,e)||contextMenuInGutter(cm,e))return;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=display.input.style.cssText;display.inputDiv.style.position="absolute";display.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";focusInput(cm);resetInput(cm);if(!cm.somethingSelected())display.input.value=display.prevInput=" ";function prepareSelectAllHack(){if(display.input.selectionStart!=null){var extval=display.input.value="​"+(cm.somethingSelected()?display.input.value:"");display.prevInput="​";display.input.selectionStart=1;display.input.selectionEnd=extval.length}}function rehide(){display.inputDiv.style.position="relative";display.input.style.cssText=oldCSS;if(ie_upto8)display.scrollbarV.scrollTop=display.scroller.scrollTop=scrollPos;slowPoll(cm);if(display.input.selectionStart!=null){if(!ie||ie_upto8)prepareSelectAllHack();clearTimeout(detectingSelectAll);var i=0,poll=function(){if(display.prevInput=="​"&&display.input.selectionStart==0)operation(cm,commands.selectAll)(cm);else if(i++<10)detectingSelectAll=setTimeout(poll,500);else resetInput(cm)};detectingSelectAll=setTimeout(poll,200)}}if(ie&&!ie_upto8)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else{setTimeout(rehide,50)}}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu"))return false;return gutterEvent(cm,e,"gutterContextMenu",false,signal)}var changeEnd=CodeMirror.changeEnd=function(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))};function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line)ch+=changeEnd(change).ch-change.to.ch;return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);else return Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else{out[i]=new Range(from,from)}}return new Selection(out,doc.sel.primIndex)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){this.canceled=true}};if(update)obj.update=function(from,to,text,origin){if(from)this.from=clipPos(doc,from);if(to)this.to=clipPos(doc,to);if(text)this.text=text;if(origin!==undefined)this.origin=origin};signal(doc,"beforeChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeChange",doc.cm,obj);if(obj.canceled)return null;return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change)return}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text})}else{makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits)return;var hist=doc.history,event,selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;for(var i=0;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else break}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");for(var i=event.changes.length-1;i>=0;--i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change,null):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(doc.cm)ensureCursorVisible(doc.cm);var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})}}function shiftDoc(doc,distance){doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm)regChange(doc.cm,doc.first,doc.first-distance,distance)}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return}if(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}}change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=computeSelAfterChange(doc,change,null);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll)}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1)cm.curOp.cursorActivity=true;updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});if(recomputeMaxLength)cm.curOp.updateMaxLine=true}doc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,"text");else regChange(cm,from.line,to.line+1,lendiff);if(hasHandler(cm,"change")||hasHandler(cm,"changes"))(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push({from:from,to:to,text:change.text,removed:change.removed,origin:change.origin})}function replaceRange(doc,code,from,to,origin){if(!to)to=from;if(cmp(to,from)<0){var tmp=to;to=from;from=tmp}if(typeof code=="string")code=splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin})}function maybeScrollWindow(cm,coords){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0)doScroll=true;else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt("div","​",null,"position: absolute; top: "+(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+(coords.bottom-coords.top+scrollerCutOff)+"px; left: "+coords.left+"px; width: 2px;");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;for(;;){var changed=false,coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=true}if(!changed)return coords}}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null)setScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0)y1=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=display.scroller.clientHeight-scrollerCutOff,result={};var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop)result.scrollTop=newTop}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=display.scroller.clientWidth-scrollerCutOff;x1+=display.gutters.offsetWidth;x2+=display.gutters.offsetWidth;var gutterw=display.gutters.offsetWidth;var atLeft=x1<gutterw+10;if(x1<screenleft+gutterw||atLeft){if(atLeft)x1=0;result.scrollLeft=Math.max(0,x1-10-gutterw)}else if(x2>screenw+screenleft-3){result.scrollLeft=x2+10-screenw}return result}function addToScrollPos(cm,left,top){if(left!=null||top!=null)resolveScrollToPos(cm);if(left!=null)cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left;if(top!=null)cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1)}cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true}}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null)how="add";if(how=="smart"){if(!cm.doc.mode.indent)how="prev";else state=getStateBefore(cm,n)}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=cm.doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass){if(!aggressive)return;how="prev"}}if(how=="prev"){if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0}else if(how=="add"){indentation=curSpace+cm.options.indentUnit}else if(how=="subtract"){indentation=curSpace-cm.options.indentUnit}else if(typeof how=="number"){indentation=curSpace+how}indentation=Math.max(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+="	"}if(pos<indentation)indentString+=spaceStr(indentation-pos);if(indentString!=curSpaceString){replaceRange(cm.doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input")}else{for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break}}}line.stateAfter=null}function changeLine(cm,handle,changeType,op){var no=handle,line=handle,doc=cm.doc;if(typeof handle=="number")line=getLine(doc,clipLine(doc,handle));else no=lineNo(handle);if(no==null)return null;if(op(line,no))regLineChange(cm,no,changeType);else return null;return line}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);var possible=true;function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size)return possible=false;line=l;return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually)ch=(dir<0?lineRight:lineLeft)(lineObj);else ch=dir<0?lineObj.text.length:0}else return possible=false}else ch=next;return true}if(unit=="char")moveOnce();else if(unit=="column")moveOnce(true);else if(unit=="word"||unit=="group"){var sawType=null,group=unit=="group";for(var first=true;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(ch)||"\n";var type=isWordChar(cur)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type)type="s";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce()}break}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break}}var result=skipAtomic(doc,Pos(line,ch),origDir,true);if(!possible)result.hitSide=true;return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display))}else if(unit=="line"){y=dir>0?pos.bottom+3:pos.top-3}for(;;){var target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y+=dir*5}return target}function findWordAt(doc,pos){var line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){if((pos.xRel<0||end==line.length)&&start)--start;else++end;var startChar=line.charAt(start);var check=isWordChar(startChar)?isWordChar:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};while(start>0&&check(line.charAt(start-1)))--start;while(end<line.length&&check(line.charAt(end)))++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))}CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();focusInput(this);fastPoll(this)},setOption:function(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!="mode")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))operation(this,optionHandlers[option])(this,value,old)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](map)},removeKeyMap:function(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i)if(maps[i]==map||typeof maps[i]!="string"&&maps[i].name==map){maps.splice(i,1);return true}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;regChange(this);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number"){if(dir==null)dir=this.options.smartIndent?"smart":"prev";else dir=dir?"add":"subtract"}if(isLine(this.doc,n))indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var start=Math.max(end,range.from().line);var to=range.to();end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this,j,how)}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this)}}}),getTokenAt:function(pos,precise){var doc=this.doc;pos=clipPos(doc,pos);var state=getStateBefore(this,pos.line,precise),mode=this.doc.mode;var line=getLine(doc,pos.line);var stream=new StringStream(line.text,this.options.tabSize);while(stream.pos<pos.ch&&!stream.eol()){stream.start=stream.pos;var style=mode.token(stream,state)}return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:state}},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;if(ch==0)return styles[2];for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else return styles[mid*2+2]}},getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return helpers;var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]])found.push(help[mode[type]])}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val)found.push(val)}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType])}else if(help[mode.name]){found.push(help[mode.name])}for(var i=0;i<help._global.length;i++){var cur=help._global[i];
if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise)},cursorCoords:function(start,mode){var pos,range=this.doc.sel.primary();if(start==null)pos=range.head;else if(typeof start=="object")pos=clipPos(this.doc,start);else pos=start?range.from():range.to();return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode){var end=false,last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true}var lineObj=getLine(this.doc,line);return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+(end?this.doc.height-heightAtLine(lineObj):0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true})}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){line.gutterMarkers[gutterID]=null;regLineChange(cm,i,"gutter");if(isEmpty(line.gutterMarkers))line.gutterMarkers=null}++i})}),addLineClass:methodOp(function(handle,where,cls){return changeLine(this,handle,"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":"wrapClass";if(!line[prop])line[prop]=cls;else if(new RegExp("(?:^|\\s)"+cls+"(?:$|\\s)").test(line[prop]))return false;else line[prop]+=" "+cls;return true})}),removeLineClass:methodOp(function(handle,where,cls){return changeLine(this,handle,"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":"wrapClass";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(new RegExp("(?:^|\\s+)"+cls+"(?:$|\\s+)"));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:methodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},lineInfo:function(line){if(typeof line=="number"){if(!isLine(this.doc,line))return null;var n=line;line=getLine(this.doc,line);if(!line)return null}else{var n=lineNo(line);if(n==null)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position="absolute";display.sizer.appendChild(node);if(vert=="over"){top=pos.top}else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth}node.style.top=top+"px";node.style.left=node.style.right="";if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left")left=0;else if(horiz=="middle")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+"px"}if(scroll)scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight)},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:methodOp(onKeyUp),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd](this)},findPosH:function(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount}for(var i=0,cur=clipPos(this.doc,from);i<amount;++i){cur=findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break}return cur},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually);else return dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected())doc.replaceSelection("",null,"+delete");else deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount}for(var i=0,cur=clipPos(this.doc,from);i<amount;++i){var coords=cursorCoords(this,cur,"div");if(x==null)x=coords.left;else coords.left=x;cur=findPosV(this,coords,dir,unit);if(cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[];var collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(cm,range.head,"div");if(range.goalColumn!=null)headPos.left=range.goalColumn;goals.push(headPos.left);var pos=findPosV(cm,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary())addToScrollPos(cm,null,charCoords(cm,pos,"div").top-headPos.top);return pos},sel_move);if(goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)this.display.cursorDiv.className+=" CodeMirror-overwrite";else this.display.cursorDiv.className=this.display.cursorDiv.className.replace(" CodeMirror-overwrite","");signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return activeElt()==this.display.input},scrollTo:methodOp(function(x,y){if(x!=null||y!=null)resolveScrollToPos(this);if(x!=null)this.curOp.scrollLeft=x;if(y!=null)this.curOp.scrollTop=y}),getScrollInfo:function(){var scroller=this.display.scroller,co=scrollerCutOff;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-co,width:scroller.scrollWidth-co,clientHeight:scroller.clientHeight-co,clientWidth:scroller.clientWidth-co}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin}else if(typeof range=="number"){range={from:Pos(range,0),to:null}}else if(range.from==null){range={from:range,to:null}}if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range}else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop)}}),setSize:methodOp(function(width,height){function interpret(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val}if(width!=null)this.display.wrapper.style.width=interpret(width);if(height!=null)this.display.wrapper.style.height=interpret(height);if(this.options.lineWrapping)clearLineMeasurementCache(this);this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5)estimateLineHeights(this);signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);resetInput(this);this.scrollTo(doc.scrollLeft,doc.scrollTop);signalLater(this,"swapDoc",this,old);return old}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};eventMixin(CodeMirror);var defaults=CodeMirror.defaults={};var optionHandlers=CodeMirror.optionHandlers={};function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old)}:handle}var Init=CodeMirror.Init={toString:function(){return"CodeMirror.Init"}};option("value","",function(cm,val){cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(cm,val){cm.options.specialChars=new RegExp(val.source+(val.test("	")?"":"|	"),"g");cm.refresh()},true);option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){cm.refresh()},true);option("electricChars",true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);guttersChanged(cm)},true);option("keyMap","default",keyMapChanged);option("extraKeys",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,updateScrollbars,true);option("lineNumbers",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm)},true);option("firstLineNumber",1,guttersChanged,true);option("lineNumberFormatter",function(integer){return integer},guttersChanged,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true}else{cm.display.disabled=false;if(!val)resetInput(cm)}});option("disableInput",false,function(cm,val){if(!val)resetInput(cm)},true);option("dragDrop",true);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){cm.refresh()},true);option("maxHighlightLength",1e4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val)cm.display.inputDiv.style.top=cm.display.inputDiv.style.left=0});option("tabindex",null,function(cm,val){cm.display.input.tabIndex=val||""});option("autofocus",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){if(!CodeMirror.defaults.mode&&name!="null")CodeMirror.defaults.mode=name;if(arguments.length>2){mode.dependencies=[];for(var i=2;i<arguments.length;++i)mode.dependencies.push(arguments[i])}modes[name]=mode};CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec};CodeMirror.resolveMode=function(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec]}else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string")found={name:found};spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){return CodeMirror.resolveMode("application/xml")}if(typeof spec=="string")return{name:spec};else return spec||{name:"null"}};CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj["_"+prop]=modeObj[prop];modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps)for(var prop in spec.modeProps)modeObj[prop]=spec.modeProps[prop];return modeObj};CodeMirror.defineMode("null",function(){return{token:function(stream){stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)};CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f)};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})};var copyState=CodeMirror.copyState=function(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val}return nstate};var startState=CodeMirror.startState=function(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true};CodeMirror.innerMode=function(mode,state){while(mode.innerMode){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode}return info||{mode:mode,state:state}};var commands=CodeMirror.commands={selectAll:function(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)},singleSelection:function(cm){cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return{from:range.head,to:Pos(range.head.line+1,0)};else return{from:range.head,to:Pos(range.head.line,len)}}else{return{from:range.from(),to:range.to()}}})},deleteLine:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},undo:function(cm){cm.undo()},redo:function(cm){cm.redo()},undoSelection:function(cm){cm.undoSelection()},redoSelection:function(cm){cm.redoSelection()},goDocStart:function(cm){cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},sel_move)},goLineStartSmart:function(cm){cm.extendSelectionsBy(function(range){var start=lineStart(cm,range.head.line);var line=cm.getLineHandle(start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\S/));var inWS=range.head.line==start.line&&range.head.ch<=firstNonWS&&range.head.ch;return Pos(start.line,inWS?0:firstNonWS)}return start},sel_move)},goLineEnd:function(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},sel_move)},goLineRight:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineUp:function(cm){cm.moveV(-1,"line")},goLineDown:function(cm){cm.moveV(1,"line")},goPageUp:function(cm){cm.moveV(-1,"page")},goPageDown:function(cm){cm.moveV(1,"page")},goCharLeft:function(cm){cm.moveH(-1,"char")},goCharRight:function(cm){cm.moveH(1,"char")},goColumnLeft:function(cm){cm.moveH(-1,"column")},goColumnRight:function(cm){cm.moveH(1,"column")},goWordLeft:function(cm){cm.moveH(-1,"word")},goGroupRight:function(cm){cm.moveH(1,"group")},goGroupLeft:function(cm){cm.moveH(-1,"group")},goWordRight:function(cm){cm.moveH(1,"word")},delCharBefore:function(cm){cm.deleteH(-1,"char")},delCharAfter:function(cm){cm.deleteH(1,"char")},delWordBefore:function(cm){cm.deleteH(-1,"word")},delWordAfter:function(cm){cm.deleteH(1,"word")},delGroupBefore:function(cm){cm.deleteH(-1,"group")},delGroupAfter:function(cm){cm.deleteH(1,"group")},indentAuto:function(cm){cm.indentSelection("smart")},indentMore:function(cm){cm.indentSelection("add")},indentLess:function(cm){cm.indentSelection("subtract")},insertTab:function(cm){cm.replaceSelection("	")},defaultTab:function(cm){if(cm.somethingSelected())cm.indentSelection("add");else cm.execCommand("insertTab")},transposeChars:function(cm){runInOp(cm,function(){var ranges=cm.listSelections();for(var i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(cur.ch>0&&cur.ch<line.length-1)cm.replaceRange(line.charAt(cur.ch)+line.charAt(cur.ch-1),Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1))}})},newlineAndIndent:function(cm){runInOp(cm,function(){var len=cm.listSelections().length;for(var i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange("\n",range.anchor,range.head,"+input");cm.indentLine(range.from().line+1,null,true);ensureCursorVisible(cm)}})},toggleOverwrite:function(cm){cm.toggleOverwrite()}};var keyMap=CodeMirror.keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;function getKeyMap(val){if(typeof val=="string")return keyMap[val];else return val}var lookupKey=CodeMirror.lookupKey=function(name,maps,handle){function lookup(map){map=getKeyMap(map);var found=map[name];if(found===false)return"stop";if(found!=null&&handle(found))return true;if(map.nofallthrough)return"stop";var fallthrough=map.fallthrough;if(fallthrough==null)return false;if(Object.prototype.toString.call(fallthrough)!="[object Array]")return lookup(fallthrough);for(var i=0;i<fallthrough.length;++i){var done=lookup(fallthrough[i]);if(done)return done}return false}for(var i=0;i<maps.length;++i){var done=lookup(maps[i]);if(done)return done!="stop"}};var isModifierKey=CodeMirror.isModifierKey=function(event){var name=keyNames[event.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"};var keyName=CodeMirror.keyName=function(event,noShift){if(presto&&event.keyCode==34&&event["char"])return false;var name=keyNames[event.keyCode];if(name==null||event.altGraphKey)return false;if(event.altKey)name="Alt-"+name;if(flipCtrlCmd?event.metaKey:event.ctrlKey)name="Ctrl-"+name;if(flipCtrlCmd?event.ctrlKey:event.metaKey)name="Cmd-"+name;if(!noShift&&event.shiftKey)name="Shift-"+name;return name};CodeMirror.fromTextArea=function(textarea,options){if(!options)options={};options.value=textarea.value;if(!options.tabindex&&textarea.tabindex)options.tabindex=textarea.tabindex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}function save(){textarea.value=cm.getValue()}if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}textarea.style.display="none";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(typeof textarea.form.submit=="function")textarea.form.submit=realSubmit}};return cm};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0};StringStream.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(match){var ch=this.string.charAt(this.pos);if(typeof match=="string")var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch}},eatWhile:function(match){var start=this.pos;while(this.eat(match)){}return this.pos>start},eatSpace:function(){var start=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>start},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}},backUp:function(n){this.pos-=n},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},match:function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;if(match&&consume!==false)this.pos+=match[0].length;return match}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}}};var TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc};eventMixin(TextMarker);TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,"clear")){var found=this.find();if(found)signalLater(this,"clear",found.from,found.to)}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),"text");else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line)}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc)}if(cm)signalLater(cm,"markerCleared",cm,this);if(withOp)endOperation(cm)};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type=="bookmark")side=1;var from,to;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight)}})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};var nextMarkerId=0;function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options)copyObj(options,marker);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents)marker.widgetNode.ignoreEvents=true;if(options.insertLeft)marker.widgetNode.insertLeft=true}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");sawCollapsedSpans=true}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0)});if(marker.clearOnEnter)on(marker,"beforeCursorEnter",function(){marker.clear()});if(marker.readOnly){sawReadOnlySpans=true;if(doc.history.done.length||doc.history.undone.length)doc.clearHistory()}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,"markerAdded",cm,marker)}return marker}var SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;for(var i=0,me=this;i<markers.length;++i){markers[i].parent=this;on(markers[i],"clear",function(){me.clear()})}};eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)});return new SharedTextMarker(markers,primary)}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i)if(spans[i]!=span)(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);
(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}return nw}function stretchSpansOverChange(doc,change){var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset}}}if(last){for(var i=0;i<last.length;++i){var span=last[i];if(span.to!=null)span.to+=offset;if(span.from==null){var found=getMarkedSpanFor(first,span.marker);if(!found){span.from=offset;if(sameLine)(first||(first=[])).push(span)}}else{span.from+=offset;if(sameLine)(first||(first=[])).push(span)}}}if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first)for(var i=0;i<first.length;++i)if(first[i].to==null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));for(var i=0;i<gap;++i)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1)}if(!spans.length)return null;return spans}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}}else if(stretchCur){old[i]=stretchCur}}return old}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark)}});if(!markers)return null;var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j+=newParts.length-1}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans)return;for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(cmp(found.to,from)||extraRight(sp.marker)-extraLeft(marker))>0||fromCmp>=0&&(cmp(found.from,to)||extraLeft(sp.marker)-extraRight(marker))<0)return true}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line))line=merged.find(-1,true).line;return line}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;while(merged=collapsedSpanAtEnd(line))line=merged.find(1,true).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return true;for(var sp,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true}}var LineWidget=CodeMirror.LineWidget=function(cm,node,options){if(options)for(var opt in options)if(options.hasOwnProperty(opt))this[opt]=options[opt];this.cm=cm;this.node=node};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollPos(cm,null,diff)}LineWidget.prototype.clear=function(){var cm=this.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws)return;for(var i=0;i<ws.length;++i)if(ws[i]==this)ws.splice(i--,1);if(!ws.length)line.widgets=null;var height=widgetHeight(this);runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget");updateLineHeight(line,Math.max(0,line.height-height))})};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);updateLineHeight(line,line.height+diff)})};function widgetHeight(widget){if(widget.height!=null)return widget.height;if(!contains(document.body,widget.node))removeChildrenAndAdd(widget.cm.display.measure,elt("div",[widget.node],null,"position: relative"));return widget.height=widget.node.offsetHeight}function addLineWidget(cm,handle,node,options){var widget=new LineWidget(cm,node,options);if(widget.noHScroll)cm.display.alignWidgets=true;changeLine(cm,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(!lineIsHidden(cm.doc,line)){var aboveVisible=heightAtLine(line)<cm.doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollPos(cm,null,widget.height);cm.curOp.forceUpdate=true}return true});return widget}var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this)};function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}function runMode(cm,text,mode,state,f,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;if(text==""&&mode.blankLine)mode.blankLine(state);while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,state,stream.pos);stream.pos=text.length;style=null}else{style=mode.token(stream,state)}if(cm.options.addModeClass){var mName=CodeMirror.innerMode(mode,state).mode.name;if(mName)style="m-"+(style?mName+" "+style:mName)}if(!flattenSpans||curStyle!=style){if(curStart<stream.start)f(stream.start,curStyle);curStart=stream.start;curStyle=style}stream.start=stream.pos}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+5e4);f(pos,curStyle);curStart=pos}}function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen];runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style)},forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i+=2;at=Math.min(end,i_end)}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,style);i=start+2}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=cur?cur+" "+style:style}}})}return st}function getLineStyles(cm,line){if(!line.styles||line.styles[0]!=cm.state.modeGen)line.styles=highlightLine(cm,line,line.stateAfter=getStateBefore(cm,lineNo(line)));return line.styles}function processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text==""&&mode.blankLine)mode.blankLine(state);while(!stream.eol()&&stream.pos<=cm.options.maxHighlightLength){mode.token(stream,state);stream.start=stream.pos}}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,builder){if(!style)return null;for(;;){var lineClass=style.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;style=style.slice(0,lineClass.index)+style.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(builder[prop]==null)builder[prop]=lineClass[2];else if(!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(builder[prop]))builder[prop]+=" "+lineClass[2]}if(/^\s*$/.test(style))return null;var cache=builder.cm.options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=elt("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:elt("pre",[content]),content:content,col:0,pos:0,cm:cm};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order;builder.pos=0;builder.addToken=buildToken;if((ie||webkit)&&cm.getOption("lineWrapping"))builder.addToken=buildTokenSplitSpaces(builder.addToken);if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];insertLineContent(line,builder,getLineStyles(cm,line));if(builder.map.length==0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}signal(cm,"renderLine",cm,lineView.line,builder.pre);return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","•","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);return token}function buildToken(builder,text,style,startStyle,endStyle,title){if(!text)return;var special=builder.cm.options.specialChars,mustWrap=false;if(!special.test(text)){builder.col+=text.length;var content=document.createTextNode(text);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie_upto8)mustWrap=true;builder.pos+=text.length}else{var content=document.createDocumentFragment(),pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(text.slice(pos,pos+skipped));if(ie_upto8)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m)break;pos+=skipped+1;if(m[0]=="	"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;var txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));builder.col+=tabWidth}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);if(ie_upto8)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt);builder.pos++}}if(style||startStyle||endStyle||mustWrap){var fullStyle=style||"";if(startStyle)fullStyle+=startStyle;if(endStyle)fullStyle+=endStyle;var token=elt("span",[content],fullStyle);if(title)token.title=title;return builder.content.appendChild(token)}builder.content.appendChild(content)}function buildTokenSplitSpaces(inner){function split(old){var out=" ";for(var i=0;i<old.length-2;++i)out+=i%2?" ":" ";out+=" ";return out}return function(builder,text,style,startStyle,endStyle,title){inner(builder,text.replace(/ {3,}/g,split),style,startStyle,endStyle,title)}}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos,end=start+text.length;for(;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget){builder.map.push(builder.pos,builder.pos+size,widget);builder.content.appendChild(widget)}builder.pos+=size}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i=1;i<styles.length;i+=2)builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder));return}var len=allText.length,pos=0,i=1,text="",style;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title="";collapsed=null;nextChange=Infinity;var foundBookmarks=[];for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(sp.from<=pos&&(sp.to==null||sp.to>pos)){if(sp.to!=null&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className)spanStyle+=" "+m.className;if(m.startStyle&&sp.from==pos)spanStartStyle+=" "+m.startStyle;if(m.endStyle&&sp.to==nextChange)spanEndStyle+=" "+m.endStyle;if(m.title&&!title)title=m.title;if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from}if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m)}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return}if(!collapsed&&foundBookmarks.length)for(var j=0;j<foundBookmarks.length;++j)buildCollapsedSpan(builder,0,foundBookmarks[j])}if(pos>=len)break;var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder)}}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(isWholeLineUpdate(doc,change)){for(var i=0,added=[];i<text.length-1;++i)added.push(new Line(text[i],spansFor(i),estimateHeight));update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added)}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans)}else{for(var added=[],i=1;i<text.length-1;++i)added.push(new Line(text[i],spansFor(i),estimateHeight));added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added)}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);for(var i=1,added=[];i<text.length-1;++i)added.push(new Line(text[i],spansFor(i),estimateHeight));if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added)}signalLater(doc,"change",doc,change)}function LeafChunk(lines){this.lines=lines;this.parent=null;for(var i=0,height=0;i<lines.length;++i){lines[i].parent=this;height+=lines[i].height}this.height=height}LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){for(var e=at+n;at<e;++at)if(op(this.lines[at]))return true}};function BranchChunk(children){this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this}this.size=size;this.height=height;this.parent=null}BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null}if((n-=rm)==0)break;at=0}else at-=sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){for(var i=0;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){while(child.lines.length>50){var spilled=child.lines.splice(child.lines.length-25,25);var newleaf=new LeafChunk(spilled);child.height-=newleaf.height;this.children.splice(i+1,0,newleaf);newleaf.parent=this}this.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n-=used)==0)break;at=0}else at-=sz}}};var nextDocId=0;var Doc=CodeMirror.Doc=function(text,mode,firstLine){if(!(this instanceof Doc))return new Doc(text,mode,firstLine);if(firstLine==null)firstLine=0;BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;if(typeof text=="string")text=splitLines(text);updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){var height=0;for(var i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||"\n")},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:splitLines(code),origin:"setValue"},true);setSelection(this,simpleSelection(top))}),replaceRange:function(code,from,to,origin){from=clipPos(this,from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false)return lines;return lines.join(lineSep||"\n")},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line=="number")line=getLine(this,line);return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range=this.sel.primary(),pos;if(start==null||start=="head")pos=range.head;else if(start=="anchor")pos=range.anchor;else if(start=="end"||start=="to"||start===false)pos=range.to();else pos=range.from();return pos},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads,options))}),extendSelectionsBy:docMethodOp(function(f,options){extendSelections(this,map(this.sel.ranges,f),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;for(var i=0,out=[];i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);setSelection(this,normalizeSelection(out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function(lineSep){var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel}if(lineSep===false)return lines;else return lines.join(lineSep||"\n")},getSelections:function(lineSep){var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||"\n");parts[i]=sel}return parts},replaceSelection:docMethodOp(function(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")}),replaceSelections:function(code,collapse,origin){var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);for(var i=changes.length-1;i>=0;i--)makeChange(this,changes[i]);if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm)},undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++)if(!hist.done[i].ranges)++done;for(var i=0;i<hist.undone.length;i++)if(!hist.undone[i].ranges)++undone;return{undo:done,redo:undone}},clearHistory:function(){this.history=new History(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker)}return markers},findMarks:function(from,to){from=clipPos(this,from);to=clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];if(!(lineNo==from.line&&from.ch>span.to||span.from==null&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch))found.push(span.marker.parent||span.marker)}++lineNo});return found},getAllMarks:function(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)if(sps[i].from!=null)markers.push(sps[i].marker)});return markers},posFromIndex:function(off){var ch,lineNo=this.first;this.iter(function(line){var sz=line.text.length+1;if(sz>off){ch=off;return true}off-=sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0)return 0;this.iter(this.first,coords.line,function(line){index+=line.text.length+1});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},linkedDoc:function(options){if(!options)options={};var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];return copy},unlinkDoc:function(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);break}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate="iter insert remove copy getEditor".split(" ");for(var prop in Doc.prototype)if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]);eventMixin(Doc);function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];
if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared)}}propagate(doc,null,true)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm)}function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(line.parent==null)return null;var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch;n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh}return n+i}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;else h+=line.height}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;else h+=cur.height}}return h}function getOrder(line){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text);return order}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges)array.pop();else break}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done)}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change)}else{cur.changes.push(historyChangeFromChange(doc,change))}}else{var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift()}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;++n})}function removeClearedSpans(spans){if(!spans)return null;for(var i=0,out;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i)}else if(out)out.push(spans[i])}return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup)for(var prop in change)if(m=prop.match(/^spans_(\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}return copy}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff}else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}var e_preventDefault=CodeMirror.e_preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false};var e_stopPropagation=CodeMirror.e_stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}var e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e);e_stopPropagation(e)};function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;if(b==null){if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2}if(mac&&e.ctrlKey&&b==1)b=3;return b}var on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,false);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={});var arr=map[type]||(map[type]=[]);arr.push(f)}};var off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,false);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;for(var i=0;i<arr.length;++i)if(arr[i]==f){arr.splice(i,1);break}}};var signal=CodeMirror.signal=function(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<arr.length;++i)arr[i].apply(null,args)};var delayedCallbacks,delayedCallbackDepth=0;function signalLater(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];if(!arr)return;var args=Array.prototype.slice.call(arguments,2);if(!delayedCallbacks){++delayedCallbackDepth;delayedCallbacks=[];setTimeout(fireDelayed,0)}function bnd(f){return function(){f.apply(null,args)}}for(var i=0;i<arr.length;++i)delayedCallbacks.push(bnd(arr[i]))}function fireDelayed(){--delayedCallbackDepth;var delayed=delayedCallbacks;delayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function signalDOMEvent(cm,e,override){signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function hasHandler(emitter,type){var arr=emitter._handlers&&emitter._handlers[type];return arr&&arr.length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}var scrollerCutOff=30;var Pass=CodeMirror.Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};function Delayed(){this.id=null}Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms)};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1)end=string.length}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf("	",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1}};function findColumn(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf("	",pos);if(nextTab==-1)nextTab=string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal)return pos}}var spaceStrs=[""];function spaceStr(n){while(spaceStrs.length<=n)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}var selectInput=function(node){node.select()};if(ios)selectInput=function(node){node.selectionStart=0;node.selectionEnd=node.value.length};else if(ie)selectInput=function(node){try{node.select()}catch(_e){}};function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}if([].indexOf)indexOf=function(array,elt){return array.indexOf(elt)};function map(array,f){var out=[];for(var i=0;i<array.length;i++)out[i]=f(array[i],i);return out}if([].map)map=function(array,f){return array.map(f)};function createObj(base,props){var inst;if(Object.create){inst=Object.create(base)}else{var ctor=function(){};ctor.prototype=base;inst=new ctor}if(props)copyObj(props,inst);return inst}function copyObj(obj,target){if(!target)target={};for(var prop in obj)if(obj.hasOwnProperty(prop))target[prop]=obj[prop];return target}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}var nonASCIISingleCaseWordChar=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var isWordChar=CodeMirror.isWordChar=function(ch){return/\w/.test(ch)||ch>""&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))};function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return false;return true}var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}var range;if(document.createRange)range=function(node,start,end){var r=document.createRange();r.setEnd(node,end);r.setStart(node,start);return r};else range=function(node,start,end){var r=document.body.createTextRange();r.moveToElementText(node.parentNode);r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function contains(parent,child){if(parent.contains)return parent.contains(child);while(child=child.parentNode)if(child==parent)return true}function activeElt(){return document.activeElement}if(ie_upto10)activeElt=function(){try{return document.activeElement}catch(e){return document.body}};var dragAndDrop=function(){if(ie_upto8)return false;var div=elt("div");return"draggable"in div||"dragDrop"in div}();var knownScrollbarWidth;function scrollbarWidth(measure){if(knownScrollbarWidth!=null)return knownScrollbarWidth;var test=elt("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");removeChildrenAndAdd(measure,test);if(test.offsetWidth)knownScrollbarWidth=test.offsetHeight-test.clientHeight;return knownScrollbarWidth||0}var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","​");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!ie_upto7}if(zwspSupported)return elt("span","​");else return elt("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("AخA"));var r0=range(txt,0,1).getBoundingClientRect();if(r0.left==r0.right)return false;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3}var splitLines=CodeMirror.splitLines="\n\nb".split(/\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf("\n",pos);if(nl==-1)nl=string.length;var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){try{var range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints("StartToEnd",range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e)return true;e.setAttribute("oncopy","return;");return typeof e.oncopy=="function"}();var keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};CodeMirror.keyNames=keyNames;(function(){for(var i=0;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);for(var i=65;i<=90;i++)keyNames[i]=String.fromCharCode(i);for(var i=1;i<=12;i++)keyNames[i+111]=keyNames[i+63235]="F"+i})();function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr");found=true}}if(!found)f(from,to,"ltr")}function bidiLeft(part){return part.level%2?part.to:part.from}function bidiRight(part){return part.level%2?part.from:part.to}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0}function lineRight(line){var order=getOrder(line);if(!order)return line.text.length;return bidiRight(lst(order))}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch)}function lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null}var order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch)}function compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir)return true;if(b==linedir)return false;return a<b}var bidiOther;function getBidiPartAt(order,pos){bidiOther=null;for(var i=0,found;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(found==null){found=i}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to)bidiOther=found;return i}else{if(cur.from!=cur.to)bidiOther=i;return found}}}return found}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do pos+=dir;while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos)return target;part=bidi[pos+=dir];return dir>0==part.level%2?part.to:part.from}else{part=bidi[pos+=dir];if(!part)return null;if(dir>0==part.level%2)target=moveInLine(line,part.to,-1,byUnit);else target=moveInLine(line,part.from,1,byUnit)}}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)while(target>0&&isExtendingChar(line.text.charAt(target)))target+=dir;return target<0||target>line.text.length?null:target}var bidiOrdering=function(){var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";function charType(code){if(code<=247)return lowTypes.charAt(code);else if(1424<=code&&code<=1524)return"R";else if(1536<=code&&code<=1773)return arabicTypes.charAt(code-1536);else if(1774<=code&&code<=2220)return"r";else if(8192<=code&&code<=8203)return"w";else if(code==8204)return"b";else return"L"}var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;var outerType="L";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}return function(str){if(!bidiRE.test(str))return false;var len=str.length,types=[];for(var i=0,type;i<len;++i)types.push(type=charType(str.charCodeAt(i)));for(var i=0,prev=outerType;i<len;++i){var type=types[i];if(type=="m")types[i]=prev;else prev=type}for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(type=="1"&&cur=="r")types[i]="n";else if(isStrong.test(type)){cur=type;if(type=="r")types[i]="R"}}for(var i=1,prev=types[0];i<len-1;++i){var type=types[i];if(type=="+"&&prev=="1"&&types[i+1]=="1")types[i]="1";else if(type==","&&prev==types[i+1]&&(prev=="1"||prev=="n"))types[i]=prev;prev=type}for(var i=0;i<len;++i){var type=types[i];if(type==",")types[i]="N";else if(type=="%"){for(var end=i+1;end<len&&types[end]=="%";++end){}var replace=i&&types[i-1]=="!"||end<len&&types[end]=="1"?"1":"N";for(var j=i;j<end;++j)types[j]=replace;i=end-1}}for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(cur=="L"&&type=="1")types[i]="L";else if(isStrong.test(type))cur=type}for(var i=0;i<len;++i){if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end){}var before=(i?types[i-1]:outerType)=="L";var after=(end<len?types[end]:outerType)=="L";var replace=before||after?"L":"R";for(var j=i;j<end;++j)types[j]=replace;i=end-1}}var order=[],m;for(var i=0;i<len;){if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i){}order.push(new BidiSpan(0,start,i))}else{var pos=i,at=order.length;for(++i;i<len&&types[i]!="L";++i){}for(var j=pos;j<i;){if(countsAsNum.test(types[j])){if(pos<j)order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j){}order.splice(at,0,new BidiSpan(2,nstart,j));pos=j}else++j}if(pos<i)order.splice(at,0,new BidiSpan(1,pos,i))}}if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}if(order[0].level!=lst(order).level)order.push(new BidiSpan(order[0].level,len,len));return order}}();CodeMirror.version="4.0.3";return CodeMirror});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){"use strict";CodeMirror.defineMode("javascript",function(config,parserConfig){var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var isTS=parserConfig.typescript;var keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c");var operator=kw("operator"),atom={type:"atom",style:"atom"};var jsKeywords={"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":C,"break":C,"continue":C,"new":C,"delete":C,"throw":C,"debugger":C,"var":kw("var"),"const":kw("var"),let:kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,undefined:atom,NaN:atom,Infinity:atom,"this":kw("this"),module:kw("module"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C};if(isTS){var type={type:"variable",style:"variable-3"};var tsKeywords={"interface":kw("interface"),"extends":kw("extends"),constructor:kw("constructor"),"public":kw("public"),"private":kw("private"),"protected":kw("protected"),"static":kw("static"),string:type,number:type,bool:type,any:type};for(var attr in tsKeywords){jsKeywords[attr]=tsKeywords[attr]}}return jsKeywords}();var isOperatorChar=/[+\-*&%=<>!?|~^]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function readRegexp(stream){var escaped=false,next,inSet=false;while((next=stream.next())!=null){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false}escaped=!escaped&&next=="\\"}}var type,content;function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="."&&stream.match(/^\d+(?:[eE][+\-]?\d+)?/)){return ret("number","number")}else if(ch=="."&&stream.match("..")){return ret("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(ch)){return ret(ch)}else if(ch=="="&&stream.eat(">")){return ret("=>","operator")}else if(ch=="0"&&stream.eat(/x/i)){stream.eatWhile(/[\da-f]/i);return ret("number","number")}else if(/\d/.test(ch)){stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return ret("number","number")}else if(ch=="/"){if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(state.lastType=="operator"||state.lastType=="keyword c"||state.lastType=="sof"||/^[\[{}\(,;:]$/.test(state.lastType)){readRegexp(stream);stream.eatWhile(/[gimy]/);return ret("regexp","string-2")}else{stream.eatWhile(isOperatorChar);return ret("operator","operator",stream.current())}}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if(ch=="#"){stream.skipToEnd();return ret("error","error")}else if(isOperatorChar.test(ch)){stream.eatWhile(isOperatorChar);return ret("operator","operator",stream.current())}else{stream.eatWhile(/[\w\$_]/);var word=stream.current(),known=keywords.propertyIsEnumerable(word)&&keywords[word];return known&&state.lastType!="."?ret(known.type,known.style,word):ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=false,next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}while((next=stream.next())!=null){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=false,ch;while(ch=stream.next()){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=false,next;while((next=stream.next())!=null){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&next=="\\"}return ret("quasi","string-2",stream.current())}var brackets="([{}])";function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",stream.start);if(arrow<0)return;var depth=0,sawSomething=false;for(var pos=arrow-1;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(--depth==0)break}else if(bracket>=3&&bracket<6){++depth}else if(/[$\w]/.test(ch)){sawSomething=true}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}var atomicTypes={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align}function inScope(state,varname){for(var v=state.localVars;v;v=v.next)if(v.name==varname)return true;for(var cx=state.context;cx;cx=cx.prev){for(var v=cx.vars;v;v=v.next)if(v.name==varname)return true}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;while(true){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){while(cc.length&&cc[cc.length-1].lex)cc.pop()();if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,content))return"variable-2";return style}}}var cx={state:null,column:null,marked:null,cc:null};function pass(){for(var i=arguments.length-1;i>=0;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return true}function register(varname){function inList(list){for(var v=list;v;v=v.next)if(v.name==varname)return true;return false}var state=cx.state;if(state.context){cx.marked="def";if(inList(state.localVars))return;state.localVars={name:varname,next:state.localVars}}else{if(inList(state.globalVars))return;if(parserConfig.globalVars)state.globalVars={name:varname,next:state.globalVars}}}var defaultVars={name:"this",next:{name:"arguments"}};function pushcontext(){cx.state.context={prev:cx.state.context,vars:cx.state.localVars};cx.state.localVars=defaultVars}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state,indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;state.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info)};result.lex=true;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}poplex.lex=true;function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";")return pass();else return cont(exp)}return exp}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value.length),vardef,expect(";"),poplex);if(type=="keyword a")return cont(pushlex("form"),expression,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="{")return cont(pushlex("}"),block,poplex);if(type==";")return cont();if(type=="if")return cont(pushlex("form"),expression,statement,poplex,maybeelse);if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),forspec,statement,poplex);if(type=="variable")return cont(pushlex("stat"),maybelabel);if(type=="switch")return cont(pushlex("form"),expression,pushlex("}","switch"),expect("{"),block,poplex,poplex);
if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext);if(type=="module")return cont(pushlex("form"),pushcontext,afterModule,popcontext,poplex);if(type=="class")return cont(pushlex("form"),className,objlit,poplex);if(type=="export")return cont(pushlex("form"),afterExport,poplex);if(type=="import")return cont(pushlex("form"),afterImport,poplex);return pass(pushlex("stat"),expression,expect(";"),poplex)}function expression(type){return expressionInner(type,false)}function expressionNoComma(type){return expressionInner(type,true)}function expressionInner(type,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=noComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef);if(type=="keyword c")return cont(noComma?maybeexpressionNoComma:maybeexpression);if(type=="(")return cont(pushlex(")"),maybeexpression,comprehension,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expression)}function maybeexpressionNoComma(type){if(type.match(/[;\}\)\],]/))return pass();return pass(expressionNoComma)}function maybeoperatorComma(type,value){if(type==",")return cont(expression);return maybeoperatorNoComma(type,value,false)}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(value=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\+\+|--/.test(value))return cont(me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr)}if(type=="quasi"){cx.cc.push(me);return quasi(value)}if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me)}function quasi(value){if(value.slice(value.length-2)!="${")return cont();return cont(expression,continueQuasi)}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont()}}function arrowBody(type){findFatArrow(cx.stream,cx.state);if(type=="{")return pass(statement);return pass(expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,cx.state);if(type=="{")return pass(statement);return pass(expressionNoComma)}function maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if(type=="variable"){cx.marked="property";return cont()}}function objprop(type,value){if(type=="variable"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter)}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":type+" property"}else if(type=="["){return cont(expression,expect("]"),afterprop)}if(atomicTypes.hasOwnProperty(type))return cont(afterprop)}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef)}function commasep(what,end){function proceed(type){if(type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(what,proceed)}if(type==end)return cont();return cont(expect(end))}return function(type){if(type==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){for(var i=3;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if(type=="}")return cont();return pass(statement,block)}function maybetype(type){if(isTS&&type==":")return cont(typedef)}function typedef(type){if(type=="variable"){cx.marked="variable-3";return cont()}}function vardef(){return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(type=="variable"){register(value);return cont()}if(type=="[")return contCommasep(pattern,"]");if(type=="{")return contCommasep(proppattern,"}")}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\s*:/,false)){register(value);return cont(maybeAssign)}if(type=="variable")cx.marked="property";return cont(expect(":"),pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type){if(type==",")return cont(vardef)}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form"),statement,poplex)}function forspec(type){if(type=="(")return cont(pushlex(")"),forspec1,expect(")"),poplex)}function forspec1(type){if(type=="var")return cont(vardef,expect(";"),forspec2);if(type==";")return cont(forspec2);if(type=="variable")return cont(formaybeinof);return pass(expression,expect(";"),forspec2)}function formaybeinof(_type,value){if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression)}return cont(maybeoperatorComma,forspec2)}function forspec2(type,value){if(type==";")return cont(forspec3);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression)}return pass(expression,expect(";"),forspec3)}function forspec3(type){if(type!=")")cont(expression)}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef)}if(type=="variable"){register(value);return cont(functiondef)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,statement,popcontext)}function funarg(type){if(type=="spread")return cont(funarg);return pass(pattern,maybetype)}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter)}}function classNameAfter(_type,value){if(value=="extends")return cont(expression)}function objlit(type){if(type=="{")return contCommasep(objprop,"}")}function afterModule(type,value){if(type=="string")return cont(statement);if(type=="variable"){register(value);return cont(maybeFrom)}}function afterExport(_type,value){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"))}return pass(statement)}function afterImport(type){if(type=="string")return cont();return pass(importSpec,maybeFrom)}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);return cont()}function maybeFrom(_type,value){if(value=="from"){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if(type=="]")return cont();return pass(expressionNoComma,maybeArrayComprehension)}function maybeArrayComprehension(type){if(type=="for")return pass(comprehension,expect("]"));if(type==",")return cont(commasep(expressionNoComma,"]"));return pass(commasep(expressionNoComma,"]"))}function comprehension(type){if(type=="for")return cont(forspec,comprehension);if(type=="if")return cont(expression,comprehension)}return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&{vars:parserConfig.localVars},indented:0};if(parserConfig.globalVars&&typeof parserConfig.globalVars=="object")state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0),lexical=state.lexical;for(var i=state.cc.length-1;i>=0;--i){var c=state.cc[i];if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse)break}if(lexical.type=="stat"&&firstChar=="}")lexical=lexical.prev;if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type,closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+indentUnit;else if(type=="stat")return lexical.indented+(state.lastType=="operator"||state.lastType==","?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+(closing?0:indentUnit)},electricChars:":{}",blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(global){"use strict";var $create=Object.create;var $defineProperty=Object.defineProperty;var $freeze=Object.freeze;var $getOwnPropertyNames=Object.getOwnPropertyNames;var $getPrototypeOf=Object.getPrototypeOf;var $hasOwnProperty=Object.prototype.hasOwnProperty;function nonEnum(value){return{configurable:true,enumerable:false,value:value,writable:true}}var method=nonEnum;function polyfillString(String){Object.defineProperties(String.prototype,{startsWith:method(function(s){return this.lastIndexOf(s,0)===0}),endsWith:method(function(s){var t=String(s);var l=this.length-t.length;return l>=0&&this.indexOf(t,l)===l}),contains:method(function(s){return this.indexOf(s)!==-1}),toArray:method(function(){return this.split("")})});$defineProperty(String,"raw",{value:function(callsite){var raw=callsite.raw;var len=raw.length>>>0;if(len===0)return"";var s="";var i=0;while(true){s+=raw[i];if(i+1===len)return s;s+=arguments[++i]}},configurable:true,enumerable:false,writable:true})}var counter=0;function newUniqueString(){return"__$"+Math.floor(Math.random()*1e9)+"$"+ ++counter+"$__"}var nameRe=/^__\$(?:\d+)\$(?:\d+)\$__$/;var internalStringValueName=newUniqueString();function Name(string){if(!string)string=newUniqueString();$defineProperty(this,internalStringValueName,{value:newUniqueString()});function toString(){return string}$freeze(toString);$freeze(toString.prototype);var toStringDescr=method(toString);$defineProperty(this,"toString",toStringDescr);this.public=$freeze($create(null,{toString:method($freeze(function toString(){return string}))}));$freeze(this.public.toString.prototype);$freeze(this)}$freeze(Name);$freeze(Name.prototype);function assertName(val){if(!NameModule.isName(val))throw new TypeError(val+" is not a Name");return val}var elementDeleteName=new Name;var elementGetName=new Name;var elementSetName=new Name;var NameModule=$freeze({Name:function(str){return new Name(str)},isName:function(x){return x instanceof Name},elementGet:elementGetName,elementSet:elementSetName,elementDelete:elementDeleteName});var filter=Array.prototype.filter.call.bind(Array.prototype.filter);function getOwnPropertyNames(object){return filter($getOwnPropertyNames(object),function(str){return!nameRe.test(str)})}function hasOwnProperty(name){if(NameModule.isName(name)||nameRe.test(name))return false;return $hasOwnProperty.call(this,name)}function elementDelete(object,name){if(traceur.options.trapMemberLookup&&hasPrivateNameProperty(object,elementDeleteName)){return getProperty(object,elementDeleteName).call(object,name)}return deleteProperty(object,name)}function elementGet(object,name){if(traceur.options.trapMemberLookup&&hasPrivateNameProperty(object,elementGetName)){return getProperty(object,elementGetName).call(object,name)}return getProperty(object,name)}function elementHas(object,name){return has(object,name)}function elementSet(object,name,value){if(traceur.options.trapMemberLookup&&hasPrivateNameProperty(object,elementSetName)){getProperty(object,elementSetName).call(object,name,value)}else{setProperty(object,name,value)}return value}function assertNotName(s){if(nameRe.test(s))throw Error("Invalid access to private name")}function deleteProperty(object,name){if(NameModule.isName(name))return delete object[name[internalStringValueName]];if(nameRe.test(name))return true;return delete object[name]}function getProperty(object,name){if(NameModule.isName(name))return object[name[internalStringValueName]];if(nameRe.test(name))return undefined;return object[name]}function hasPrivateNameProperty(object,name){return name[internalStringValueName]in Object(object)}function has(object,name){if(NameModule.isName(name)||nameRe.test(name))return false;return name in Object(object)}function setProperty(object,name,value){if(NameModule.isName(name)){var descriptor=$getPropertyDescriptor(object,[name[internalStringValueName]]);if(descriptor)object[name[internalStringValueName]]=value;else $defineProperty(object,name[internalStringValueName],nonEnum(value))}else{assertNotName(name);object[name]=value}}function defineProperty(object,name,descriptor){if(NameModule.isName(name)){if(descriptor.enumerable){descriptor=Object.create(descriptor,{enumerable:{value:false}})}$defineProperty(object,name[internalStringValueName],descriptor)}else{assertNotName(name);$defineProperty(object,name,descriptor)}}function $getPropertyDescriptor(obj,name){while(obj!==null){var result=Object.getOwnPropertyDescriptor(obj,name);if(result)return result;obj=$getPrototypeOf(obj)}return undefined}function getPropertyDescriptor(obj,name){if(NameModule.isName(name))return undefined;assertNotName(name);return $getPropertyDescriptor(obj,name)}function polyfillObject(Object){$defineProperty(Object,"defineProperty",{value:defineProperty});$defineProperty(Object,"deleteProperty",method(deleteProperty));$defineProperty(Object,"getOwnPropertyNames",{value:getOwnPropertyNames});$defineProperty(Object,"getProperty",method(getProperty));$defineProperty(Object,"getPropertyDescriptor",method(getPropertyDescriptor));$defineProperty(Object,"has",method(has));$defineProperty(Object,"setProperty",method(setProperty));$defineProperty(Object.prototype,"hasOwnProperty",{value:hasOwnProperty});function is(left,right){if(left===right)return left!==0||1/left===1/right;return left!==left&&right!==right}$defineProperty(Object,"is",method(is))}var iteratorName=new Name("iterator");var IterModule={get iterator(){return iteratorName}};function getIterator(collection){return getProperty(collection,iteratorName).call(collection)}function returnThis(){return this}function addIterator(object){setProperty(object,iteratorName,returnThis);return object}function polyfillArray(Array){defineProperty(Array.prototype,IterModule.iterator,method(function(){var index=0;var array=this;return{next:function(){if(index<array.length){return array[index++]}throw StopIterationLocal}}}))}var GeneratorReturnLocal;function setGeneratorReturn(GeneratorReturn,global){switch(typeof GeneratorReturn){case"function":if(typeof GeneratorReturnLocal==="function"&&StopIterationLocal instanceof GeneratorReturnLocal){GeneratorReturnLocal=GeneratorReturn;setStopIteration(undefined,global);return}GeneratorReturnLocal=GeneratorReturn;return;case"undefined":GeneratorReturnLocal=function(v){this.value=v};GeneratorReturnLocal.prototype={toString:function(){return"[object GeneratorReturn "+this.value+"]"}};return;default:throw new TypeError("constructor function required")}}setGeneratorReturn();var StopIterationLocal;function isStopIteration(x){return x===StopIterationLocal||x instanceof GeneratorReturnLocal}function setStopIteration(StopIteration,global){switch(typeof StopIteration){case"object":StopIterationLocal=StopIteration;break;case"undefined":StopIterationLocal=new GeneratorReturnLocal;StopIterationLocal.toString=function(){return"[object StopIteration]"};break;default:throw new TypeError("invalid StopIteration type.")}if(global)global.StopIteration=StopIteration}setStopIteration(global.StopIteration,global);function Deferred(canceller){this.canceller_=canceller;this.listeners_=[]}function notify(self){while(self.listeners_.length>0){var current=self.listeners_.shift();var currentResult=undefined;try{try{if(self.result_[1]){if(current.errback)currentResult=current.errback.call(undefined,self.result_[0])}else{if(current.callback)currentResult=current.callback.call(undefined,self.result_[0])}current.deferred.callback(currentResult)}catch(err){current.deferred.errback(err)}}catch(unused){}}}function fire(self,value,isError){if(self.fired_)throw new Error("already fired");self.fired_=true;self.result_=[value,isError];notify(self)}Deferred.prototype={fired_:false,result_:undefined,createPromise:function(){return{then:this.then.bind(this),cancel:this.cancel.bind(this)}},callback:function(value){fire(this,value,false)},errback:function(err){fire(this,err,true)},then:function(callback,errback){var result=new Deferred(this.cancel.bind(this));this.listeners_.push({deferred:result,callback:callback,errback:errback});if(this.fired_)notify(this);return result.createPromise()},cancel:function(){if(this.fired_)throw new Error("already finished");var result;if(this.canceller_){result=this.canceller_(this);if(!result instanceof Error)result=new Error(result)}else{result=new Error("cancelled")}if(!this.fired_){this.result_=[result,true];notify(this)}}};var modules=$freeze({get"@name"(){return NameModule},get"@iter"(){return IterModule}});global.Deferred=Deferred;function setupGlobals(global){polyfillString(global.String);polyfillObject(global.Object);polyfillArray(global.Array)}setupGlobals(global);var runtime={Deferred:Deferred,GeneratorReturn:GeneratorReturnLocal,setGeneratorReturn:setGeneratorReturn,StopIteration:StopIterationLocal,setStopIteration:setStopIteration,isStopIteration:isStopIteration,addIterator:addIterator,assertName:assertName,createName:NameModule.Name,deleteProperty:deleteProperty,elementDelete:elementDelete,elementGet:elementGet,elementHas:elementHas,elementSet:elementSet,getIterator:getIterator,getProperty:getProperty,setProperty:setProperty,setupGlobals:setupGlobals,has:has,modules:modules};if(typeof traceur!=="undefined")traceur.setRuntime(runtime);else global.traceur={runtime:runtime}})(typeof global!=="undefined"?global:this);!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.ModuleTranspiler=e():"undefined"!=typeof global?global.ModuleTranspiler=e():"undefined"!=typeof self&&(self.ModuleTranspiler=e())}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{factory(root.esprima={})}})(this,function(exports){"use strict";var Token,TokenName,FnExprTokens,Syntax,PropertyKind,Messages,Regex,SyntaxTreeDelegate,ClassPropertyType,source,strict,index,lineNumber,lineStart,length,delegate,lookahead,state,extra;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];Syntax={ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AssignmentExpression:"AssignmentExpression",BinaryExpression:"BinaryExpression",BlockStatement:"BlockStatement",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ClassHeritage:"ClassHeritage",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportDeclaration:"ExportDeclaration",ExportBatchSpecifier:"ExportBatchSpecifier",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",ForStatement:"ForStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportSpecifier:"ImportSpecifier",LabeledStatement:"LabeledStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};PropertyKind={Data:1,Get:2,Set:4};ClassPropertyType={"static":"static",prototype:"prototype"};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInFormalsList:"Invalid left-hand side in formals list",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalDuplicateClassProperty:"Illegal duplicate property in class definition",IllegalReturn:"Illegal return statement",IllegalYield:"Illegal yield expression",IllegalSpread:"Illegal spread element",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",ParameterAfterRestParameter:"Rest parameter must be final parameter of an argument list",DefaultRestParameter:"Rest parameter can not have a default value",ElementAfterSpreadElement:"Spread must be the final element of an element list",ObjectPatternAsRestParameter:"Invalid rest parameter",ObjectPatternAsSpread:"Invalid spread argument",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",NewlineAfterModule:"Illegal newline after module",NoFromAfterImport:"Missing from after import",InvalidModuleSpecifier:"Invalid module specifier",NestedModule:"Module declaration can not be nested",NoYieldInGenerator:"Missing yield in generator",NoUnintializedConst:"Const must be initialized",ComprehensionRequiresBlock:"Comprehension must have at least one block",ComprehensionError:"Comprehension Error",EachNotAllowed:"Each is not supported"};Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&" ᠎             　﻿".indexOf(String.fromCharCode(ch))>0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function isFutureReservedWord(id){switch(id){case"class":case"enum":case"export":case"extends":case"import":case"super":return true;default:return false}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isKeyword(id){if(strict&&isStrictModeReservedWord(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try"||id==="let";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function skipComment(){var ch,blockComment,lineComment;blockComment=false;lineComment=false;while(index<length){ch=source.charCodeAt(index);if(lineComment){++index;if(isLineTerminator(ch)){lineComment=false;if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index}}else if(blockComment){if(isLineTerminator(ch)){if(ch===13&&source.charCodeAt(index+1)===10){++index}++lineNumber;++index;lineStart=index;if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}else{ch=source.charCodeAt(index++);if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(ch===42){ch=source.charCodeAt(index);if(ch===47){++index;blockComment=false}}}}else if(ch===47){ch=source.charCodeAt(index+1);if(ch===47){index+=2;lineComment=true}else if(ch===42){index+=2;blockComment=true;if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}else{break}}else if(isWhiteSpace(ch)){++index}else if(isLineTerminator(ch)){++index;
if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{return""}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;if(ch==="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(code<=65535){return String.fromCharCode(code)}cu1=(code-65536>>10)+55296;cu2=(code-65536&1023)+56320;return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(ch===92){if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierStart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch)){break}++index;id+=String.fromCharCode(ch);if(ch===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierPart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getEscapedIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier();if(id.length===1){type=Token.Identifier}else if(isKeyword(id)){type=Token.Keyword}else if(id==="null"){type=Token.NullLiteral}else if(id==="true"||id==="false"){type=Token.BooleanLiteral}else{type=Token.Identifier}return{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanPunctuator(){var start=index,code=source.charCodeAt(index),code2,ch1=source[index],ch2,ch3,ch4;switch(code){case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:++index;if(extra.tokenize){if(code===40){extra.openParenToken=extra.tokens.length}else if(code===123){extra.openCurlyToken=extra.tokens.length}}return{type:Token.Punctuator,value:String.fromCharCode(code),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]};default:code2=source.charCodeAt(index+1);if(code2===61){switch(code){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:index+=2;return{type:Token.Punctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]};case 33:case 61:index+=2;if(source.charCodeAt(index)===61){++index}return{type:Token.Punctuator,value:source.slice(start,index),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]};default:break}}break}ch2=source[index+1];ch3=source[index+2];ch4=source[index+3];if(ch1===">"&&ch2===">"&&ch3===">"){if(ch4==="="){index+=4;return{type:Token.Punctuator,value:">>>=",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}}if(ch1===">"&&ch2===">"&&ch3===">"){index+=3;return{type:Token.Punctuator,value:">>>",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1==="<"&&ch2==="<"&&ch3==="="){index+=3;return{type:Token.Punctuator,value:"<<=",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1===">"&&ch2===">"&&ch3==="="){index+=3;return{type:Token.Punctuator,value:">>=",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1==="."&&ch2==="."&&ch3==="."){index+=3;return{type:Token.Punctuator,value:"...",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1===ch2&&"+-<>&|".indexOf(ch1)>=0){index+=2;return{type:Token.Punctuator,value:ch1+ch2,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1==="="&&ch2===">"){index+=2;return{type:Token.Punctuator,value:"=>",lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if("<>=!+-*%&|^/".indexOf(ch1)>=0){++index;return{type:Token.Punctuator,value:ch1,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch1==="."){++index;return{type:Token.Punctuator,value:ch1,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}throwError({},Messages.UnexpectedToken,"ILLEGAL")}function scanHexLiteral(start){var number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanOctalLiteral(prefix,start){var number,octal;if(isOctalDigit(prefix)){octal=true;number="0"+source[index++]}else{octal=false;++index;number=""}while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(!octal&&number.length===0){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt(number,8),octal:octal,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanNumericLiteral(){var number,start,ch,octal;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(ch==="b"||ch==="B"){++index;number="";while(index<length){ch=source[index];if(ch!=="0"&&ch!=="1"){break}number+=source[index++]}if(number.length===0){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(index<length){ch=source.charCodeAt(index);if(isIdentifierStart(ch)||isDecimalDigit(ch)){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}return{type:Token.NumericLiteral,value:parseInt(number,2),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}if(ch==="o"||ch==="O"||isOctalDigit(ch)){return scanOctalLiteral(ch,start)}if(ch&&isDecimalDigit(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwError({},Messages.UnexpectedToken,"ILLEGAL")}}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanStringLiteral(){var str="",quote,start,ch,code,unescaped,restore,octal=false;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="	";break;case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped){str+=unescaped}else{index=restore;str+=ch}}break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.StringLiteral,value:str,octal:octal,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanTemplate(){var cooked="",ch,start,terminated,tail,restore,unescaped,code,octal;terminated=false;tail=false;start=index;++index;while(index<length){ch=source[index++];if(ch==="`"){tail=true;terminated=true;break}else if(ch==="$"){if(source[index]==="{"){++index;terminated=true;break}cooked+=ch}else if(ch==="\\"){ch=source[index++];if(!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"n":cooked+="\n";break;case"r":cooked+="\r";break;case"t":cooked+="	";break;case"u":case"x":if(source[index]==="{"){++index;cooked+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped){cooked+=unescaped}else{index=restore;cooked+=ch}}break;case"b":cooked+="\b";break;case"f":cooked+="\f";break;case"v":cooked+="";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}cooked+=String.fromCharCode(code)}else{cooked+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}}}else if(isLineTerminator(ch.charCodeAt(0))){++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}cooked+="\n"}else{cooked+=ch}}if(!terminated){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.Template,value:{cooked:cooked,raw:source.slice(start+1,index-(tail?1:2))},tail:tail,octal:octal,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}function scanTemplateElement(option){var startsWith,template;lookahead=null;skipComment();startsWith=option.head?"`":"}";if(source[index]!==startsWith){throwError({},Messages.UnexpectedToken,"ILLEGAL")}template=scanTemplate();peek();return template}function scanRegExp(){var str,ch,start,pattern,flags,value,classMarker=false,restore,terminated=false;lookahead=null;skipComment();start=index;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];while(index<length){ch=source[index++];str+=ch;if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}str+=ch}else if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}else if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}}}if(!terminated){throwError({},Messages.UnterminatedRegExp)}pattern=str.substr(1,str.length-2);flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){ch=source[index];if(ch==="u"){++index;restore=index;ch=scanHexEscape("u");if(ch){flags+=ch;for(str+="\\u";restore<index;++restore){str+=source[restore]}}else{index=restore;flags+="u";str+="\\u"}}else{str+="\\"}}else{flags+=ch;str+=ch}}try{value=new RegExp(pattern,flags)}catch(e){throwError({},Messages.InvalidRegExp)}peek();if(extra.tokenize){return{type:Token.RegularExpression,value:value,lineNumber:lineNumber,lineStart:lineStart,range:[start,index]}}return{literal:str,value:value,range:[start,index]}}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var prevToken,checkToken;prevToken=extra.tokens[extra.tokens.length-1];if(!prevToken){return scanRegExp()}if(prevToken.type==="Punctuator"){if(prevToken.value===")"){checkToken=extra.tokens[extra.openParenToken-1];if(checkToken&&checkToken.type==="Keyword"&&(checkToken.value==="if"||checkToken.value==="while"||checkToken.value==="for"||checkToken.value==="with")){return scanRegExp()}return scanPunctuator()}if(prevToken.value==="}"){if(extra.tokens[extra.openCurlyToken-3]&&extra.tokens[extra.openCurlyToken-3].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-4];if(!checkToken){return scanPunctuator()}}else if(extra.tokens[extra.openCurlyToken-4]&&extra.tokens[extra.openCurlyToken-4].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-5];if(!checkToken){return scanRegExp()}}else{return scanPunctuator()}if(FnExprTokens.indexOf(checkToken.value)>=0){return scanPunctuator()}return scanRegExp()}return scanRegExp()}if(prevToken.type==="Keyword"){return scanRegExp()}return scanPunctuator()}function advance(){var ch;skipComment();if(index>=length){return{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,range:[index,index]}}ch=source.charCodeAt(index);if(ch===40||ch===41||ch===58){return scanPunctuator()}if(ch===39||ch===34){return scanStringLiteral()}if(ch===96){return scanTemplate()}if(isIdentifierStart(ch)){return scanIdentifier()}if(ch===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(ch)){return scanNumericLiteral()}if(extra.tokenize&&ch===47){return advanceSlash()}return scanPunctuator()}function lex(){var token;token=lookahead;index=token.range[1];lineNumber=token.lineNumber;lineStart=token.lineStart;lookahead=advance();index=token.range[1];lineNumber=token.lineNumber;lineStart=token.lineStart;return token}function peek(){var pos,line,start;pos=index;line=lineNumber;start=lineStart;lookahead=advance();index=pos;lineNumber=line;lineStart=start}function lookahead2(){var adv,pos,line,start,result;adv=typeof extra.advance==="function"?extra.advance:advance;pos=index;line=lineNumber;start=lineStart;if(lookahead===null){lookahead=adv()}index=lookahead.range[1];lineNumber=lookahead.lineNumber;lineStart=lookahead.lineStart;result=adv();index=pos;lineNumber=line;lineStart=start;return result}SyntaxTreeDelegate={name:"SyntaxTree",postProcess:function(node){return node},createArrayExpression:function(elements){return{type:Syntax.ArrayExpression,elements:elements}},createAssignmentExpression:function(operator,left,right){return{type:Syntax.AssignmentExpression,operator:operator,left:left,right:right}},createBinaryExpression:function(operator,left,right){var type=operator==="||"||operator==="&&"?Syntax.LogicalExpression:Syntax.BinaryExpression;return{type:type,operator:operator,left:left,right:right}},createBlockStatement:function(body){return{type:Syntax.BlockStatement,body:body}},createBreakStatement:function(label){return{type:Syntax.BreakStatement,label:label}},createCallExpression:function(callee,args){return{type:Syntax.CallExpression,callee:callee,arguments:args}},createCatchClause:function(param,body){return{type:Syntax.CatchClause,param:param,body:body}},createConditionalExpression:function(test,consequent,alternate){return{type:Syntax.ConditionalExpression,test:test,consequent:consequent,alternate:alternate}},createContinueStatement:function(label){return{type:Syntax.ContinueStatement,label:label}},createDebuggerStatement:function(){return{type:Syntax.DebuggerStatement}},createDoWhileStatement:function(body,test){return{type:Syntax.DoWhileStatement,body:body,test:test}},createEmptyStatement:function(){return{type:Syntax.EmptyStatement}},createExpressionStatement:function(expression){return{type:Syntax.ExpressionStatement,expression:expression}},createForStatement:function(init,test,update,body){return{type:Syntax.ForStatement,init:init,test:test,update:update,body:body}},createForInStatement:function(left,right,body){return{type:Syntax.ForInStatement,left:left,right:right,body:body,each:false}},createForOfStatement:function(left,right,body){return{type:Syntax.ForOfStatement,left:left,right:right,body:body}},createFunctionDeclaration:function(id,params,defaults,body,rest,generator,expression){return{type:Syntax.FunctionDeclaration,id:id,params:params,defaults:defaults,body:body,rest:rest,generator:generator,expression:expression}},createFunctionExpression:function(id,params,defaults,body,rest,generator,expression){return{type:Syntax.FunctionExpression,id:id,params:params,defaults:defaults,body:body,rest:rest,generator:generator,expression:expression}},createIdentifier:function(name){return{type:Syntax.Identifier,name:name}},createIfStatement:function(test,consequent,alternate){return{type:Syntax.IfStatement,test:test,consequent:consequent,alternate:alternate}},createLabeledStatement:function(label,body){return{type:Syntax.LabeledStatement,label:label,body:body}},createLiteral:function(token){return{type:Syntax.Literal,value:token.value,raw:source.slice(token.range[0],token.range[1])}},createMemberExpression:function(accessor,object,property){return{type:Syntax.MemberExpression,computed:accessor==="[",object:object,property:property}},createNewExpression:function(callee,args){return{type:Syntax.NewExpression,callee:callee,arguments:args}},createObjectExpression:function(properties){return{type:Syntax.ObjectExpression,properties:properties}},createPostfixExpression:function(operator,argument){return{type:Syntax.UpdateExpression,operator:operator,argument:argument,prefix:false}},createProgram:function(body){return{type:Syntax.Program,body:body}},createProperty:function(kind,key,value,method,shorthand){return{type:Syntax.Property,key:key,value:value,kind:kind,method:method,shorthand:shorthand}},createReturnStatement:function(argument){return{type:Syntax.ReturnStatement,argument:argument}},createSequenceExpression:function(expressions){return{type:Syntax.SequenceExpression,expressions:expressions}},createSwitchCase:function(test,consequent){return{type:Syntax.SwitchCase,test:test,consequent:consequent}},createSwitchStatement:function(discriminant,cases){return{type:Syntax.SwitchStatement,discriminant:discriminant,cases:cases}},createThisExpression:function(){return{type:Syntax.ThisExpression}},createThrowStatement:function(argument){return{type:Syntax.ThrowStatement,argument:argument}},createTryStatement:function(block,guardedHandlers,handlers,finalizer){return{type:Syntax.TryStatement,block:block,guardedHandlers:guardedHandlers,handlers:handlers,finalizer:finalizer}},createUnaryExpression:function(operator,argument){if(operator==="++"||operator==="--"){return{type:Syntax.UpdateExpression,operator:operator,argument:argument,prefix:true}}return{type:Syntax.UnaryExpression,operator:operator,argument:argument}},createVariableDeclaration:function(declarations,kind){return{type:Syntax.VariableDeclaration,declarations:declarations,kind:kind}},createVariableDeclarator:function(id,init){return{type:Syntax.VariableDeclarator,id:id,init:init}},createWhileStatement:function(test,body){return{type:Syntax.WhileStatement,test:test,body:body}},createWithStatement:function(object,body){return{type:Syntax.WithStatement,object:object,body:body}},createTemplateElement:function(value,tail){return{type:Syntax.TemplateElement,value:value,tail:tail}},createTemplateLiteral:function(quasis,expressions){return{type:Syntax.TemplateLiteral,quasis:quasis,expressions:expressions}},createSpreadElement:function(argument){return{type:Syntax.SpreadElement,argument:argument}},createTaggedTemplateExpression:function(tag,quasi){return{type:Syntax.TaggedTemplateExpression,tag:tag,quasi:quasi}},createArrowFunctionExpression:function(params,defaults,body,rest,expression){return{type:Syntax.ArrowFunctionExpression,id:null,params:params,defaults:defaults,body:body,rest:rest,generator:false,expression:expression}},createMethodDefinition:function(propertyType,kind,key,value){return{type:Syntax.MethodDefinition,key:key,value:value,kind:kind,"static":propertyType===ClassPropertyType.static}},createClassBody:function(body){return{type:Syntax.ClassBody,body:body}},createClassExpression:function(id,superClass,body){return{type:Syntax.ClassExpression,id:id,superClass:superClass,body:body}},createClassDeclaration:function(id,superClass,body){return{type:Syntax.ClassDeclaration,id:id,superClass:superClass,body:body}},createExportSpecifier:function(id,name){return{type:Syntax.ExportSpecifier,id:id,name:name}},createExportBatchSpecifier:function(){return{type:Syntax.ExportBatchSpecifier}},createExportDeclaration:function(def,declaration,specifiers,source){return{type:Syntax.ExportDeclaration,declaration:declaration,"default":def,specifiers:specifiers,source:source}},createImportSpecifier:function(id,name){return{type:Syntax.ImportSpecifier,id:id,name:name}},createImportDeclaration:function(specifiers,kind,source){return{type:Syntax.ImportDeclaration,specifiers:specifiers,kind:kind,source:source}},createYieldExpression:function(argument,delegate){return{type:Syntax.YieldExpression,argument:argument,delegate:delegate}},createModuleDeclaration:function(id,source,body){return{type:Syntax.ModuleDeclaration,id:id,source:source,body:body}}};function peekLineTerminator(){var pos,line,start,found;pos=index;line=lineNumber;start=lineStart;skipComment();found=lineNumber!==line;index=pos;lineNumber=line;lineStart=start;return found}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,function(whole,index){assert(index<args.length,"Message reference must be in range");return args[index]});if(typeof token.lineNumber==="number"){error=new Error("Line "+token.lineNumber+": "+msg);error.index=token.range[0];error.lineNumber=token.lineNumber;error.column=token.range[0]-lineStart+1}else{error=new Error("Line "+lineNumber+": "+msg);error.index=index;error.lineNumber=lineNumber;error.column=index-lineStart+1}error.description=msg;throw error}function throwErrorTolerant(){try{throwError.apply(null,arguments)}catch(e){if(extra.errors){extra.errors.push(e)}else{throw e}}}function throwUnexpected(token){if(token.type===Token.EOF){throwError(token,Messages.UnexpectedEOS)}if(token.type===Token.NumericLiteral){throwError(token,Messages.UnexpectedNumber)}if(token.type===Token.StringLiteral){throwError(token,Messages.UnexpectedString)}if(token.type===Token.Identifier){throwError(token,Messages.UnexpectedIdentifier)}if(token.type===Token.Keyword){if(isFutureReservedWord(token.value)){throwError(token,Messages.UnexpectedReserved)}else if(strict&&isStrictModeReservedWord(token.value)){throwErrorTolerant(token,Messages.StrictReservedWord);return}throwError(token,Messages.UnexpectedToken,token.value)}if(token.type===Token.Template){throwError(token,Messages.UnexpectedTemplate,token.value.raw)}throwError(token,Messages.UnexpectedToken,token.value)}function expect(value){var token=lex();if(token.type!==Token.Punctuator||token.value!==value){throwUnexpected(token)}}function expectKeyword(keyword){var token=lex();if(token.type!==Token.Keyword||token.value!==keyword){throwUnexpected(token)}}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function matchContextualKeyword(keyword){return lookahead.type===Token.Identifier&&lookahead.value===keyword}function matchAssign(){var op;if(lookahead.type!==Token.Punctuator){return false}op=lookahead.value;return op==="="||op==="*="||op==="/="||op==="%="||op==="+="||op==="-="||op==="<<="||op===">>="||op===">>>="||op==="&="||op==="^="||op==="|="}function consumeSemicolon(){var line;if(source.charCodeAt(index)===59){lex();return}line=lineNumber;skipComment();if(lineNumber!==line){return}if(match(";")){lex();return}if(lookahead.type!==Token.EOF&&!match("}")){throwUnexpected(lookahead)}}function isLeftHandSide(expr){return expr.type===Syntax.Identifier||expr.type===Syntax.MemberExpression}function isAssignableLeftHandSide(expr){return isLeftHandSide(expr)||expr.type===Syntax.ObjectPattern||expr.type===Syntax.ArrayPattern}function parseArrayInitialiser(){var elements=[],blocks=[],filter=null,tmp,possiblecomprehension=true,body;expect("[");while(!match("]")){if(lookahead.value==="for"&&lookahead.type===Token.Keyword){if(!possiblecomprehension){throwError({},Messages.ComprehensionError)}matchKeyword("for");tmp=parseForStatement({ignore_body:true});tmp.of=tmp.type===Syntax.ForOfStatement;tmp.type=Syntax.ComprehensionBlock;if(tmp.left.kind){throwError({},Messages.ComprehensionError)}blocks.push(tmp)}else if(lookahead.value==="if"&&lookahead.type===Token.Keyword){if(!possiblecomprehension){throwError({},Messages.ComprehensionError)}expectKeyword("if");expect("(");filter=parseExpression();expect(")")}else if(lookahead.value===","&&lookahead.type===Token.Punctuator){possiblecomprehension=false;lex();elements.push(null)}else{tmp=parseSpreadOrAssignmentExpression();elements.push(tmp);if(tmp&&tmp.type===Syntax.SpreadElement){if(!match("]")){throwError({},Messages.ElementAfterSpreadElement)}}else if(!(match("]")||matchKeyword("for")||matchKeyword("if"))){expect(",");possiblecomprehension=false}}}expect("]");if(filter&&!blocks.length){throwError({},Messages.ComprehensionRequiresBlock)}if(blocks.length){if(elements.length!==1){throwError({},Messages.ComprehensionError)}return{type:Syntax.ComprehensionExpression,filter:filter,blocks:blocks,body:elements[0]}}return delegate.createArrayExpression(elements)}function parsePropertyFunction(options){var previousStrict,previousYieldAllowed,params,defaults,body;previousStrict=strict;previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=options.generator;params=options.params||[];defaults=options.defaults||[];body=parseConciseBody();if(options.name&&strict&&isRestrictedWord(params[0].name)){throwErrorTolerant(options.name,Messages.StrictParamName)}if(state.yieldAllowed&&!state.yieldFound){throwErrorTolerant({},Messages.NoYieldInGenerator)}strict=previousStrict;state.yieldAllowed=previousYieldAllowed;return delegate.createFunctionExpression(null,params,defaults,body,options.rest||null,options.generator,body.type!==Syntax.BlockStatement)}function parsePropertyMethodFunction(options){var previousStrict,tmp,method;previousStrict=strict;strict=true;tmp=parseParams();if(tmp.stricted){throwErrorTolerant(tmp.stricted,tmp.message)}method=parsePropertyFunction({params:tmp.params,defaults:tmp.defaults,rest:tmp.rest,generator:options.generator});strict=previousStrict;return method}function parseObjectPropertyKey(){var token=lex();if(token.type===Token.StringLiteral||token.type===Token.NumericLiteral){if(strict&&token.octal){throwErrorTolerant(token,Messages.StrictOctalLiteral)}return delegate.createLiteral(token)}return delegate.createIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value,param;token=lookahead;if(token.type===Token.Identifier){id=parseObjectPropertyKey();if(token.value==="get"&&!(match(":")||match("("))){key=parseObjectPropertyKey();expect("(");expect(")");return delegate.createProperty("get",key,parsePropertyFunction({generator:false}),false,false)}if(token.value==="set"&&!(match(":")||match("("))){key=parseObjectPropertyKey();expect("(");token=lookahead;param=[parseVariableIdentifier()];expect(")");return delegate.createProperty("set",key,parsePropertyFunction({params:param,generator:false,name:token}),false,false)}if(match(":")){lex();return delegate.createProperty("init",id,parseAssignmentExpression(),false,false)}if(match("(")){return delegate.createProperty("init",id,parsePropertyMethodFunction({generator:false}),true,false)}return delegate.createProperty("init",id,id,false,true)}if(token.type===Token.EOF||token.type===Token.Punctuator){if(!match("*")){throwUnexpected(token)}lex();id=parseObjectPropertyKey();if(!match("(")){throwUnexpected(lex())}return delegate.createProperty("init",id,parsePropertyMethodFunction({generator:true}),true,false)}key=parseObjectPropertyKey();if(match(":")){lex();return delegate.createProperty("init",key,parseAssignmentExpression(),false,false)}if(match("(")){return delegate.createProperty("init",key,parsePropertyMethodFunction({generator:false}),true,false)}throwUnexpected(lex())}function parseObjectInitialiser(){var properties=[],property,name,key,kind,map={},toString=String;expect("{");while(!match("}")){property=parseObjectProperty();if(property.key.type===Syntax.Identifier){name=property.key.name}else{name=toString(property.key.value)}kind=property.kind==="init"?PropertyKind.Data:property.kind==="get"?PropertyKind.Get:PropertyKind.Set;key="$"+name;if(Object.prototype.hasOwnProperty.call(map,key)){if(map[key]===PropertyKind.Data){if(strict&&kind===PropertyKind.Data){throwErrorTolerant({},Messages.StrictDuplicateProperty)}else if(kind!==PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}}else{if(kind===PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}else if(map[key]&kind){throwErrorTolerant({},Messages.AccessorGetSet)}}map[key]|=kind}else{map[key]=kind}properties.push(property);if(!match("}")){expect(",")}}expect("}");return delegate.createObjectExpression(properties)}function parseTemplateElement(option){var token=scanTemplateElement(option);if(strict&&token.octal){throwError(token,Messages.StrictOctalLiteral)}return delegate.createTemplateElement({raw:token.value.raw,cooked:token.value.cooked},token.tail)}function parseTemplateLiteral(){var quasi,quasis,expressions;quasi=parseTemplateElement({head:true});quasis=[quasi];expressions=[];while(!quasi.tail){expressions.push(parseExpression());quasi=parseTemplateElement({head:false});quasis.push(quasi)}return delegate.createTemplateLiteral(quasis,expressions)}function parseGroupExpression(){var expr;expect("(");++state.parenthesizedCount;expr=parseExpression();expect(")");return expr}function parsePrimaryExpression(){var type,token;token=lookahead;type=lookahead.type;if(type===Token.Identifier){lex();return delegate.createIdentifier(token.value)}if(type===Token.StringLiteral||type===Token.NumericLiteral){if(strict&&lookahead.octal){throwErrorTolerant(lookahead,Messages.StrictOctalLiteral)}return delegate.createLiteral(lex())}if(type===Token.Keyword){if(matchKeyword("this")){lex();return delegate.createThisExpression()}if(matchKeyword("function")){return parseFunctionExpression()}if(matchKeyword("class")){return parseClassExpression()}if(matchKeyword("super")){lex();return delegate.createIdentifier("super")}}if(type===Token.BooleanLiteral){token=lex();token.value=token.value==="true";return delegate.createLiteral(token)}if(type===Token.NullLiteral){token=lex();token.value=null;return delegate.createLiteral(token)}if(match("[")){return parseArrayInitialiser()}if(match("{")){return parseObjectInitialiser()}if(match("(")){return parseGroupExpression()}if(match("/")||match("/=")){return delegate.createLiteral(scanRegExp())}if(type===Token.Template){return parseTemplateLiteral()}return throwUnexpected(lex())}function parseArguments(){var args=[],arg;expect("(");if(!match(")")){while(index<length){arg=parseSpreadOrAssignmentExpression();args.push(arg);if(match(")")){break}else if(arg.type===Syntax.SpreadElement){throwError({},Messages.ElementAfterSpreadElement)}expect(",")}}expect(")");return args}function parseSpreadOrAssignmentExpression(){if(match("...")){lex();return delegate.createSpreadElement(parseAssignmentExpression())}return parseAssignmentExpression()}function parseNonComputedProperty(){var token=lex();if(!isIdentifierName(token)){throwUnexpected(token)}return delegate.createIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){var expr;expect("[");expr=parseExpression();expect("]");return expr}function parseNewExpression(){var callee,args;
expectKeyword("new");callee=parseLeftHandSideExpression();args=match("(")?parseArguments():[];return delegate.createNewExpression(callee,args)}function parseLeftHandSideExpressionAllowCall(){var expr,args,property;expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();while(match(".")||match("[")||match("(")||lookahead.type===Token.Template){if(match("(")){args=parseArguments();expr=delegate.createCallExpression(expr,args)}else if(match("[")){expr=delegate.createMemberExpression("[",expr,parseComputedMember())}else if(match(".")){expr=delegate.createMemberExpression(".",expr,parseNonComputedMember())}else{expr=delegate.createTaggedTemplateExpression(expr,parseTemplateLiteral())}}return expr}function parseLeftHandSideExpression(){var expr,property;expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();while(match(".")||match("[")||lookahead.type===Token.Template){if(match("[")){expr=delegate.createMemberExpression("[",expr,parseComputedMember())}else if(match(".")){expr=delegate.createMemberExpression(".",expr,parseNonComputedMember())}else{expr=delegate.createTaggedTemplateExpression(expr,parseTemplateLiteral())}}return expr}function parsePostfixExpression(){var expr=parseLeftHandSideExpressionAllowCall(),token=lookahead;if(lookahead.type!==Token.Punctuator){return expr}if((match("++")||match("--"))&&!peekLineTerminator()){if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant({},Messages.StrictLHSPostfix)}if(!isLeftHandSide(expr)){throwError({},Messages.InvalidLHSInAssignment)}token=lex();expr=delegate.createPostfixExpression(token.value,expr)}return expr}function parseUnaryExpression(){var token,expr;if(lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword){return parsePostfixExpression()}if(match("++")||match("--")){token=lex();expr=parseUnaryExpression();if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant({},Messages.StrictLHSPrefix)}if(!isLeftHandSide(expr)){throwError({},Messages.InvalidLHSInAssignment)}return delegate.createUnaryExpression(token.value,expr)}if(match("+")||match("-")||match("~")||match("!")){token=lex();expr=parseUnaryExpression();return delegate.createUnaryExpression(token.value,expr)}if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){token=lex();expr=parseUnaryExpression();expr=delegate.createUnaryExpression(token.value,expr);if(strict&&expr.operator==="delete"&&expr.argument.type===Syntax.Identifier){throwErrorTolerant({},Messages.StrictDelete)}return expr}return parsePostfixExpression()}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break;default:break}return prec}function parseBinaryExpression(){var expr,token,prec,previousAllowIn,stack,right,operator,left,i;previousAllowIn=state.allowIn;state.allowIn=true;expr=parseUnaryExpression();token=lookahead;prec=binaryPrecedence(token,previousAllowIn);if(prec===0){return expr}token.prec=prec;lex();stack=[expr,token,parseUnaryExpression()];while((prec=binaryPrecedence(lookahead,previousAllowIn))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();stack.push(delegate.createBinaryExpression(operator,left,right))}token=lex();token.prec=prec;stack.push(token);stack.push(parseUnaryExpression())}state.allowIn=previousAllowIn;i=stack.length-1;expr=stack[i];while(i>1){expr=delegate.createBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate;expr=parseBinaryExpression();if(match("?")){lex();previousAllowIn=state.allowIn;state.allowIn=true;consequent=parseAssignmentExpression();state.allowIn=previousAllowIn;expect(":");alternate=parseAssignmentExpression();expr=delegate.createConditionalExpression(expr,consequent,alternate)}return expr}function reinterpretAsAssignmentBindingPattern(expr){var i,len,property,element;if(expr.type===Syntax.ObjectExpression){expr.type=Syntax.ObjectPattern;for(i=0,len=expr.properties.length;i<len;i+=1){property=expr.properties[i];if(property.kind!=="init"){throwError({},Messages.InvalidLHSInAssignment)}reinterpretAsAssignmentBindingPattern(property.value)}}else if(expr.type===Syntax.ArrayExpression){expr.type=Syntax.ArrayPattern;for(i=0,len=expr.elements.length;i<len;i+=1){element=expr.elements[i];if(element){reinterpretAsAssignmentBindingPattern(element)}}}else if(expr.type===Syntax.Identifier){if(isRestrictedWord(expr.name)){throwError({},Messages.InvalidLHSInAssignment)}}else if(expr.type===Syntax.SpreadElement){reinterpretAsAssignmentBindingPattern(expr.argument);if(expr.argument.type===Syntax.ObjectPattern){throwError({},Messages.ObjectPatternAsSpread)}}else{if(expr.type!==Syntax.MemberExpression&&expr.type!==Syntax.CallExpression&&expr.type!==Syntax.NewExpression){throwError({},Messages.InvalidLHSInAssignment)}}}function reinterpretAsDestructuredParameter(options,expr){var i,len,property,element;if(expr.type===Syntax.ObjectExpression){expr.type=Syntax.ObjectPattern;for(i=0,len=expr.properties.length;i<len;i+=1){property=expr.properties[i];if(property.kind!=="init"){throwError({},Messages.InvalidLHSInFormalsList)}reinterpretAsDestructuredParameter(options,property.value)}}else if(expr.type===Syntax.ArrayExpression){expr.type=Syntax.ArrayPattern;for(i=0,len=expr.elements.length;i<len;i+=1){element=expr.elements[i];if(element){reinterpretAsDestructuredParameter(options,element)}}}else if(expr.type===Syntax.Identifier){validateParam(options,expr,expr.name)}else{if(expr.type!==Syntax.MemberExpression){throwError({},Messages.InvalidLHSInFormalsList)}}}function reinterpretAsCoverFormalsList(expressions){var i,len,param,params,defaults,defaultCount,options,rest;params=[];defaults=[];defaultCount=0;rest=null;options={paramSet:{}};for(i=0,len=expressions.length;i<len;i+=1){param=expressions[i];if(param.type===Syntax.Identifier){params.push(param);defaults.push(null);validateParam(options,param,param.name)}else if(param.type===Syntax.ObjectExpression||param.type===Syntax.ArrayExpression){reinterpretAsDestructuredParameter(options,param);params.push(param);defaults.push(null)}else if(param.type===Syntax.SpreadElement){assert(i===len-1,"It is guaranteed that SpreadElement is last element by parseExpression");reinterpretAsDestructuredParameter(options,param.argument);rest=param.argument}else if(param.type===Syntax.AssignmentExpression){params.push(param.left);defaults.push(param.right);++defaultCount;validateParam(options,param.left,param.left.name)}else{return null}}if(options.message===Messages.StrictParamDupe){throwError(strict?options.stricted:options.firstRestricted,options.message)}if(defaultCount===0){defaults=[]}return{params:params,defaults:defaults,rest:rest,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseArrowFunctionExpression(options){var previousStrict,previousYieldAllowed,body;expect("=>");previousStrict=strict;previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=false;body=parseConciseBody();if(strict&&options.firstRestricted){throwError(options.firstRestricted,options.message)}if(strict&&options.stricted){throwErrorTolerant(options.stricted,options.message)}strict=previousStrict;state.yieldAllowed=previousYieldAllowed;return delegate.createArrowFunctionExpression(options.params,options.defaults,body,options.rest,body.type!==Syntax.BlockStatement)}function parseAssignmentExpression(){var expr,token,params,oldParenthesizedCount;if(matchKeyword("yield")){return parseYieldExpression()}oldParenthesizedCount=state.parenthesizedCount;if(match("(")){token=lookahead2();if(token.type===Token.Punctuator&&token.value===")"||token.value==="..."){params=parseParams();if(!match("=>")){throwUnexpected(lex())}return parseArrowFunctionExpression(params)}}token=lookahead;expr=parseConditionalExpression();if(match("=>")&&(state.parenthesizedCount===oldParenthesizedCount||state.parenthesizedCount===oldParenthesizedCount+1)){if(expr.type===Syntax.Identifier){params=reinterpretAsCoverFormalsList([expr])}else if(expr.type===Syntax.SequenceExpression){params=reinterpretAsCoverFormalsList(expr.expressions)}if(params){return parseArrowFunctionExpression(params)}}if(matchAssign()){if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant(token,Messages.StrictLHSAssignment)}if(match("=")&&(expr.type===Syntax.ObjectExpression||expr.type===Syntax.ArrayExpression)){reinterpretAsAssignmentBindingPattern(expr)}else if(!isLeftHandSide(expr)){throwError({},Messages.InvalidLHSInAssignment)}expr=delegate.createAssignmentExpression(lex().value,expr,parseAssignmentExpression())}return expr}function parseExpression(){var expr,expressions,sequence,coverFormalsList,spreadFound,oldParenthesizedCount;oldParenthesizedCount=state.parenthesizedCount;expr=parseAssignmentExpression();expressions=[expr];if(match(",")){while(index<length){if(!match(",")){break}lex();expr=parseSpreadOrAssignmentExpression();expressions.push(expr);if(expr.type===Syntax.SpreadElement){spreadFound=true;if(!match(")")){throwError({},Messages.ElementAfterSpreadElement)}break}}sequence=delegate.createSequenceExpression(expressions)}if(match("=>")){if(state.parenthesizedCount===oldParenthesizedCount||state.parenthesizedCount===oldParenthesizedCount+1){expr=expr.type===Syntax.SequenceExpression?expr.expressions:expressions;coverFormalsList=reinterpretAsCoverFormalsList(expr);if(coverFormalsList){return parseArrowFunctionExpression(coverFormalsList)}}throwUnexpected(lex())}if(spreadFound&&lookahead2().value!=="=>"){throwError({},Messages.IllegalSpread)}return sequence||expr}function parseStatementList(){var list=[],statement;while(index<length){if(match("}")){break}statement=parseSourceElement();if(typeof statement==="undefined"){break}list.push(statement)}return list}function parseBlock(){var block;expect("{");block=parseStatementList();expect("}");return delegate.createBlockStatement(block)}function parseVariableIdentifier(){var token=lex();if(token.type!==Token.Identifier){throwUnexpected(token)}return delegate.createIdentifier(token.value)}function parseVariableDeclaration(kind){var id,init=null;if(match("{")){id=parseObjectInitialiser();reinterpretAsAssignmentBindingPattern(id)}else if(match("[")){id=parseArrayInitialiser();reinterpretAsAssignmentBindingPattern(id)}else{if(state.allowDefault){id=matchKeyword("default")?parseNonComputedProperty():parseVariableIdentifier()}else{id=parseVariableIdentifier()}if(strict&&isRestrictedWord(id.name)){throwErrorTolerant({},Messages.StrictVarName)}}if(kind==="const"){if(!match("=")){throwError({},Messages.NoUnintializedConst)}expect("=");init=parseAssignmentExpression()}else if(match("=")){lex();init=parseAssignmentExpression()}return delegate.createVariableDeclarator(id,init)}function parseVariableDeclarationList(kind){var list=[];do{list.push(parseVariableDeclaration(kind));if(!match(",")){break}lex()}while(index<length);return list}function parseVariableStatement(){var declarations;expectKeyword("var");declarations=parseVariableDeclarationList();consumeSemicolon();return delegate.createVariableDeclaration(declarations,"var")}function parseConstLetDeclaration(kind){var declarations;expectKeyword(kind);declarations=parseVariableDeclarationList(kind);consumeSemicolon();return delegate.createVariableDeclaration(declarations,kind)}function parseModuleDeclaration(){var id,src,body;lex();if(peekLineTerminator()){throwError({},Messages.NewlineAfterModule)}switch(lookahead.type){case Token.StringLiteral:id=parsePrimaryExpression();body=parseModuleBlock();src=null;break;case Token.Identifier:id=parseVariableIdentifier();body=null;if(!matchContextualKeyword("from")){throwUnexpected(lex())}lex();src=parsePrimaryExpression();if(src.type!==Syntax.Literal){throwError({},Messages.InvalidModuleSpecifier)}break}consumeSemicolon();return delegate.createModuleDeclaration(id,src,body)}function parseExportBatchSpecifier(){expect("*");return delegate.createExportBatchSpecifier()}function parseExportSpecifier(){var id,name=null;id=parseVariableIdentifier();if(matchContextualKeyword("as")){lex();name=parseNonComputedProperty()}return delegate.createExportSpecifier(id,name)}function parseExportDeclaration(){var previousAllowDefault,decl,def,src,specifiers;expectKeyword("export");if(matchKeyword("default")){lex();if(match("=")){lex();def=parseAssignmentExpression()}else if(lookahead.type===Token.Keyword){switch(lookahead.value){case"let":case"const":case"var":case"class":def=parseSourceElement();break;case"function":def=parseFunctionExpression();break;default:throwUnexpected(lex())}}else{def=parseAssignmentExpression()}consumeSemicolon();return delegate.createExportDeclaration(true,def,null,null)}if(lookahead.type===Token.Keyword){switch(lookahead.value){case"let":case"const":case"var":case"class":case"function":previousAllowDefault=state.allowDefault;state.allowDefault=true;decl=delegate.createExportDeclaration(false,parseSourceElement(),null,null);state.allowDefault=previousAllowDefault;return decl}throwUnexpected(lex())}specifiers=[];src=null;if(match("*")){specifiers.push(parseExportBatchSpecifier())}else{expect("{");do{specifiers.push(parseExportSpecifier())}while(match(",")&&lex());expect("}")}if(matchContextualKeyword("from")){lex();src=parsePrimaryExpression();if(src.type!==Syntax.Literal){throwError({},Messages.InvalidModuleSpecifier)}}consumeSemicolon();return delegate.createExportDeclaration(false,null,specifiers,src)}function parseImportDeclaration(){var specifiers,kind,src;expectKeyword("import");specifiers=[];if(isIdentifierName(lookahead)){kind="default";specifiers.push(parseImportSpecifier());if(!matchContextualKeyword("from")){throwError({},Messages.NoFromAfterImport)}lex()}else if(match("{")){kind="named";lex();do{specifiers.push(parseImportSpecifier())}while(match(",")&&lex());expect("}");if(!matchContextualKeyword("from")){throwError({},Messages.NoFromAfterImport)}lex()}src=parsePrimaryExpression();if(src.type!==Syntax.Literal){throwError({},Messages.InvalidModuleSpecifier)}consumeSemicolon();return delegate.createImportDeclaration(specifiers,kind,src)}function parseImportSpecifier(){var id,name=null;id=parseNonComputedProperty();if(matchContextualKeyword("as")){lex();name=parseVariableIdentifier()}return delegate.createImportSpecifier(id,name)}function parseEmptyStatement(){expect(";");return delegate.createEmptyStatement()}function parseExpressionStatement(){var expr=parseExpression();consumeSemicolon();return delegate.createExpressionStatement(expr)}function parseIfStatement(){var test,consequent,alternate;expectKeyword("if");expect("(");test=parseExpression();expect(")");consequent=parseStatement();if(matchKeyword("else")){lex();alternate=parseStatement()}else{alternate=null}return delegate.createIfStatement(test,consequent,alternate)}function parseDoWhileStatement(){var body,test,oldInIteration;expectKeyword("do");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");if(match(";")){lex()}return delegate.createDoWhileStatement(body,test)}function parseWhileStatement(){var test,body,oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;return delegate.createWhileStatement(test,body)}function parseForVariableDeclaration(){var token=lex(),declarations=parseVariableDeclarationList();return delegate.createVariableDeclaration(declarations,token.value)}function parseForStatement(opts){var init,test,update,left,right,body,operator,oldInIteration;init=test=update=null;expectKeyword("for");if(matchContextualKeyword("each")){throwError({},Messages.EachNotAllowed)}expect("(");if(match(";")){lex()}else{if(matchKeyword("var")||matchKeyword("let")||matchKeyword("const")){state.allowIn=false;init=parseForVariableDeclaration();state.allowIn=true;if(init.declarations.length===1){if(matchKeyword("in")||matchContextualKeyword("of")){operator=lookahead;if(!((operator.value==="in"||init.kind!=="var")&&init.declarations[0].init)){lex();left=init;right=parseExpression();init=null}}}}else{state.allowIn=false;init=parseExpression();state.allowIn=true;if(matchContextualKeyword("of")){operator=lex();left=init;right=parseExpression();init=null}else if(matchKeyword("in")){if(!isAssignableLeftHandSide(init)){throwError({},Messages.InvalidLHSInForIn)}operator=lex();left=init;right=parseExpression();init=null}}if(typeof left==="undefined"){expect(";")}}if(typeof left==="undefined"){if(!match(";")){test=parseExpression()}expect(";");if(!match(")")){update=parseExpression()}}expect(")");oldInIteration=state.inIteration;state.inIteration=true;if(!(opts!==undefined&&opts.ignore_body)){body=parseStatement()}state.inIteration=oldInIteration;if(typeof left==="undefined"){return delegate.createForStatement(init,test,update,body)}if(operator.value==="in"){return delegate.createForInStatement(left,right,body)}return delegate.createForOfStatement(left,right,body)}function parseContinueStatement(){var label=null,key;expectKeyword("continue");if(source.charCodeAt(index)===59){lex();if(!state.inIteration){throwError({},Messages.IllegalContinue)}return delegate.createContinueStatement(null)}if(peekLineTerminator()){if(!state.inIteration){throwError({},Messages.IllegalContinue)}return delegate.createContinueStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!state.inIteration){throwError({},Messages.IllegalContinue)}return delegate.createContinueStatement(label)}function parseBreakStatement(){var label=null,key;expectKeyword("break");if(source.charCodeAt(index)===59){lex();if(!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return delegate.createBreakStatement(null)}if(peekLineTerminator()){if(!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return delegate.createBreakStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return delegate.createBreakStatement(label)}function parseReturnStatement(){var argument=null;expectKeyword("return");if(!state.inFunctionBody){throwErrorTolerant({},Messages.IllegalReturn)}if(source.charCodeAt(index)===32){if(isIdentifierStart(source.charCodeAt(index+1))){argument=parseExpression();consumeSemicolon();return delegate.createReturnStatement(argument)}}if(peekLineTerminator()){return delegate.createReturnStatement(null)}if(!match(";")){if(!match("}")&&lookahead.type!==Token.EOF){argument=parseExpression()}}consumeSemicolon();return delegate.createReturnStatement(argument)}function parseWithStatement(){var object,body;if(strict){throwErrorTolerant({},Messages.StrictModeWith)}expectKeyword("with");expect("(");object=parseExpression();expect(")");body=parseStatement();return delegate.createWithStatement(object,body)}function parseSwitchCase(){var test,consequent=[],sourceElement;if(matchKeyword("default")){lex();test=null}else{expectKeyword("case");test=parseExpression()}expect(":");while(index<length){if(match("}")||matchKeyword("default")||matchKeyword("case")){break}sourceElement=parseSourceElement();if(typeof sourceElement==="undefined"){break}consequent.push(sourceElement)}return delegate.createSwitchCase(test,consequent)}function parseSwitchStatement(){var discriminant,cases,clause,oldInSwitch,defaultFound;expectKeyword("switch");expect("(");discriminant=parseExpression();expect(")");expect("{");cases=[];if(match("}")){lex();return delegate.createSwitchStatement(discriminant,cases)}oldInSwitch=state.inSwitch;state.inSwitch=true;defaultFound=false;while(index<length){if(match("}")){break}clause=parseSwitchCase();if(clause.test===null){if(defaultFound){throwError({},Messages.MultipleDefaultsInSwitch)}defaultFound=true}cases.push(clause)}state.inSwitch=oldInSwitch;expect("}");return delegate.createSwitchStatement(discriminant,cases)}function parseThrowStatement(){var argument;expectKeyword("throw");if(peekLineTerminator()){throwError({},Messages.NewlineAfterThrow)}argument=parseExpression();consumeSemicolon();return delegate.createThrowStatement(argument)}function parseCatchClause(){var param,body;expectKeyword("catch");expect("(");if(match(")")){throwUnexpected(lookahead)}param=parseExpression();if(strict&&param.type===Syntax.Identifier&&isRestrictedWord(param.name)){throwErrorTolerant({},Messages.StrictCatchVariable)}expect(")");body=parseBlock();return delegate.createCatchClause(param,body)}function parseTryStatement(){var block,handlers=[],finalizer=null;expectKeyword("try");block=parseBlock();if(matchKeyword("catch")){handlers.push(parseCatchClause())}if(matchKeyword("finally")){lex();finalizer=parseBlock()}if(handlers.length===0&&!finalizer){throwError({},Messages.NoCatchOrFinally)}return delegate.createTryStatement(block,[],handlers,finalizer)}function parseDebuggerStatement(){expectKeyword("debugger");consumeSemicolon();return delegate.createDebuggerStatement()}function parseStatement(){var type=lookahead.type,expr,labeledBody,key;if(type===Token.EOF){throwUnexpected(lookahead)}if(type===Token.Punctuator){switch(lookahead.value){case";":return parseEmptyStatement();case"{":return parseBlock();case"(":return parseExpressionStatement();default:break}}if(type===Token.Keyword){switch(lookahead.value){case"break":return parseBreakStatement();case"continue":return parseContinueStatement();case"debugger":return parseDebuggerStatement();case"do":return parseDoWhileStatement();case"for":return parseForStatement();case"function":return parseFunctionDeclaration();case"class":return parseClassDeclaration();case"if":return parseIfStatement();case"return":return parseReturnStatement();case"switch":return parseSwitchStatement();case"throw":return parseThrowStatement();case"try":return parseTryStatement();case"var":return parseVariableStatement();case"while":return parseWhileStatement();case"with":return parseWithStatement();default:break}}expr=parseExpression();if(expr.type===Syntax.Identifier&&match(":")){lex();key="$"+expr.name;if(Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.Redeclaration,"Label",expr.name)}state.labelSet[key]=true;labeledBody=parseStatement();delete state.labelSet[key];return delegate.createLabeledStatement(expr,labeledBody)}consumeSemicolon();return delegate.createExpressionStatement(expr)}function parseConciseBody(){if(match("{")){return parseFunctionSourceElements()}return parseAssignmentExpression()}function parseFunctionSourceElements(){var sourceElement,sourceElements=[],token,directive,firstRestricted,oldLabelSet,oldInIteration,oldInSwitch,oldInFunctionBody,oldParenthesizedCount;expect("{");while(index<length){if(lookahead.type!==Token.StringLiteral){break}token=lookahead;sourceElement=parseSourceElement();sourceElements.push(sourceElement);if(sourceElement.expression.type!==Syntax.Literal){break}directive=source.slice(token.range[0]+1,token.range[1]-1);if(directive==="use strict"){strict=true;if(firstRestricted){throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}oldLabelSet=state.labelSet;oldInIteration=state.inIteration;oldInSwitch=state.inSwitch;oldInFunctionBody=state.inFunctionBody;oldParenthesizedCount=state.parenthesizedCount;state.labelSet={};state.inIteration=false;state.inSwitch=false;state.inFunctionBody=true;state.parenthesizedCount=0;while(index<length){if(match("}")){break}sourceElement=parseSourceElement();if(typeof sourceElement==="undefined"){break}sourceElements.push(sourceElement)}expect("}");state.labelSet=oldLabelSet;state.inIteration=oldInIteration;state.inSwitch=oldInSwitch;state.inFunctionBody=oldInFunctionBody;state.parenthesizedCount=oldParenthesizedCount;return delegate.createBlockStatement(sourceElements)}function validateParam(options,param,name){var key="$"+name;if(strict){if(isRestrictedWord(name)){options.stricted=param;options.message=Messages.StrictParamName}if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=Messages.StrictParamDupe}}else if(!options.firstRestricted){if(isRestrictedWord(name)){options.firstRestricted=param;options.message=Messages.StrictParamName}else if(isStrictModeReservedWord(name)){options.firstRestricted=param;options.message=Messages.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.firstRestricted=param;options.message=Messages.StrictParamDupe}}options.paramSet[key]=true}function parseParam(options){var token,rest,param,def;token=lookahead;if(token.value==="..."){token=lex();rest=true}if(match("[")){param=parseArrayInitialiser();reinterpretAsDestructuredParameter(options,param)}else if(match("{")){if(rest){throwError({},Messages.ObjectPatternAsRestParameter)}param=parseObjectInitialiser();reinterpretAsDestructuredParameter(options,param)}else{param=parseVariableIdentifier();validateParam(options,token,token.value);if(match("=")){if(rest){throwErrorTolerant(lookahead,Messages.DefaultRestParameter)}lex();def=parseAssignmentExpression();++options.defaultCount}}if(rest){if(!match(")")){throwError({},Messages.ParameterAfterRestParameter)}options.rest=param;return false}options.params.push(param);options.defaults.push(def);return!match(")")}function parseParams(firstRestricted){var options;options={params:[],defaultCount:0,defaults:[],rest:null,firstRestricted:firstRestricted};expect("(");if(!match(")")){options.paramSet={};while(index<length){if(!parseParam(options)){break}expect(",")}}expect(")");if(options.defaultCount===0){options.defaults=[]}return options}function parseFunctionDeclaration(){var id,body,token,tmp,firstRestricted,message,previousStrict,previousYieldAllowed,generator,expression;expectKeyword("function");generator=false;if(match("*")){lex();generator=true}token=lookahead;if(state.allowDefault){id=matchKeyword("default")?parseNonComputedProperty():parseVariableIdentifier()}else{id=parseVariableIdentifier()}if(strict){if(isRestrictedWord(token.value)){throwErrorTolerant(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}tmp=parseParams(firstRestricted);firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=generator;expression=!match("{");body=parseConciseBody();if(strict&&firstRestricted){throwError(firstRestricted,message)}if(strict&&tmp.stricted){throwErrorTolerant(tmp.stricted,message)}if(state.yieldAllowed&&!state.yieldFound){throwErrorTolerant({},Messages.NoYieldInGenerator)}strict=previousStrict;state.yieldAllowed=previousYieldAllowed;return delegate.createFunctionDeclaration(id,tmp.params,tmp.defaults,body,tmp.rest,generator,expression)}function parseFunctionExpression(){var token,id=null,firstRestricted,message,tmp,body,previousStrict,previousYieldAllowed,generator,expression;expectKeyword("function");generator=false;if(match("*")){lex();generator=true}if(!match("(")){token=lookahead;id=parseVariableIdentifier();if(strict){if(isRestrictedWord(token.value)){throwErrorTolerant(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}}tmp=parseParams(firstRestricted);firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=generator;expression=!match("{");body=parseConciseBody();if(strict&&firstRestricted){throwError(firstRestricted,message)}if(strict&&tmp.stricted){throwErrorTolerant(tmp.stricted,message)}if(state.yieldAllowed&&!state.yieldFound){throwErrorTolerant({},Messages.NoYieldInGenerator)}strict=previousStrict;state.yieldAllowed=previousYieldAllowed;return delegate.createFunctionExpression(id,tmp.params,tmp.defaults,body,tmp.rest,generator,expression)}function parseYieldExpression(){var delegateFlag,expr,previousYieldAllowed;expectKeyword("yield");if(!state.yieldAllowed){throwErrorTolerant({},Messages.IllegalYield)}delegateFlag=false;if(match("*")){lex();delegateFlag=true}previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=false;expr=parseAssignmentExpression();state.yieldAllowed=previousYieldAllowed;state.yieldFound=true;return delegate.createYieldExpression(expr,delegateFlag)}function parseMethodDefinition(existingPropNames){var token,key,param,propType,isValidDuplicateProp=false;if(lookahead.value==="static"){propType=ClassPropertyType.static;lex()}else{propType=ClassPropertyType.prototype}if(match("*")){lex();return delegate.createMethodDefinition(propType,"",parseObjectPropertyKey(),parsePropertyMethodFunction({generator:true}))}token=lookahead;key=parseObjectPropertyKey();if(token.value==="get"&&!match("(")){key=parseObjectPropertyKey();if(existingPropNames[propType].hasOwnProperty(key.name)){isValidDuplicateProp=existingPropNames[propType][key.name].get===undefined&&existingPropNames[propType][key.name].data===undefined&&existingPropNames[propType][key.name].set!==undefined;if(!isValidDuplicateProp){throwError(key,Messages.IllegalDuplicateClassProperty)}}else{existingPropNames[propType][key.name]={}}existingPropNames[propType][key.name].get=true;expect("(");expect(")");return delegate.createMethodDefinition(propType,"get",key,parsePropertyFunction({generator:false}))}if(token.value==="set"&&!match("(")){key=parseObjectPropertyKey();if(existingPropNames[propType].hasOwnProperty(key.name)){isValidDuplicateProp=existingPropNames[propType][key.name].set===undefined&&existingPropNames[propType][key.name].data===undefined&&existingPropNames[propType][key.name].get!==undefined;if(!isValidDuplicateProp){throwError(key,Messages.IllegalDuplicateClassProperty)}}else{existingPropNames[propType][key.name]={}}existingPropNames[propType][key.name].set=true;expect("(");token=lookahead;param=[parseVariableIdentifier()];expect(")");return delegate.createMethodDefinition(propType,"set",key,parsePropertyFunction({params:param,generator:false,name:token}))}if(existingPropNames[propType].hasOwnProperty(key.name)){throwError(key,Messages.IllegalDuplicateClassProperty)}else{existingPropNames[propType][key.name]={}}existingPropNames[propType][key.name].data=true;return delegate.createMethodDefinition(propType,"",key,parsePropertyMethodFunction({generator:false}))}function parseClassElement(existingProps){if(match(";")){lex();return}return parseMethodDefinition(existingProps)}function parseClassBody(){var classElement,classElements=[],existingProps={};existingProps[ClassPropertyType.static]={};existingProps[ClassPropertyType.prototype]={};expect("{");while(index<length){if(match("}")){break}classElement=parseClassElement(existingProps);if(typeof classElement!=="undefined"){classElements.push(classElement)
}}expect("}");return delegate.createClassBody(classElements)}function parseClassExpression(){var id,previousYieldAllowed,superClass=null;expectKeyword("class");if(!matchKeyword("extends")&&!match("{")){id=parseVariableIdentifier()}if(matchKeyword("extends")){expectKeyword("extends");previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=false;superClass=parseAssignmentExpression();state.yieldAllowed=previousYieldAllowed}return delegate.createClassExpression(id,superClass,parseClassBody())}function parseClassDeclaration(){var id,previousYieldAllowed,superClass=null;expectKeyword("class");if(state.allowDefault){id=matchKeyword("default")?parseNonComputedProperty():parseVariableIdentifier()}else{id=parseVariableIdentifier()}if(matchKeyword("extends")){expectKeyword("extends");previousYieldAllowed=state.yieldAllowed;state.yieldAllowed=false;superClass=parseAssignmentExpression();state.yieldAllowed=previousYieldAllowed}return delegate.createClassDeclaration(id,superClass,parseClassBody())}function matchModuleDeclaration(){var id;if(matchContextualKeyword("module")){id=lookahead2();return id.type===Token.StringLiteral||id.type===Token.Identifier}return false}function parseSourceElement(){if(lookahead.type===Token.Keyword){switch(lookahead.value){case"const":case"let":return parseConstLetDeclaration(lookahead.value);case"function":return parseFunctionDeclaration();case"export":return parseExportDeclaration();case"import":return parseImportDeclaration();default:return parseStatement()}}if(matchModuleDeclaration()){throwError({},Messages.NestedModule)}if(lookahead.type!==Token.EOF){return parseStatement()}}function parseProgramElement(){if(lookahead.type===Token.Keyword){switch(lookahead.value){case"export":return parseExportDeclaration();case"import":return parseImportDeclaration()}}if(matchModuleDeclaration()){return parseModuleDeclaration()}return parseSourceElement()}function parseProgramElements(){var sourceElement,sourceElements=[],token,directive,firstRestricted;while(index<length){token=lookahead;if(token.type!==Token.StringLiteral){break}sourceElement=parseProgramElement();sourceElements.push(sourceElement);if(sourceElement.expression.type!==Syntax.Literal){break}directive=source.slice(token.range[0]+1,token.range[1]-1);if(directive==="use strict"){strict=true;if(firstRestricted){throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}while(index<length){sourceElement=parseProgramElement();if(typeof sourceElement==="undefined"){break}sourceElements.push(sourceElement)}return sourceElements}function parseModuleElement(){return parseSourceElement()}function parseModuleElements(){var list=[],statement;while(index<length){if(match("}")){break}statement=parseModuleElement();if(typeof statement==="undefined"){break}list.push(statement)}return list}function parseModuleBlock(){var block;expect("{");block=parseModuleElements();expect("}");return delegate.createBlockStatement(block)}function parseProgram(){var body;strict=false;peek();body=parseProgramElements();return delegate.createProgram(body)}function addComment(type,value,start,end,loc){assert(typeof start==="number","Comment must have valid position");if(extra.comments.length>0){if(extra.comments[extra.comments.length-1].range[1]>start){return}}extra.comments.push({type:type,value:value,range:[start,end],loc:loc})}function scanComment(){var comment,ch,loc,start,blockComment,lineComment;comment="";blockComment=false;lineComment=false;while(index<length){ch=source[index];if(lineComment){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){loc.end={line:lineNumber,column:index-lineStart-1};lineComment=false;addComment("Line",comment,start,index-1,loc);if(ch==="\r"&&source[index]==="\n"){++index}++lineNumber;lineStart=index;comment=""}else if(index>=length){lineComment=false;comment+=ch;loc.end={line:lineNumber,column:length-lineStart};addComment("Line",comment,start,length,loc)}else{comment+=ch}}else if(blockComment){if(isLineTerminator(ch.charCodeAt(0))){if(ch==="\r"&&source[index+1]==="\n"){++index;comment+="\r\n"}else{comment+=ch}++lineNumber;++index;lineStart=index;if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}else{ch=source[index++];if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}comment+=ch;if(ch==="*"){ch=source[index];if(ch==="/"){comment=comment.substr(0,comment.length-1);blockComment=false;++index;loc.end={line:lineNumber,column:index-lineStart};addComment("Block",comment,start,index,loc);comment=""}}}}else if(ch==="/"){ch=source[index+1];if(ch==="/"){loc={start:{line:lineNumber,column:index-lineStart}};start=index;index+=2;lineComment=true;if(index>=length){loc.end={line:lineNumber,column:index-lineStart};lineComment=false;addComment("Line",comment,start,index,loc)}}else if(ch==="*"){start=index;index+=2;blockComment=true;loc={start:{line:lineNumber,column:index-lineStart-2}};if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}else{break}}else if(isWhiteSpace(ch.charCodeAt(0))){++index}else if(isLineTerminator(ch.charCodeAt(0))){++index;if(ch==="\r"&&source[index]==="\n"){++index}++lineNumber;lineStart=index}else{break}}}function filterCommentLocation(){var i,entry,comment,comments=[];for(i=0;i<extra.comments.length;++i){entry=extra.comments[i];comment={type:entry.type,value:entry.value};if(extra.range){comment.range=entry.range}if(extra.loc){comment.loc=entry.loc}comments.push(comment)}extra.comments=comments}function collectToken(){var start,loc,token,range,value;skipComment();start=index;loc={start:{line:lineNumber,column:index-lineStart}};token=extra.advance();loc.end={line:lineNumber,column:index-lineStart};if(token.type!==Token.EOF){range=[token.range[0],token.range[1]];value=source.slice(token.range[0],token.range[1]);extra.tokens.push({type:TokenName[token.type],value:value,range:range,loc:loc})}return token}function collectRegex(){var pos,loc,regex,token;skipComment();pos=index;loc={start:{line:lineNumber,column:index-lineStart}};regex=extra.scanRegExp();loc.end={line:lineNumber,column:index-lineStart};if(!extra.tokenize){if(extra.tokens.length>0){token=extra.tokens[extra.tokens.length-1];if(token.range[0]===pos&&token.type==="Punctuator"){if(token.value==="/"||token.value==="/="){extra.tokens.pop()}}}extra.tokens.push({type:"RegularExpression",value:regex.literal,range:[pos,index],loc:loc})}return regex}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i){entry=extra.tokens[i];token={type:entry.type,value:entry.value};if(extra.range){token.range=entry.range}if(extra.loc){token.loc=entry.loc}tokens.push(token)}extra.tokens=tokens}function LocationMarker(){this.range=[index,index];this.loc={start:{line:lineNumber,column:index-lineStart},end:{line:lineNumber,column:index-lineStart}}}LocationMarker.prototype={constructor:LocationMarker,end:function(){this.range[1]=index;this.loc.end.line=lineNumber;this.loc.end.column=index-lineStart},applyGroup:function(node){if(extra.range){node.groupRange=[this.range[0],this.range[1]]}if(extra.loc){node.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}};node=delegate.postProcess(node)}},apply:function(node){var nodeType=typeof node;assert(nodeType==="object","Applying location marker to an unexpected node type: "+nodeType);if(extra.range){node.range=[this.range[0],this.range[1]]}if(extra.loc){node.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}};node=delegate.postProcess(node)}}};function createLocationMarker(){return new LocationMarker}function trackGroupExpression(){var marker,expr;skipComment();marker=createLocationMarker();expect("(");++state.parenthesizedCount;expr=parseExpression();expect(")");marker.end();marker.applyGroup(expr);return expr}function trackLeftHandSideExpression(){var marker,expr;skipComment();marker=createLocationMarker();expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();while(match(".")||match("[")||lookahead.type===Token.Template){if(match("[")){expr=delegate.createMemberExpression("[",expr,parseComputedMember());marker.end();marker.apply(expr)}else if(match(".")){expr=delegate.createMemberExpression(".",expr,parseNonComputedMember());marker.end();marker.apply(expr)}else{expr=delegate.createTaggedTemplateExpression(expr,parseTemplateLiteral());marker.end();marker.apply(expr)}}return expr}function trackLeftHandSideExpressionAllowCall(){var marker,expr,args;skipComment();marker=createLocationMarker();expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();while(match(".")||match("[")||match("(")||lookahead.type===Token.Template){if(match("(")){args=parseArguments();expr=delegate.createCallExpression(expr,args);marker.end();marker.apply(expr)}else if(match("[")){expr=delegate.createMemberExpression("[",expr,parseComputedMember());marker.end();marker.apply(expr)}else if(match(".")){expr=delegate.createMemberExpression(".",expr,parseNonComputedMember());marker.end();marker.apply(expr)}else{expr=delegate.createTaggedTemplateExpression(expr,parseTemplateLiteral());marker.end();marker.apply(expr)}}return expr}function filterGroup(node){var n,i,entry;n=Object.prototype.toString.apply(node)==="[object Array]"?[]:{};for(i in node){if(node.hasOwnProperty(i)&&i!=="groupRange"&&i!=="groupLoc"){entry=node[i];if(entry===null||typeof entry!=="object"||entry instanceof RegExp){n[i]=entry}else{n[i]=filterGroup(entry)}}}return n}function wrapTrackingFunction(range,loc){return function(parseFunction){function isBinary(node){return node.type===Syntax.LogicalExpression||node.type===Syntax.BinaryExpression}function visit(node){var start,end;if(isBinary(node.left)){visit(node.left)}if(isBinary(node.right)){visit(node.right)}if(range){if(node.left.groupRange||node.right.groupRange){start=node.left.groupRange?node.left.groupRange[0]:node.left.range[0];end=node.right.groupRange?node.right.groupRange[1]:node.right.range[1];node.range=[start,end]}else if(typeof node.range==="undefined"){start=node.left.range[0];end=node.right.range[1];node.range=[start,end]}}if(loc){if(node.left.groupLoc||node.right.groupLoc){start=node.left.groupLoc?node.left.groupLoc.start:node.left.loc.start;end=node.right.groupLoc?node.right.groupLoc.end:node.right.loc.end;node.loc={start:start,end:end};node=delegate.postProcess(node)}else if(typeof node.loc==="undefined"){node.loc={start:node.left.loc.start,end:node.right.loc.end};node=delegate.postProcess(node)}}}return function(){var marker,node;skipComment();marker=createLocationMarker();node=parseFunction.apply(null,arguments);marker.end();if(range&&typeof node.range==="undefined"){marker.apply(node)}if(loc&&typeof node.loc==="undefined"){marker.apply(node)}if(isBinary(node)){visit(node)}return node}}}function patch(){var wrapTracking;if(extra.comments){extra.skipComment=skipComment;skipComment=scanComment}if(extra.range||extra.loc){extra.parseGroupExpression=parseGroupExpression;extra.parseLeftHandSideExpression=parseLeftHandSideExpression;extra.parseLeftHandSideExpressionAllowCall=parseLeftHandSideExpressionAllowCall;parseGroupExpression=trackGroupExpression;parseLeftHandSideExpression=trackLeftHandSideExpression;parseLeftHandSideExpressionAllowCall=trackLeftHandSideExpressionAllowCall;wrapTracking=wrapTrackingFunction(extra.range,extra.loc);extra.parseAssignmentExpression=parseAssignmentExpression;extra.parseBinaryExpression=parseBinaryExpression;extra.parseBlock=parseBlock;extra.parseFunctionSourceElements=parseFunctionSourceElements;extra.parseCatchClause=parseCatchClause;extra.parseComputedMember=parseComputedMember;extra.parseConditionalExpression=parseConditionalExpression;extra.parseConstLetDeclaration=parseConstLetDeclaration;extra.parseExportBatchSpecifier=parseExportBatchSpecifier;extra.parseExportDeclaration=parseExportDeclaration;extra.parseExportSpecifier=parseExportSpecifier;extra.parseExpression=parseExpression;extra.parseForVariableDeclaration=parseForVariableDeclaration;extra.parseFunctionDeclaration=parseFunctionDeclaration;extra.parseFunctionExpression=parseFunctionExpression;extra.parseParams=parseParams;extra.parseImportDeclaration=parseImportDeclaration;extra.parseImportSpecifier=parseImportSpecifier;extra.parseModuleDeclaration=parseModuleDeclaration;extra.parseModuleBlock=parseModuleBlock;extra.parseNewExpression=parseNewExpression;extra.parseNonComputedProperty=parseNonComputedProperty;extra.parseObjectProperty=parseObjectProperty;extra.parseObjectPropertyKey=parseObjectPropertyKey;extra.parsePostfixExpression=parsePostfixExpression;extra.parsePrimaryExpression=parsePrimaryExpression;extra.parseProgram=parseProgram;extra.parsePropertyFunction=parsePropertyFunction;extra.parseSpreadOrAssignmentExpression=parseSpreadOrAssignmentExpression;extra.parseTemplateElement=parseTemplateElement;extra.parseTemplateLiteral=parseTemplateLiteral;extra.parseStatement=parseStatement;extra.parseSwitchCase=parseSwitchCase;extra.parseUnaryExpression=parseUnaryExpression;extra.parseVariableDeclaration=parseVariableDeclaration;extra.parseVariableIdentifier=parseVariableIdentifier;extra.parseMethodDefinition=parseMethodDefinition;extra.parseClassDeclaration=parseClassDeclaration;extra.parseClassExpression=parseClassExpression;extra.parseClassBody=parseClassBody;parseAssignmentExpression=wrapTracking(extra.parseAssignmentExpression);parseBinaryExpression=wrapTracking(extra.parseBinaryExpression);parseBlock=wrapTracking(extra.parseBlock);parseFunctionSourceElements=wrapTracking(extra.parseFunctionSourceElements);parseCatchClause=wrapTracking(extra.parseCatchClause);parseComputedMember=wrapTracking(extra.parseComputedMember);parseConditionalExpression=wrapTracking(extra.parseConditionalExpression);parseConstLetDeclaration=wrapTracking(extra.parseConstLetDeclaration);parseExportBatchSpecifier=wrapTracking(parseExportBatchSpecifier);parseExportDeclaration=wrapTracking(parseExportDeclaration);parseExportSpecifier=wrapTracking(parseExportSpecifier);parseExpression=wrapTracking(extra.parseExpression);parseForVariableDeclaration=wrapTracking(extra.parseForVariableDeclaration);parseFunctionDeclaration=wrapTracking(extra.parseFunctionDeclaration);parseFunctionExpression=wrapTracking(extra.parseFunctionExpression);parseParams=wrapTracking(extra.parseParams);parseImportDeclaration=wrapTracking(extra.parseImportDeclaration);parseImportSpecifier=wrapTracking(extra.parseImportSpecifier);parseModuleDeclaration=wrapTracking(extra.parseModuleDeclaration);parseModuleBlock=wrapTracking(extra.parseModuleBlock);parseLeftHandSideExpression=wrapTracking(parseLeftHandSideExpression);parseNewExpression=wrapTracking(extra.parseNewExpression);parseNonComputedProperty=wrapTracking(extra.parseNonComputedProperty);parseObjectProperty=wrapTracking(extra.parseObjectProperty);parseObjectPropertyKey=wrapTracking(extra.parseObjectPropertyKey);parsePostfixExpression=wrapTracking(extra.parsePostfixExpression);parsePrimaryExpression=wrapTracking(extra.parsePrimaryExpression);parseProgram=wrapTracking(extra.parseProgram);parsePropertyFunction=wrapTracking(extra.parsePropertyFunction);parseTemplateElement=wrapTracking(extra.parseTemplateElement);parseTemplateLiteral=wrapTracking(extra.parseTemplateLiteral);parseSpreadOrAssignmentExpression=wrapTracking(extra.parseSpreadOrAssignmentExpression);parseStatement=wrapTracking(extra.parseStatement);parseSwitchCase=wrapTracking(extra.parseSwitchCase);parseUnaryExpression=wrapTracking(extra.parseUnaryExpression);parseVariableDeclaration=wrapTracking(extra.parseVariableDeclaration);parseVariableIdentifier=wrapTracking(extra.parseVariableIdentifier);parseMethodDefinition=wrapTracking(extra.parseMethodDefinition);parseClassDeclaration=wrapTracking(extra.parseClassDeclaration);parseClassExpression=wrapTracking(extra.parseClassExpression);parseClassBody=wrapTracking(extra.parseClassBody)}if(typeof extra.tokens!=="undefined"){extra.advance=advance;extra.scanRegExp=scanRegExp;advance=collectToken;scanRegExp=collectRegex}}function unpatch(){if(typeof extra.skipComment==="function"){skipComment=extra.skipComment}if(extra.range||extra.loc){parseAssignmentExpression=extra.parseAssignmentExpression;parseBinaryExpression=extra.parseBinaryExpression;parseBlock=extra.parseBlock;parseFunctionSourceElements=extra.parseFunctionSourceElements;parseCatchClause=extra.parseCatchClause;parseComputedMember=extra.parseComputedMember;parseConditionalExpression=extra.parseConditionalExpression;parseConstLetDeclaration=extra.parseConstLetDeclaration;parseExportBatchSpecifier=extra.parseExportBatchSpecifier;parseExportDeclaration=extra.parseExportDeclaration;parseExportSpecifier=extra.parseExportSpecifier;parseExpression=extra.parseExpression;parseForVariableDeclaration=extra.parseForVariableDeclaration;parseFunctionDeclaration=extra.parseFunctionDeclaration;parseFunctionExpression=extra.parseFunctionExpression;parseImportDeclaration=extra.parseImportDeclaration;parseImportSpecifier=extra.parseImportSpecifier;parseGroupExpression=extra.parseGroupExpression;parseLeftHandSideExpression=extra.parseLeftHandSideExpression;parseLeftHandSideExpressionAllowCall=extra.parseLeftHandSideExpressionAllowCall;parseModuleDeclaration=extra.parseModuleDeclaration;parseModuleBlock=extra.parseModuleBlock;parseNewExpression=extra.parseNewExpression;parseNonComputedProperty=extra.parseNonComputedProperty;parseObjectProperty=extra.parseObjectProperty;parseObjectPropertyKey=extra.parseObjectPropertyKey;parsePostfixExpression=extra.parsePostfixExpression;parsePrimaryExpression=extra.parsePrimaryExpression;parseProgram=extra.parseProgram;parsePropertyFunction=extra.parsePropertyFunction;parseTemplateElement=extra.parseTemplateElement;parseTemplateLiteral=extra.parseTemplateLiteral;parseSpreadOrAssignmentExpression=extra.parseSpreadOrAssignmentExpression;parseStatement=extra.parseStatement;parseSwitchCase=extra.parseSwitchCase;parseUnaryExpression=extra.parseUnaryExpression;parseVariableDeclaration=extra.parseVariableDeclaration;parseVariableIdentifier=extra.parseVariableIdentifier;parseMethodDefinition=extra.parseMethodDefinition;parseClassDeclaration=extra.parseClassDeclaration;parseClassExpression=extra.parseClassExpression;parseClassBody=extra.parseClassBody}if(typeof extra.scanRegExp==="function"){advance=extra.advance;scanRegExp=extra.scanRegExp}}function extend(object,properties){var entry,result={};for(entry in object){if(object.hasOwnProperty(entry)){result[entry]=object[entry]}}for(entry in properties){if(properties.hasOwnProperty(entry)){result[entry]=properties[entry]}}return result}function tokenize(code,options){var toString,token,tokens;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}delegate=SyntaxTreeDelegate;source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowDefault:true,allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false};extra={};options=options||{};options.tokens=true;extra.tokens=[];extra.tokenize=true;extra.openParenToken=-1;extra.openCurlyToken=-1;extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}if(length>0){if(typeof source[0]==="undefined"){if(code instanceof String){source=code.valueOf()}}}patch();try{peek();if(lookahead.type===Token.EOF){return extra.tokens}token=lex();while(lookahead.type!==Token.EOF){try{token=lex()}catch(lexError){token=lookahead;if(extra.errors){extra.errors.push(lexError);break}else{throw lexError}}}filterTokenLocation();tokens=extra.tokens;if(typeof extra.comments!=="undefined"){filterCommentLocation();tokens.comments=extra.comments}if(typeof extra.errors!=="undefined"){tokens.errors=extra.errors}}catch(e){throw e}finally{unpatch();extra={}}return tokens}function parse(code,options){var program,toString;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}delegate=SyntaxTreeDelegate;source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowDefault:false,allowIn:true,labelSet:{},parenthesizedCount:0,inFunctionBody:false,inIteration:false,inSwitch:false,yieldAllowed:false,yieldFound:false};extra={};if(typeof options!=="undefined"){extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(extra.loc&&options.source!==null&&options.source!==undefined){delegate=extend(delegate,{postProcess:function(node){node.loc.source=toString(options.source);return node}})}if(typeof options.tokens==="boolean"&&options.tokens){extra.tokens=[]}if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}}if(length>0){if(typeof source[0]==="undefined"){if(code instanceof String){source=code.valueOf()}}}patch();try{program=parseProgram();if(typeof extra.comments!=="undefined"){filterCommentLocation();program.comments=extra.comments}if(typeof extra.tokens!=="undefined"){filterTokenLocation();program.tokens=extra.tokens}if(typeof extra.errors!=="undefined"){program.errors=extra.errors}if(extra.range||extra.loc){program.body=filterGroup(program.body)}}catch(e){throw e}finally{unpatch();extra={}}return program}exports.version="1.1.0-dev-harmony";exports.tokenize=tokenize;exports.parse=parse;exports.Syntax=function(){var name,types={};if(typeof Object.create==="function"){types=Object.create(null)}for(name in Syntax){if(Syntax.hasOwnProperty(name)){types[name]=Syntax[name]}}if(typeof Object.freeze==="function"){Object.freeze(types)}return types}()})},{}],2:[function(require,module,exports){"use strict";var $__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClassNoExtends=function(object,staticObject){var ctor=object.constructor;Object.defineProperty(object,"constructor",{enumerable:false});ctor.prototype=object;Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var CompileError=require("./compile_error");var __dependency1__=require("./utils");var isEmpty=__dependency1__.isEmpty;var array=__dependency1__.array;var forEach=__dependency1__.forEach;var AbstractCompiler=function(){"use strict";var $AbstractCompiler=$__createClassNoExtends({constructor:function(compiler,options){this.compiler=compiler;this.exports=compiler.exports;this.exportDefault=compiler.exportDefault;this.imports=compiler.imports;this.directives=compiler.directives;this.moduleName=compiler.moduleName;this.lines=compiler.lines;this.string=compiler.string;this.options=options;var allDependencies=this.imports.concat(this.exports.filter(function(export_){return export_.source!==null}));this.dependencyNames=array.uniq(allDependencies.map(function(dep){return dep.source.value}))},buildImports:function(){var imports=this.imports,moduleImports=this.moduleImports,source=this.source;for(var idx=0;idx<imports.length;idx++){var import_=imports[idx],replacement="";var dependencyName=import_.source.value;if(import_.type==="ModuleDeclaration"&&import_.source.type==="Literal"){replacement=this.doModuleImport(import_.id.name,dependencyName,idx)}else if(import_.type==="ImportDeclaration"){if(import_.kind==="default"){var specifier=import_.specifiers[0];replacement=this.doDefaultImport(specifier.id.name,dependencyName,idx)}else if(import_.kind==="named"){replacement=this.doImportSpecifiers(import_,idx)}else if(import_.kind===undefined){replacement=this.doBareImport(import_.source.value)}}source.replace(import_.range[0],import_.range[1],replacement)}},buildExports:function(){var source=this.source,exports_=this.exports;{var $__2=traceur.runtime.getIterator(exports_);try{while(true){var export_=$__2.next();{var replacement="";if(export_.default){var identifier=export_.declaration.name||null;source.replace(export_.range[0],export_.declaration.range[0]-1,this.doDefaultExport(identifier))}else if(export_.specifiers){var reexport;if(export_.source){reexport=export_.source.value}{var $__1=traceur.runtime.getIterator(export_.specifiers);try{while(true){var specifier=$__1.next();{replacement+=this.doExportSpecifier(specifier.id.name,reexport)}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}source.replace(export_.range[0],export_.range[1],replacement)}else if(export_.declaration){if(export_.declaration.type==="VariableDeclaration"){var name=export_.declaration.declarations[0].id.name;source.replace(export_.range[0],export_.declaration.range[0]-1,"");replacement=this.doExportDeclaration(name);source.replace(export_.range[1],export_.range[1],replacement)}else if(export_.declaration.type==="FunctionDeclaration"){var name=export_.declaration.id.name;source.replace(export_.range[0],export_.declaration.range[0]-1,"");replacement=this.doExportDeclaration(name);source.replace(export_.range[1]+1,export_.range[1]+1,replacement)}else if(export_.declaration.type==="Identifier"){var name=export_.declaration.name;replacement=this.doExportDeclaration(name);source.replace(export_.range[0],export_.range[1]-1,replacement)}}}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}},indentLines:function(){var indent=arguments[0]!==void 0?arguments[0]:"  ";var innerLines=this.source.toString().split("\n");var inner=innerLines.reduce(function(acc,item){if(item==="")return acc+"\n";return acc+indent+item+"\n"},"");return inner.replace(/\s+$/,"")}},{});return $AbstractCompiler}();module.exports=AbstractCompiler},{"./compile_error":5,"./utils":11}],3:[function(require,module,exports){"use strict";var $__superDescriptor=function(proto,name){if(!proto)throw new TypeError("super is null");return Object.getPropertyDescriptor(proto,name)},$__superCall=function(self,proto,name,args){var descriptor=$__superDescriptor(proto,name);if(descriptor){if("value"in descriptor)return descriptor.value.apply(self,args);if(descriptor.get)return descriptor.get.call(self).apply(self,args)}throw new TypeError("Object has no method '"+name+"'.")},$__getProtoParent=function(superClass){if(typeof superClass==="function"){var prototype=superClass.prototype;if(Object(prototype)===prototype||prototype===null)return superClass.prototype}if(superClass===null)return null;throw new TypeError},$__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClass=function(object,staticObject,protoParent,superClass,hasConstructor){var ctor=object.constructor;if(typeof superClass==="function")ctor.__proto__=superClass;if(!hasConstructor&&protoParent===null)ctor=object.constructor=function(){};var descriptors=$__getDescriptors(object);descriptors.constructor.enumerable=false;ctor.prototype=Object.create(protoParent,descriptors);Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var AbstractCompiler=require("./abstract_compiler");var SourceModifier=require("./source_modifier");var AMDCompiler=function($__super){"use strict";var $__proto=$__getProtoParent($__super);var $AMDCompiler=$__createClass({constructor:function(){$__superCall(this,$__proto,"constructor",arguments)},stringify:function(){var string=this.string.toString();this.source=new SourceModifier(string);this.map=[];var out=this.buildPreamble(this.exports.length>0);this.buildImports();this.buildExports();out+=this.indentLines("    ");out+="\n  });";return out},buildPreamble:function(hasExports){var out="",dependencyNames=this.dependencyNames;if(hasExports)dependencyNames.push("exports");out+="define(";if(this.moduleName)out+='"'+this.moduleName+'", ';out+="\n  [";var idx;for(idx=0;idx<dependencyNames.length;idx++){var name=dependencyNames[idx];out+='"'+name+'"';if(!(idx===dependencyNames.length-1))out+=","}out+="],\n  function(";for(idx=0;idx<dependencyNames.length;idx++){if(dependencyNames[idx]==="exports"){out+="__exports__"}else{out+="__dependency"+(idx+1)+"__";this.map[dependencyNames[idx]]=idx+1}if(!(idx===dependencyNames.length-1))out+=", "}out+=") {\n";out+='    "use strict";\n';return out},doModuleImport:function(name,dependencyName,idx){return"var "+name+" = __dependency"+this.map[dependencyName]+"__;\n"},doBareImport:function(name){return""},doDefaultImport:function(name,dependencyName,idx){if(this.options.compatFix===true){return"var "+name+" = __dependency"+this.map[dependencyName]+'__["default"] || __dependency'+this.map[dependencyName]+"__;\n"}else{return"var "+name+" = __dependency"+this.map[dependencyName]+'__["default"];\n'}},doNamedImport:function(name,dependencyName,alias){return"var "+alias+" = __dependency"+this.map[dependencyName]+"__."+name+";\n"},doExportSpecifier:function(name,reexport){if(reexport){return"__exports__."+name+" = __dependency"+this.map[reexport]+"__."+name+";\n"}return"__exports__."+name+" = "+name+";\n"},doExportDeclaration:function(name){return"\n__exports__."+name+" = "+name+";"},doDefaultExport:function(){return'__exports__["default"] = '},doImportSpecifiers:function(import_,idx){var dependencyName=import_.source.value;var replacement="";{var $__1=traceur.runtime.getIterator(import_.specifiers);try{while(true){var specifier=$__1.next();{var alias=specifier.name?specifier.name.name:specifier.id.name;replacement+=this.doNamedImport(specifier.id.name,dependencyName,alias)}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}return replacement}},{},$__proto,$__super,false);return $AMDCompiler}(AbstractCompiler);module.exports=AMDCompiler},{"./abstract_compiler":2,"./source_modifier":10}],4:[function(require,module,exports){"use strict";var $__superDescriptor=function(proto,name){if(!proto)throw new TypeError("super is null");return Object.getPropertyDescriptor(proto,name)},$__superCall=function(self,proto,name,args){var descriptor=$__superDescriptor(proto,name);if(descriptor){if("value"in descriptor)return descriptor.value.apply(self,args);if(descriptor.get)return descriptor.get.call(self).apply(self,args)}throw new TypeError("Object has no method '"+name+"'.")},$__getProtoParent=function(superClass){if(typeof superClass==="function"){var prototype=superClass.prototype;if(Object(prototype)===prototype||prototype===null)return superClass.prototype}if(superClass===null)return null;throw new TypeError},$__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClass=function(object,staticObject,protoParent,superClass,hasConstructor){var ctor=object.constructor;if(typeof superClass==="function")ctor.__proto__=superClass;if(!hasConstructor&&protoParent===null)ctor=object.constructor=function(){};var descriptors=$__getDescriptors(object);descriptors.constructor.enumerable=false;ctor.prototype=Object.create(protoParent,descriptors);Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var AbstractCompiler=require("./abstract_compiler");var SourceModifier=require("./source_modifier");var string=require("./utils").string;var SAFE_WARN_NAME="__es6_transpiler_warn__";var SAFE_WARN_SOURCE=string.ltrim(string.unindent("\n  function "+SAFE_WARN_NAME+'(warning) {\n    if (typeof console === \'undefined\') {\n    } else if (typeof console.warn === "function") {\n      console.warn(warning);\n    } else if (typeof console.log === "function") {\n      console.log(warning);\n    }\n  }'));var MODULE_OBJECT_BUILDER_NAME="__es6_transpiler_build_module_object__";var MODULE_OBJECT_BUILDER_SOURCE=string.ltrim(string.unindent("\n  function "+MODULE_OBJECT_BUILDER_NAME+'(name, imported) {\n    var moduleInstanceObject = Object.create ? Object.create(null) : {};\n    if (typeof imported === "function") {\n      '+SAFE_WARN_NAME+'("imported module \'"+name+"\' exported a function - this may not work as expected");\n    }\n    for (var key in imported) {\n      if (Object.prototype.hasOwnProperty.call(imported, key)) {\n        moduleInstanceObject[key] = imported[key];\n      }\n    }\n    if (Object.freeze) {\n      Object.freeze(moduleInstanceObject);\n    }\n    return moduleInstanceObject;\n  }'));
var CJSCompiler=function($__super){"use strict";var $__proto=$__getProtoParent($__super);var $CJSCompiler=$__createClass({constructor:function(){$__superCall(this,$__proto,"constructor",arguments)},stringify:function(){var string=this.string.toString();this.source=new SourceModifier(string);this.prelude=[];this.buildImports();this.buildExports();var out='"use strict";\n';{var $__1=traceur.runtime.getIterator(this.prelude);try{while(true){var source=$__1.next();{out+=source+"\n"}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}out+=this.source.toString();out=out.trim();return out},doModuleImport:function(name,dependencyName,idx){this.ensureHasModuleObjectBuilder();return"var "+name+" = "+MODULE_OBJECT_BUILDER_NAME+'("'+name+'", require("'+dependencyName+'"));\n'},ensureHasModuleObjectBuilder:function(){this.ensureHasSafeWarn();this.ensureInPrelude(MODULE_OBJECT_BUILDER_NAME,MODULE_OBJECT_BUILDER_SOURCE)},ensureHasSafeWarn:function(){this.ensureInPrelude(SAFE_WARN_NAME,SAFE_WARN_SOURCE)},ensureInPrelude:function(name,source){if(!this.prelude[name]){this.prelude[name]=true;this.prelude.push(source)}},doBareImport:function(name){return'require("'+name+'");'},doDefaultImport:function(name,dependencyName,idx){if(this.options.compatFix===true){return"var "+name+' = require("'+dependencyName+'")["default"] || require("'+dependencyName+'");\n'}else{return"var "+name+' = require("'+dependencyName+'")["default"];\n'}},doNamedImport:function(name,dependencyName,alias){return"var "+alias+' = require("'+dependencyName+'").'+name+";\n"},doExportSpecifier:function(name,reexport){if(reexport){return"exports."+name+' = require("'+reexport+'").'+name+";\n"}return"exports."+name+" = "+name+";\n"},doExportDeclaration:function(name){return"\nexports."+name+" = "+name+";"},doDefaultExport:function(){return'exports["default"] = '},doImportSpecifiers:function(import_,idx){var dependencyName=import_.source.value;var replacement="";{var $__2=traceur.runtime.getIterator(import_.specifiers);try{while(true){var specifier=$__2.next();{var alias=specifier.name?specifier.name.name:specifier.id.name;replacement+=this.doNamedImport(specifier.id.name,dependencyName,alias)}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}return replacement}},{},$__proto,$__super,false);return $CJSCompiler}(AbstractCompiler);module.exports=CJSCompiler},{"./abstract_compiler":2,"./source_modifier":10,"./utils":11}],5:[function(require,module,exports){"use strict";var $__superDescriptor=function(proto,name){if(!proto)throw new TypeError("super is null");return Object.getPropertyDescriptor(proto,name)},$__superCall=function(self,proto,name,args){var descriptor=$__superDescriptor(proto,name);if(descriptor){if("value"in descriptor)return descriptor.value.apply(self,args);if(descriptor.get)return descriptor.get.call(self).apply(self,args)}throw new TypeError("Object has no method '"+name+"'.")},$__getProtoParent=function(superClass){if(typeof superClass==="function"){var prototype=superClass.prototype;if(Object(prototype)===prototype||prototype===null)return superClass.prototype}if(superClass===null)return null;throw new TypeError},$__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClass=function(object,staticObject,protoParent,superClass,hasConstructor){var ctor=object.constructor;if(typeof superClass==="function")ctor.__proto__=superClass;if(!hasConstructor&&protoParent===null)ctor=object.constructor=function(){};var descriptors=$__getDescriptors(object);descriptors.constructor.enumerable=false;ctor.prototype=Object.create(protoParent,descriptors);Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var CompileError=function($__super){"use strict";var $__proto=$__getProtoParent($__super);var $CompileError=$__createClass({constructor:function(){$__superCall(this,$__proto,"constructor",arguments)}},{},$__proto,$__super,false);return $CompileError}(Error);module.exports=CompileError},{}],6:[function(require,module,exports){"use strict";var $__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClassNoExtends=function(object,staticObject){var ctor=object.constructor;Object.defineProperty(object,"constructor",{enumerable:false});ctor.prototype=object;Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var AMDCompiler=require("./amd_compiler");var YUICompiler=require("./yui_compiler");var CJSCompiler=require("./cjs_compiler");var GlobalsCompiler=require("./globals_compiler");var Parser=require("./parser");var Unique=require("./utils").Unique;var Compiler=function(){"use strict";var $Compiler=$__createClassNoExtends({constructor:function(string,moduleName,options){if(moduleName==null){moduleName=null}if(options==null){options={}}this.string=string;this.moduleName=moduleName;this.options=options;this.inBlockComment=false;this.reExportUnique=new Unique("reexport");this.parse()},parse:function(){var parser=new Parser(this.string);this.imports=parser.imports;this.exports=parser.exports;this.exportDefault=parser.exportDefault;this.directives=parser.directives},toAMD:function(){return new AMDCompiler(this,this.options).stringify()},toYUI:function(){return new YUICompiler(this,this.options).stringify()},toCJS:function(){return new CJSCompiler(this,this.options).stringify()},toGlobals:function(){return new GlobalsCompiler(this,this.options).stringify()}},{});return $Compiler}();module.exports=Compiler},{"./amd_compiler":3,"./cjs_compiler":4,"./globals_compiler":7,"./parser":9,"./utils":11,"./yui_compiler":12}],7:[function(require,module,exports){"use strict";var $__superDescriptor=function(proto,name){if(!proto)throw new TypeError("super is null");return Object.getPropertyDescriptor(proto,name)},$__superCall=function(self,proto,name,args){var descriptor=$__superDescriptor(proto,name);if(descriptor){if("value"in descriptor)return descriptor.value.apply(self,args);if(descriptor.get)return descriptor.get.call(self).apply(self,args)}throw new TypeError("Object has no method '"+name+"'.")},$__getProtoParent=function(superClass){if(typeof superClass==="function"){var prototype=superClass.prototype;if(Object(prototype)===prototype||prototype===null)return superClass.prototype}if(superClass===null)return null;throw new TypeError},$__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClass=function(object,staticObject,protoParent,superClass,hasConstructor){var ctor=object.constructor;if(typeof superClass==="function")ctor.__proto__=superClass;if(!hasConstructor&&protoParent===null)ctor=object.constructor=function(){};var descriptors=$__getDescriptors(object);descriptors.constructor.enumerable=false;ctor.prototype=Object.create(protoParent,descriptors);Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var AbstractCompiler=require("./abstract_compiler");var SourceModifier=require("./source_modifier");var GlobalsCompiler=function($__super){"use strict";var $__proto=$__getProtoParent($__super);var $GlobalsCompiler=$__createClass({constructor:function(){$__superCall(this,$__proto,"constructor",arguments)},stringify:function(){var string=this.string.toString();this.source=new SourceModifier(string);this.map=[];var out=this.buildPreamble(this.exports.length>0);this.buildImports();this.buildExports();if(!this.options.imports)this.options.imports={};if(!this.options.global)this.options.global="window";out+=this.indentLines();out+="\n})";out+=this.buildSuffix();out+=";";return out},buildPreamble:function(){var out="",dependencyNames=this.dependencyNames;out+="(function(";if(this.exports.length>0){out+="__exports__";if(this.dependencyNames.length>0){out+=", "}}for(var idx=0;idx<dependencyNames.length;idx++){out+="__dependency"+(idx+1)+"__";this.map[dependencyNames[idx]]=idx+1;if(!(idx===dependencyNames.length-1))out+=", "}out+=") {\n";out+='  "use strict";\n';return out},buildSuffix:function(){var dependencyNames=this.dependencyNames;var out="(";if(this.exports.length>0){if(this.options.into){out+=this.options.global+"."+this.options.into+" = {}"}else{out+=this.options.global}if(this.dependencyNames.length>0){out+=", "}}for(var idx=0;idx<dependencyNames.length;idx++){var name=dependencyNames[idx];out+=this.options.global+"."+(this.options.imports[name]||name);if(!(idx===dependencyNames.length-1))out+=", "}out+=")";return out},doModuleImport:function(name,dependencyName,idx){return"var "+name+" = __dependency"+this.map[dependencyName]+"__;\n"},doBareImport:function(name){return""},doDefaultImport:function(name,dependencyName,idx){return"var "+name+" = __dependency"+this.map[dependencyName]+"__;\n"},doNamedImport:function(name,dependencyName,alias){return"var "+alias+" = __dependency"+this.map[dependencyName]+"__."+name+";\n"},doExportSpecifier:function(name,reexport){if(reexport){return"__exports__."+name+" = __dependency"+this.map[reexport]+"__."+name+";\n"}return"__exports__."+name+" = "+name+";\n"},doExportDeclaration:function(name){return"\n__exports__."+name+" = "+name+";"},doDefaultExport:function(identifier){if(identifier===null){throw new Error("The globals compiler does not support anonymous default exports.")}return"__exports__."+identifier+" = "},doImportSpecifiers:function(import_,idx){var dependencyName=import_.source.value;var replacement="";{var $__1=traceur.runtime.getIterator(import_.specifiers);try{while(true){var specifier=$__1.next();{var alias=specifier.name?specifier.name.name:specifier.id.name;replacement+=this.doNamedImport(specifier.id.name,dependencyName,alias)}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}return replacement}},{},$__proto,$__super,false);return $GlobalsCompiler}(AbstractCompiler);module.exports=GlobalsCompiler},{"./abstract_compiler":2,"./source_modifier":10}],8:[function(require,module,exports){"use strict";var Compiler=require("./compiler");var AbstractCompiler=require("./abstract_compiler");var AmdCompiler=require("./amd_compiler");var YuiCompiler=require("./yui_compiler");var CjsCompiler=require("./cjs_compiler");var GlobalsCompiler=require("./globals_compiler");var SourceModifier=require("./source_modifier");exports.Compiler=Compiler;exports.AbstractCompiler=AbstractCompiler;exports.AmdCompiler=AmdCompiler;exports.YuiCompiler=YuiCompiler;exports.CjsCompiler=CjsCompiler;exports.GlobalsCompiler=GlobalsCompiler;exports.SourceModifier=SourceModifier},{"./abstract_compiler":2,"./amd_compiler":3,"./cjs_compiler":4,"./compiler":6,"./globals_compiler":7,"./source_modifier":10,"./yui_compiler":12}],9:[function(require,module,exports){"use strict";var $__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClassNoExtends=function(object,staticObject){var ctor=object.constructor;Object.defineProperty(object,"constructor",{enumerable:false});ctor.prototype=object;Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var esparse=require("esprima").parse;var LITERAL="Literal";var Parser=function(){"use strict";var $Parser=$__createClassNoExtends({constructor:function(script){this.parse(script)},parse:function(script){this.imports=[];this.exports=[];this.directives=[];this.exportDefault=undefined;this.walk(esparse(script,{range:true,comment:true}))},walk:function(node){if(node.type){var processor=this["process"+node.type];if(processor){var result=processor.call(this,node);if(result===false){return}}}if(node.body&&node.body.length>0){node.body.forEach(function(child){child.parent=node;this.walk(child)}.bind(this))}if(node.comments&&node.type==="Program"){{var $__1=traceur.runtime.getIterator(node.comments);try{while(true){var comment=$__1.next();{if(comment.value.indexOf("transpile:")!==-1){this.directives.push(comment)}}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}}},processImportDeclaration:function(node){var $__2=node,kind=$__2.kind,source=$__2.source;if(source.type!==LITERAL||typeof source.value!=="string"){throw new Error("invalid module source: "+source.value)}switch(kind){case"named":this.processNamedImportDeclaration(node);break;case"default":this.processDefaultImportDeclaration(node);break;case undefined:this.processNamedImportDeclaration(node);break;default:throw new Error("unknown import kind: "+kind)}},processNamedImportDeclaration:function(node){this.imports.push(node)},processDefaultImportDeclaration:function(node){if(node.specifiers.length!==1){throw new Error("expected one specifier for default import, got "+specifiers.length)}this.imports.push(node)},processExportDeclaration:function(node){if(!node.declaration&&!node.specifiers){throw new Error("expected declaration or specifiers after `export` keyword")}this.exports.push(node)},processModuleDeclaration:function(node){this.imports.push(node)}},{});return $Parser}();module.exports=Parser},{esprima:1}],10:[function(require,module,exports){"use strict";var $__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClassNoExtends=function(object,staticObject){var ctor=object.constructor;Object.defineProperty(object,"constructor",{enumerable:false});ctor.prototype=object;Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var SourceModifier=function(){"use strict";var $SourceModifier=$__createClassNoExtends({constructor:function(source){this.source=source;this.rangeOps=[]},mapIndex:function(index){for(var i=0;i<this.rangeOps.length;i++){var curOp=this.rangeOps[i];if(curOp.start>=index)continue;if(curOp.end<=index){index+=curOp.diff;continue}throw"Source location "+index+" has already been transformed!"}return index},replace:function(start,end,replacement){var diff=replacement.length-(end-start+1);start=this.mapIndex(start);end=this.mapIndex(end);this.source=this.source.substr(0,start)+replacement+this.source.substr(end+1);this.rangeOps.push({start:start,end:end,diff:diff})},getRange:function(start,end){return this.source.substr(this.mapIndex(start),this.mapIndex(end))},toString:function(){return this.source}},{});return $SourceModifier}();module.exports=SourceModifier},{}],11:[function(require,module,exports){"use strict";var $__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClassNoExtends=function(object,staticObject){var ctor=object.constructor;Object.defineProperty(object,"constructor",{enumerable:false});ctor.prototype=object;Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var hasOwnProp={}.hasOwnProperty;function isEmpty(object){for(var foo in object){if(Object.prototype.hasOwnProperty.call(object,foo)){return false}}return true}function uniq(array){var result=[];for(var i=0;i<array.length;i++){var item=array[i];if(result.indexOf(item)===-1){result.push(item)}}return result}var array={uniq:uniq};function forEach(enumerable,callback){if(enumerable!==null&&enumerable!==undefined&&typeof enumerable.forEach==="function"){enumerable.forEach(callback);return}for(var key in enumerable){if(hasOwnProp.call(enumerable,key)){callback(enumerable[key],key)}}}function isWhitespace(str){return!str||/^\s*$/.test(str)}function indent(lines,level){var indentString=arguments[2]!==void 0?arguments[2]:"  ";return lines.map(function(line){if(!isWhitespace(line)){for(var i=0;i<level;i++){line=indentString+line}}return line})}var WHITESPACE_ONLY=/^\s*$/;var LEADING_WHITESPACE=/^\s*/;function unindent(string){var minIndent=null;var lines=string.split("\n");{var $__1=traceur.runtime.getIterator(lines);try{while(true){var line=$__1.next();{if(!WHITESPACE_ONLY.test(line)){var match=line.match(LEADING_WHITESPACE);if(match){if(minIndent!==null){minIndent=Math.min(match[0].length,minIndent)}else{minIndent=match[0].length}}}}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}return lines.map(function(line){return line.slice(minIndent)}).join("\n")}function ltrim(string){return string.replace(LEADING_WHITESPACE,"")}var string={indent:indent,unindent:unindent,ltrim:ltrim};var Unique=function(){"use strict";var $Unique=$__createClassNoExtends({constructor:function(prefix){this.prefix=prefix;this.index=1},next:function(){return["__",this.prefix,this.index++,"__"].join("")}},{});return $Unique}();exports.isEmpty=isEmpty;exports.Unique=Unique;exports.array=array;exports.forEach=forEach;exports.string=string},{}],12:[function(require,module,exports){"use strict";var $__superDescriptor=function(proto,name){if(!proto)throw new TypeError("super is null");return Object.getPropertyDescriptor(proto,name)},$__superCall=function(self,proto,name,args){var descriptor=$__superDescriptor(proto,name);if(descriptor){if("value"in descriptor)return descriptor.value.apply(self,args);if(descriptor.get)return descriptor.get.call(self).apply(self,args)}throw new TypeError("Object has no method '"+name+"'.")},$__getProtoParent=function(superClass){if(typeof superClass==="function"){var prototype=superClass.prototype;if(Object(prototype)===prototype||prototype===null)return superClass.prototype}if(superClass===null)return null;throw new TypeError},$__getDescriptors=function(object){var descriptors={},name,names=Object.getOwnPropertyNames(object);for(var i=0;i<names.length;i++){var name=names[i];descriptors[name]=Object.getOwnPropertyDescriptor(object,name)}return descriptors},$__createClass=function(object,staticObject,protoParent,superClass,hasConstructor){var ctor=object.constructor;if(typeof superClass==="function")ctor.__proto__=superClass;if(!hasConstructor&&protoParent===null)ctor=object.constructor=function(){};var descriptors=$__getDescriptors(object);descriptors.constructor.enumerable=false;ctor.prototype=Object.create(protoParent,descriptors);Object.defineProperties(ctor,$__getDescriptors(staticObject));return ctor};var AbstractCompiler=require("./abstract_compiler");var SourceModifier=require("./source_modifier");var YUICompiler=function($__super){"use strict";var $__proto=$__getProtoParent($__super);var $YUICompiler=$__createClass({constructor:function(){$__superCall(this,$__proto,"constructor",arguments)},stringify:function(){var string=this.string.toString();this.source=new SourceModifier(string);var out=this.buildPreamble();this.buildImports();this.buildExports();out+=this.indentLines("    ")+'\n    return __exports__;\n}, "@VERSION@", '+this.buildMetas()+");";return out},buildPreamble:function(){var name=this.moduleName||"@NAME@";return'YUI.add("'+name+'", function(Y, NAME, __imports__, __exports__) {\n    "use strict";\n'},buildMetas:function(){return JSON.stringify({es:true,requires:this.dependencyNames})},doModuleImport:function(name,dependencyName,idx){return"var "+name+' = __imports__["'+dependencyName+'"];\n'},doBareImport:function(name){return""},doDefaultImport:function(name,dependencyName,idx){if(this.options.compatFix===true){return"var "+name+' = __imports__["'+dependencyName+'"]["default"] || __imports__["'+dependencyName+'"];\n'}else{return"var "+name+' = __imports__["'+dependencyName+'"]["default"];\n'}},doNamedImport:function(name,dependencyName,alias){var member=name==="default"?'["default"]':"."+name;return"var "+alias+' = __imports__["'+dependencyName+'"]'+member+";\n"},doExportSpecifier:function(name,reexport){if(reexport){return"__exports__."+name+' = __imports__["'+reexport+'"].'+name+";\n"}return"__exports__."+name+" = "+name+";\n"},doExportDeclaration:function(name){return"\n__exports__."+name+" = "+name+";"},doDefaultExport:function(){return'__exports__["default"] = '},doImportSpecifiers:function(import_,idx){var dependencyName=import_.source.value;var replacement="";{var $__1=traceur.runtime.getIterator(import_.specifiers);try{while(true){var specifier=$__1.next();{var alias=specifier.name?specifier.name.name:specifier.id.name;replacement+=this.doNamedImport(specifier.id.name,dependencyName,alias)}}}catch(e){if(!traceur.runtime.isStopIteration(e))throw e}}return replacement}},{},$__proto,$__super,false);return $YUICompiler}(AbstractCompiler);module.exports=YUICompiler},{"./abstract_compiler":2,"./source_modifier":10}]},{},[8])(8)});(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{factory(root.esprima={})}})(this,function(exports){"use strict";var Token,TokenName,FnExprTokens,Syntax,PlaceHolders,PropertyKind,Messages,Regex,SyntaxTreeDelegate,source,strict,index,lineNumber,lineStart,length,delegate,lookahead,state,extra;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};PlaceHolders={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}};PropertyKind={Data:1,Get:2,Set:4};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}function isFutureReservedWord(id){switch(id){case"class":case"enum":case"export":case"extends":case"import":case"super":return true;default:return false}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isKeyword(id){if(strict&&isStrictModeReservedWord(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try"||id==="let";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function addComment(type,value,start,end,loc){var comment,attacher;assert(typeof start==="number","Comment must have valid position");if(state.lastCommentStart>=start){return}state.lastCommentStart=start;comment={type:type,value:value};if(extra.range){comment.range=[start,end]}if(extra.loc){comment.loc=loc}extra.comments.push(comment);if(extra.attachComment){extra.leadingComments.push(comment);extra.trailingComments.push(comment)}}function skipSingleLineComment(offset){var start,loc,ch,comment;start=index-offset;loc={start:{line:lineNumber,column:index-lineStart-offset}};while(index<length){ch=source.charCodeAt(index);++index;if(isLineTerminator(ch)){if(extra.comments){comment=source.slice(start+offset,index-1);loc.end={line:lineNumber,column:index-lineStart-1};addComment("Line",comment,start,index-1,loc)}if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index;return}}if(extra.comments){comment=source.slice(start+offset,index);loc.end={line:lineNumber,column:index-lineStart};addComment("Line",comment,start,index,loc)}}function skipMultiLineComment(){var start,loc,ch,comment;if(extra.comments){start=index-2;loc={start:{line:lineNumber,column:index-lineStart-2}}}while(index<length){ch=source.charCodeAt(index);if(isLineTerminator(ch)){if(ch===13&&source.charCodeAt(index+1)===10){++index}++lineNumber;++index;lineStart=index;if(index>=length){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}else if(ch===42){if(source.charCodeAt(index+1)===47){++index;++index;if(extra.comments){comment=source.slice(start+2,index-2);loc.end={line:lineNumber,column:index-lineStart};addComment("Block",comment,start,index,loc)}return}++index}else{++index}}throwError({},Messages.UnexpectedToken,"ILLEGAL")}function skipComment(){var ch,start;start=index===0;while(index<length){ch=source.charCodeAt(index);if(isWhiteSpace(ch)){++index}else if(isLineTerminator(ch)){++index;if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index;start=true}else if(ch===47){ch=source.charCodeAt(index+1);if(ch===47){++index;++index;skipSingleLineComment(2);start=true}else if(ch===42){++index;++index;skipMultiLineComment()
}else{break}}else if(start&&ch===45){if(source.charCodeAt(index+1)===45&&source.charCodeAt(index+2)===62){index+=3;skipSingleLineComment(3)}else{break}}else if(ch===60){if(source.slice(index+1,index+4)==="!--"){++index;++index;++index;++index;skipSingleLineComment(4)}else{break}}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{return""}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code,cu1,cu2;ch=source[index];code=0;if(ch==="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(code<=65535){return String.fromCharCode(code)}cu1=(code-65536>>10)+55296;cu2=(code-65536&1023)+56320;return String.fromCharCode(cu1,cu2)}function getEscapedIdentifier(){var ch,id;ch=source.charCodeAt(index++);id=String.fromCharCode(ch);if(ch===92){if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierStart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id=ch}while(index<length){ch=source.charCodeAt(index);if(!isIdentifierPart(ch)){break}++index;id+=String.fromCharCode(ch);if(ch===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwError({},Messages.UnexpectedToken,"ILLEGAL")}++index;ch=scanHexEscape("u");if(!ch||ch==="\\"||!isIdentifierPart(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getEscapedIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getEscapedIdentifier():getIdentifier();if(id.length===1){type=Token.Identifier}else if(isKeyword(id)){if(index-start===id.length){type=Token.Keyword}else{type=Token.Identifier}}else if(id==="null"){type=Token.NullLiteral}else if(id==="true"||id==="false"){type=Token.BooleanLiteral}else{type=Token.Identifier}return{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanPunctuator(){var start=index,code=source.charCodeAt(index),code2,ch1=source[index],ch2,ch3,ch4;switch(code){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:++index;if(extra.tokenize){if(code===40){extra.openParenToken=extra.tokens.length}else if(code===123){extra.openCurlyToken=extra.tokens.length}}return{type:Token.Punctuator,value:String.fromCharCode(code),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};default:code2=source.charCodeAt(index+1);if(code2===61){switch(code){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:index+=2;return{type:Token.Punctuator,value:String.fromCharCode(code)+String.fromCharCode(code2),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index};case 33:case 61:index+=2;if(source.charCodeAt(index)===61){++index}return{type:Token.Punctuator,value:source.slice(start,index),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}}}ch4=source.substr(index,4);if(ch4===">>>="){index+=4;return{type:Token.Punctuator,value:ch4,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}ch3=ch4.substr(0,3);if(ch3===">>>"||ch3==="<<="||ch3===">>="){index+=3;return{type:Token.Punctuator,value:ch3,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}ch2=ch3.substr(0,2);if(ch1===ch2[1]&&"+-<>&|".indexOf(ch1)>=0||ch2==="=>"){index+=2;return{type:Token.Punctuator,value:ch2,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}if("<>=!+-*%&|^/".indexOf(ch1)>=0){++index;return{type:Token.Punctuator,value:ch1,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}throwError({},Messages.UnexpectedToken,"ILLEGAL")}function scanHexLiteral(start){var number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwError({},Messages.UnexpectedToken,"ILLEGAL")}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanOctalLiteral(start){var number="0"+source[index++];while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseInt(number,8),octal:true,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(isOctalDigit(ch)){return scanOctalLiteral(start)}if(ch&&isDecimalDigit(ch.charCodeAt(0))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwError({},Messages.UnexpectedToken,"ILLEGAL")}}if(isIdentifierStart(source.charCodeAt(index))){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanStringLiteral(){var str="",quote,start,ch,code,unescaped,restore,octal=false,startLineNumber,startLineStart;startLineNumber=lineNumber;startLineStart=lineStart;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped){str+=unescaped}else{index=restore;str+=ch}}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="	";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="";break;default:if(isOctalDigit(ch)){code="01234567".indexOf(ch);if(code!==0){octal=true}if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}str+=String.fromCharCode(code)}else{str+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}lineStart=index}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){throwError({},Messages.UnexpectedToken,"ILLEGAL")}return{type:Token.StringLiteral,value:str,octal:octal,startLineNumber:startLineNumber,startLineStart:startLineStart,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function testRegExp(pattern,flags){var value;try{value=new RegExp(pattern,flags)}catch(e){throwError({},Messages.InvalidRegExp)}return value}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}str+=ch}else if(isLineTerminator(ch.charCodeAt(0))){throwError({},Messages.UnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){throwError({},Messages.UnterminatedRegExp)}body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags,restore;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){ch=source[index];if(ch==="u"){++index;restore=index;ch=scanHexEscape("u");if(ch){flags+=ch;for(str+="\\u";restore<index;++restore){str+=source[restore]}}else{index=restore;flags+="u";str+="\\u"}throwErrorTolerant({},Messages.UnexpectedToken,"ILLEGAL")}else{str+="\\"}}else{flags+=ch;str+=ch}}return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,pattern,value;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);if(extra.tokenize){return{type:Token.RegularExpression,value:value,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}return{literal:body.literal+flags.literal,value:value,start:start,end:index}}function collectRegex(){var pos,loc,regex,token;skipComment();pos=index;loc={start:{line:lineNumber,column:index-lineStart}};regex=scanRegExp();loc.end={line:lineNumber,column:index-lineStart};if(!extra.tokenize){if(extra.tokens.length>0){token=extra.tokens[extra.tokens.length-1];if(token.range[0]===pos&&token.type==="Punctuator"){if(token.value==="/"||token.value==="/="){extra.tokens.pop()}}}extra.tokens.push({type:"RegularExpression",value:regex.literal,range:[pos,index],loc:loc})}return regex}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var prevToken,checkToken;prevToken=extra.tokens[extra.tokens.length-1];if(!prevToken){return collectRegex()}if(prevToken.type==="Punctuator"){if(prevToken.value==="]"){return scanPunctuator()}if(prevToken.value===")"){checkToken=extra.tokens[extra.openParenToken-1];if(checkToken&&checkToken.type==="Keyword"&&(checkToken.value==="if"||checkToken.value==="while"||checkToken.value==="for"||checkToken.value==="with")){return collectRegex()}return scanPunctuator()}if(prevToken.value==="}"){if(extra.tokens[extra.openCurlyToken-3]&&extra.tokens[extra.openCurlyToken-3].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-4];if(!checkToken){return scanPunctuator()}}else if(extra.tokens[extra.openCurlyToken-4]&&extra.tokens[extra.openCurlyToken-4].type==="Keyword"){checkToken=extra.tokens[extra.openCurlyToken-5];if(!checkToken){return collectRegex()}}else{return scanPunctuator()}if(FnExprTokens.indexOf(checkToken.value)>=0){return scanPunctuator()}return collectRegex()}return collectRegex()}if(prevToken.type==="Keyword"){return collectRegex()}return scanPunctuator()}function advance(){var ch;skipComment();if(index>=length){return{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,start:index,end:index}}ch=source.charCodeAt(index);if(isIdentifierStart(ch)){return scanIdentifier()}if(ch===40||ch===41||ch===58){return scanPunctuator()}if(ch===39||ch===34){return scanStringLiteral()}if(ch===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(ch)){return scanNumericLiteral()}if(extra.tokenize&&ch===47){return advanceSlash()}return scanPunctuator()}function collectToken(){var loc,token,range,value;skipComment();loc={start:{line:lineNumber,column:index-lineStart}};token=advance();loc.end={line:lineNumber,column:index-lineStart};if(token.type!==Token.EOF){value=source.slice(token.start,token.end);extra.tokens.push({type:TokenName[token.type],value:value,range:[token.start,token.end],loc:loc})}return token}function lex(){var token;token=lookahead;index=token.end;lineNumber=token.lineNumber;lineStart=token.lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();index=token.end;lineNumber=token.lineNumber;lineStart=token.lineStart;return token}function peek(){var pos,line,start;pos=index;line=lineNumber;start=lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();index=pos;lineNumber=line;lineStart=start}function Position(){this.line=lineNumber;this.column=index-lineStart}function SourceLocation(){this.start=new Position;this.end=null}function WrappingSourceLocation(startToken){if(startToken.type===Token.StringLiteral){this.start={line:startToken.startLineNumber,column:startToken.start-startToken.startLineStart}}else{this.start={line:startToken.lineNumber,column:startToken.start-startToken.lineStart}}this.end=null}function Node(){index=lookahead.start;if(lookahead.type===Token.StringLiteral){lineNumber=lookahead.startLineNumber;lineStart=lookahead.startLineStart}else{lineNumber=lookahead.lineNumber;lineStart=lookahead.lineStart}if(extra.range){this.range=[index,0]}if(extra.loc){this.loc=new SourceLocation}}function WrappingNode(startToken){if(extra.range){this.range=[startToken.start,0]}if(extra.loc){this.loc=new WrappingSourceLocation(startToken)}}WrappingNode.prototype=Node.prototype={processComment:function(){var lastChild,trailingComments,bottomRight=extra.bottomRightStack,last=bottomRight[bottomRight.length-1];if(typeof this.type==="undefined"||this.type===Syntax.Program){return}peek();if(extra.trailingComments.length>0){if(extra.trailingComments[0].range[0]>=this.range[1]){trailingComments=extra.trailingComments;extra.trailingComments=[]}else{extra.trailingComments.length=0}}else{if(last&&last.trailingComments&&last.trailingComments[0].range[0]>=this.range[1]){trailingComments=last.trailingComments;delete last.trailingComments}}if(last){while(last&&last.range[0]>=this.range[0]){lastChild=last;last=bottomRight.pop()}}if(lastChild){if(lastChild.leadingComments&&lastChild.leadingComments[lastChild.leadingComments.length-1].range[1]<=this.range[0]){this.leadingComments=lastChild.leadingComments;lastChild.leadingComments=undefined}}else if(extra.leadingComments.length>0&&extra.leadingComments[extra.leadingComments.length-1].range[1]<=this.range[0]){this.leadingComments=extra.leadingComments;extra.leadingComments=[]}if(trailingComments){this.trailingComments=trailingComments}bottomRight.push(this)},finish:function(){if(extra.range){this.range[1]=index}if(extra.loc){this.loc.end=new Position;if(extra.source){this.loc.source=extra.source}}if(extra.attachComment){this.processComment()}},finishArrayExpression:function(elements){this.type=Syntax.ArrayExpression;this.elements=elements;this.finish();return this},finishArrowFunctionExpression:function(params,body,expression){this.type=Syntax.ArrowFunctionExpression;this.id=null;this.params=params;this.defaults=[];this.body=body;this.rest=null;this.generator=false;this.expression=expression;this.finish();return this},finishAssignmentExpression:function(operator,left,right){this.type=Syntax.AssignmentExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishBinaryExpression:function(operator,left,right){this.type=operator==="||"||operator==="&&"?Syntax.LogicalExpression:Syntax.BinaryExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishBlockStatement:function(body){this.type=Syntax.BlockStatement;this.body=body;this.finish();return this},finishBreakStatement:function(label){this.type=Syntax.BreakStatement;this.label=label;this.finish();return this},finishCallExpression:function(callee,args){this.type=Syntax.CallExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishCatchClause:function(param,body){this.type=Syntax.CatchClause;this.param=param;this.body=body;this.finish();return this},finishConditionalExpression:function(test,consequent,alternate){this.type=Syntax.ConditionalExpression;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishContinueStatement:function(label){this.type=Syntax.ContinueStatement;this.label=label;this.finish();return this},finishDebuggerStatement:function(){this.type=Syntax.DebuggerStatement;this.finish();return this},finishDoWhileStatement:function(body,test){this.type=Syntax.DoWhileStatement;this.body=body;this.test=test;this.finish();return this},finishEmptyStatement:function(){this.type=Syntax.EmptyStatement;this.finish();return this},finishExpressionStatement:function(expression){this.type=Syntax.ExpressionStatement;this.expression=expression;this.finish();return this},finishForStatement:function(init,test,update,body){this.type=Syntax.ForStatement;this.init=init;this.test=test;this.update=update;this.body=body;this.finish();return this},finishForInStatement:function(left,right,body){this.type=Syntax.ForInStatement;this.left=left;this.right=right;this.body=body;this.each=false;this.finish();return this},finishFunctionDeclaration:function(id,params,defaults,body){this.type=Syntax.FunctionDeclaration;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.rest=null;this.generator=false;this.expression=false;this.finish();return this},finishFunctionExpression:function(id,params,defaults,body){this.type=Syntax.FunctionExpression;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.rest=null;this.generator=false;this.expression=false;this.finish();return this},finishIdentifier:function(name){this.type=Syntax.Identifier;this.name=name;this.finish();return this},finishIfStatement:function(test,consequent,alternate){this.type=Syntax.IfStatement;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishLabeledStatement:function(label,body){this.type=Syntax.LabeledStatement;this.label=label;this.body=body;this.finish();return this},finishLiteral:function(token){this.type=Syntax.Literal;this.value=token.value;this.raw=source.slice(token.start,token.end);this.finish();return this},finishMemberExpression:function(accessor,object,property){this.type=Syntax.MemberExpression;this.computed=accessor==="[";this.object=object;this.property=property;this.finish();return this},finishNewExpression:function(callee,args){this.type=Syntax.NewExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishObjectExpression:function(properties){this.type=Syntax.ObjectExpression;this.properties=properties;this.finish();return this},finishPostfixExpression:function(operator,argument){this.type=Syntax.UpdateExpression;this.operator=operator;this.argument=argument;this.prefix=false;this.finish();return this},finishProgram:function(body){this.type=Syntax.Program;this.body=body;this.finish();return this},finishProperty:function(kind,key,value){this.type=Syntax.Property;this.key=key;this.value=value;this.kind=kind;this.finish();return this},finishReturnStatement:function(argument){this.type=Syntax.ReturnStatement;this.argument=argument;this.finish();return this},finishSequenceExpression:function(expressions){this.type=Syntax.SequenceExpression;this.expressions=expressions;this.finish();return this},finishSwitchCase:function(test,consequent){this.type=Syntax.SwitchCase;this.test=test;this.consequent=consequent;this.finish();return this},finishSwitchStatement:function(discriminant,cases){this.type=Syntax.SwitchStatement;this.discriminant=discriminant;this.cases=cases;this.finish();return this},finishThisExpression:function(){this.type=Syntax.ThisExpression;this.finish();return this},finishThrowStatement:function(argument){this.type=Syntax.ThrowStatement;this.argument=argument;this.finish();return this},finishTryStatement:function(block,guardedHandlers,handlers,finalizer){this.type=Syntax.TryStatement;this.block=block;this.guardedHandlers=guardedHandlers;this.handlers=handlers;this.finalizer=finalizer;this.finish();return this},finishUnaryExpression:function(operator,argument){this.type=operator==="++"||operator==="--"?Syntax.UpdateExpression:Syntax.UnaryExpression;this.operator=operator;this.argument=argument;this.prefix=true;this.finish();return this},finishVariableDeclaration:function(declarations,kind){this.type=Syntax.VariableDeclaration;this.declarations=declarations;this.kind=kind;this.finish();return this},finishVariableDeclarator:function(id,init){this.type=Syntax.VariableDeclarator;this.id=id;this.init=init;this.finish();return this},finishWhileStatement:function(test,body){this.type=Syntax.WhileStatement;this.test=test;this.body=body;this.finish();return this},finishWithStatement:function(object,body){this.type=Syntax.WithStatement;this.object=object;this.body=body;this.finish();return this}};function peekLineTerminator(){var pos,line,start,found;pos=index;line=lineNumber;start=lineStart;skipComment();found=lineNumber!==line;index=pos;lineNumber=line;lineStart=start;return found}function throwError(token,messageFormat){var error,args=Array.prototype.slice.call(arguments,2),msg=messageFormat.replace(/%(\d)/g,function(whole,index){assert(index<args.length,"Message reference must be in range");return args[index]});if(typeof token.lineNumber==="number"){error=new Error("Line "+token.lineNumber+": "+msg);error.index=token.start;error.lineNumber=token.lineNumber;error.column=token.start-lineStart+1}else{error=new Error("Line "+lineNumber+": "+msg);error.index=index;error.lineNumber=lineNumber;error.column=index-lineStart+1}error.description=msg;throw error}function throwErrorTolerant(){try{throwError.apply(null,arguments)}catch(e){if(extra.errors){extra.errors.push(e)}else{throw e}}}function throwUnexpected(token){if(token.type===Token.EOF){throwError(token,Messages.UnexpectedEOS)}if(token.type===Token.NumericLiteral){throwError(token,Messages.UnexpectedNumber)}if(token.type===Token.StringLiteral){throwError(token,Messages.UnexpectedString)}if(token.type===Token.Identifier){throwError(token,Messages.UnexpectedIdentifier)}if(token.type===Token.Keyword){if(isFutureReservedWord(token.value)){throwError(token,Messages.UnexpectedReserved)}else if(strict&&isStrictModeReservedWord(token.value)){throwErrorTolerant(token,Messages.StrictReservedWord);return}throwError(token,Messages.UnexpectedToken,token.value)}throwError(token,Messages.UnexpectedToken,token.value)}function expect(value){var token=lex();if(token.type!==Token.Punctuator||token.value!==value){throwUnexpected(token)}}function expectKeyword(keyword){var token=lex();if(token.type!==Token.Keyword||token.value!==keyword){throwUnexpected(token)}}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function matchAssign(){var op;if(lookahead.type!==Token.Punctuator){return false}op=lookahead.value;return op==="="||op==="*="||op==="/="||op==="%="||op==="+="||op==="-="||op==="<<="||op===">>="||op===">>>="||op==="&="||op==="^="||op==="|="}function consumeSemicolon(){var line;if(source.charCodeAt(index)===59){lex();return}line=lineNumber;skipComment();if(lineNumber!==line){return}if(match(";")){lex();return}if(lookahead.type!==Token.EOF&&!match("}")){throwUnexpected(lookahead)}}function isLeftHandSide(expr){return expr.type===Syntax.Identifier||expr.type===Syntax.MemberExpression}function parseArrayInitialiser(){var elements=[],node=new Node;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else{elements.push(parseAssignmentExpression());if(!match("]")){expect(",")}}}lex();return node.finishArrayExpression(elements)}function parsePropertyFunction(param,first){var previousStrict,body,node=new Node;previousStrict=strict;body=parseFunctionSourceElements();if(first&&strict&&isRestrictedWord(param[0].name)){throwErrorTolerant(first,Messages.StrictParamName)}strict=previousStrict;return node.finishFunctionExpression(null,param,[],body)}function parseObjectPropertyKey(){var token,node=new Node;token=lex();if(token.type===Token.StringLiteral||token.type===Token.NumericLiteral){if(strict&&token.octal){throwErrorTolerant(token,Messages.StrictOctalLiteral)}return node.finishLiteral(token)}return node.finishIdentifier(token.value)}function parseObjectProperty(){var token,key,id,value,param,node=new Node;token=lookahead;if(token.type===Token.Identifier){id=parseObjectPropertyKey();if(token.value==="get"&&!match(":")){key=parseObjectPropertyKey();expect("(");expect(")");value=parsePropertyFunction([]);return node.finishProperty("get",key,value)}if(token.value==="set"&&!match(":")){key=parseObjectPropertyKey();expect("(");token=lookahead;if(token.type!==Token.Identifier){expect(")");throwErrorTolerant(token,Messages.UnexpectedToken,token.value);value=parsePropertyFunction([])}else{param=[parseVariableIdentifier()];expect(")");value=parsePropertyFunction(param,token)}return node.finishProperty("set",key,value)}expect(":");value=parseAssignmentExpression();return node.finishProperty("init",id,value)}if(token.type===Token.EOF||token.type===Token.Punctuator){throwUnexpected(token)}else{key=parseObjectPropertyKey();expect(":");value=parseAssignmentExpression();return node.finishProperty("init",key,value)}}function parseObjectInitialiser(){var properties=[],property,name,key,kind,map={},toString=String,node=new Node;expect("{");while(!match("}")){property=parseObjectProperty();if(property.key.type===Syntax.Identifier){name=property.key.name}else{name=toString(property.key.value)}kind=property.kind==="init"?PropertyKind.Data:property.kind==="get"?PropertyKind.Get:PropertyKind.Set;key="$"+name;if(Object.prototype.hasOwnProperty.call(map,key)){if(map[key]===PropertyKind.Data){if(strict&&kind===PropertyKind.Data){throwErrorTolerant({},Messages.StrictDuplicateProperty)}else if(kind!==PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}}else{if(kind===PropertyKind.Data){throwErrorTolerant({},Messages.AccessorDataProperty)}else if(map[key]&kind){throwErrorTolerant({},Messages.AccessorGetSet)}}map[key]|=kind}else{map[key]=kind}properties.push(property);if(!match("}")){expect(",")}}expect("}");return node.finishObjectExpression(properties)}function parseGroupExpression(){var expr;expect("(");if(match(")")){lex();return PlaceHolders.ArrowParameterPlaceHolder}++state.parenthesisCount;expr=parseExpression();expect(")");return expr}function parsePrimaryExpression(){var type,token,expr,node;if(match("(")){return parseGroupExpression()}if(match("[")){return parseArrayInitialiser()}if(match("{")){return parseObjectInitialiser()}type=lookahead.type;node=new Node;if(type===Token.Identifier){expr=node.finishIdentifier(lex().value)}else if(type===Token.StringLiteral||type===Token.NumericLiteral){if(strict&&lookahead.octal){throwErrorTolerant(lookahead,Messages.StrictOctalLiteral)}expr=node.finishLiteral(lex())}else if(type===Token.Keyword){if(matchKeyword("function")){return parseFunctionExpression()}if(matchKeyword("this")){lex();expr=node.finishThisExpression()}else{throwUnexpected(lex())}}else if(type===Token.BooleanLiteral){token=lex();token.value=token.value==="true";expr=node.finishLiteral(token)}else if(type===Token.NullLiteral){token=lex();token.value=null;expr=node.finishLiteral(token)}else if(match("/")||match("/=")){if(typeof extra.tokens!=="undefined"){expr=node.finishLiteral(collectRegex())}else{expr=node.finishLiteral(scanRegExp())}peek()}else{throwUnexpected(lex())}return expr}function parseArguments(){var args=[];expect("(");if(!match(")")){while(index<length){args.push(parseAssignmentExpression());if(match(")")){break}expect(",")}}expect(")");return args}function parseNonComputedProperty(){var token,node=new Node;token=lex();if(!isIdentifierName(token)){throwUnexpected(token)}return node.finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){var expr;expect("[");expr=parseExpression();expect("]");return expr}function parseNewExpression(){var callee,args,node=new Node;expectKeyword("new");callee=parseLeftHandSideExpression();args=match("(")?parseArguments():[];return node.finishNewExpression(callee,args)}function parseLeftHandSideExpressionAllowCall(){var previousAllowIn,expr,args,property,startToken;startToken=lookahead;previousAllowIn=state.allowIn;state.allowIn=true;expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();state.allowIn=previousAllowIn;for(;;){if(match(".")){property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else if(match("(")){args=parseArguments();expr=new WrappingNode(startToken).finishCallExpression(expr,args)}else if(match("[")){property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else{break}}return expr}function parseLeftHandSideExpression(){var previousAllowIn,expr,property,startToken;startToken=lookahead;previousAllowIn=state.allowIn;expr=matchKeyword("new")?parseNewExpression():parsePrimaryExpression();state.allowIn=previousAllowIn;for(;;){if(match("[")){property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else if(match(".")){property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else{break}}return expr}function parsePostfixExpression(){var expr,token,startToken=lookahead;expr=parseLeftHandSideExpressionAllowCall();if(lookahead.type===Token.Punctuator){if((match("++")||match("--"))&&!peekLineTerminator()){if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant({},Messages.StrictLHSPostfix)}if(!isLeftHandSide(expr)){throwErrorTolerant({},Messages.InvalidLHSInAssignment)}token=lex();expr=new WrappingNode(startToken).finishPostfixExpression(token.value,expr)}}return expr}function parseUnaryExpression(){var token,expr,startToken;if(lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword){expr=parsePostfixExpression()}else if(match("++")||match("--")){startToken=lookahead;token=lex();expr=parseUnaryExpression();if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant({},Messages.StrictLHSPrefix)}if(!isLeftHandSide(expr)){throwErrorTolerant({},Messages.InvalidLHSInAssignment)}expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr)}else if(match("+")||match("-")||match("~")||match("!")){startToken=lookahead;token=lex();expr=parseUnaryExpression();expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr)}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){startToken=lookahead;token=lex();expr=parseUnaryExpression();expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);if(strict&&expr.operator==="delete"&&expr.argument.type===Syntax.Identifier){throwErrorTolerant({},Messages.StrictDelete)}}else{expr=parsePostfixExpression()}return expr}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break;default:break}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=parseUnaryExpression();if(left===PlaceHolders.ArrowParameterPlaceHolder){return left}token=lookahead;
prec=binaryPrecedence(token,state.allowIn);if(prec===0){return left}token.prec=prec;lex();markers=[marker,lookahead];right=parseUnaryExpression();stack=[left,token,right];while((prec=binaryPrecedence(lookahead,state.allowIn))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=new WrappingNode(markers[markers.length-1]).finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=parseUnaryExpression();stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){expr=new WrappingNode(markers.pop()).finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate,startToken;startToken=lookahead;expr=parseBinaryExpression();if(expr===PlaceHolders.ArrowParameterPlaceHolder){return expr}if(match("?")){lex();previousAllowIn=state.allowIn;state.allowIn=true;consequent=parseAssignmentExpression();state.allowIn=previousAllowIn;expect(":");alternate=parseAssignmentExpression();expr=new WrappingNode(startToken).finishConditionalExpression(expr,consequent,alternate)}return expr}function parseConciseBody(){if(match("{")){return parseFunctionSourceElements()}return parseAssignmentExpression()}function reinterpretAsCoverFormalsList(expressions){var i,len,param,params,defaults,options,rest;params=[];defaults=[];rest=null;options={paramSet:{}};for(i=0,len=expressions.length;i<len;i+=1){param=expressions[i];if(param.type===Syntax.Identifier){params.push(param);defaults.push(null);validateParam(options,param,param.name)}else{return null}}if(options.message===Messages.StrictParamDupe){throwError(strict?options.stricted:options.firstRestricted,options.message)}return{params:params,defaults:defaults,rest:rest,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseArrowFunctionExpression(options,node){var previousStrict,body;expect("=>");previousStrict=strict;body=parseConciseBody();if(strict&&options.firstRestricted){throwError(options.firstRestricted,options.message)}if(strict&&options.stricted){throwErrorTolerant(options.stricted,options.message)}strict=previousStrict;return node.finishArrowFunctionExpression(options.params,body,body.type!==Syntax.BlockStatement)}function parseAssignmentExpression(){var oldParenthesisCount,token,expr,right,params,list,startToken;oldParenthesisCount=state.parenthesisCount;startToken=lookahead;token=lookahead;expr=parseConditionalExpression();if(expr===PlaceHolders.ArrowParameterPlaceHolder||match("=>")){if(state.parenthesisCount===oldParenthesisCount||state.parenthesisCount===oldParenthesisCount+1){if(expr.type===Syntax.Identifier){list=reinterpretAsCoverFormalsList([expr])}else if(expr.type===Syntax.SequenceExpression){list=reinterpretAsCoverFormalsList(expr.expressions)}else if(expr===PlaceHolders.ArrowParameterPlaceHolder){list=reinterpretAsCoverFormalsList([])}if(list){return parseArrowFunctionExpression(list,new WrappingNode(startToken))}}}if(matchAssign()){if(!isLeftHandSide(expr)){throwErrorTolerant({},Messages.InvalidLHSInAssignment)}if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){throwErrorTolerant(token,Messages.StrictLHSAssignment)}token=lex();right=parseAssignmentExpression();expr=new WrappingNode(startToken).finishAssignmentExpression(token.value,expr,right)}return expr}function parseExpression(){var expr,startToken=lookahead,expressions;expr=parseAssignmentExpression();if(match(",")){expressions=[expr];while(index<length){if(!match(",")){break}lex();expressions.push(parseAssignmentExpression())}expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}return expr}function parseStatementList(){var list=[],statement;while(index<length){if(match("}")){break}statement=parseSourceElement();if(typeof statement==="undefined"){break}list.push(statement)}return list}function parseBlock(){var block,node=new Node;expect("{");block=parseStatementList();expect("}");return node.finishBlockStatement(block)}function parseVariableIdentifier(){var token,node=new Node;token=lex();if(token.type!==Token.Identifier){throwUnexpected(token)}return node.finishIdentifier(token.value)}function parseVariableDeclaration(kind){var init=null,id,node=new Node;id=parseVariableIdentifier();if(strict&&isRestrictedWord(id.name)){throwErrorTolerant({},Messages.StrictVarName)}if(kind==="const"){expect("=");init=parseAssignmentExpression()}else if(match("=")){lex();init=parseAssignmentExpression()}return node.finishVariableDeclarator(id,init)}function parseVariableDeclarationList(kind){var list=[];do{list.push(parseVariableDeclaration(kind));if(!match(",")){break}lex()}while(index<length);return list}function parseVariableStatement(node){var declarations;expectKeyword("var");declarations=parseVariableDeclarationList();consumeSemicolon();return node.finishVariableDeclaration(declarations,"var")}function parseConstLetDeclaration(kind){var declarations,node=new Node;expectKeyword(kind);declarations=parseVariableDeclarationList(kind);consumeSemicolon();return node.finishVariableDeclaration(declarations,kind)}function parseEmptyStatement(){var node=new Node;expect(";");return node.finishEmptyStatement()}function parseExpressionStatement(node){var expr=parseExpression();consumeSemicolon();return node.finishExpressionStatement(expr)}function parseIfStatement(node){var test,consequent,alternate;expectKeyword("if");expect("(");test=parseExpression();expect(")");consequent=parseStatement();if(matchKeyword("else")){lex();alternate=parseStatement()}else{alternate=null}return node.finishIfStatement(test,consequent,alternate)}function parseDoWhileStatement(node){var body,test,oldInIteration;expectKeyword("do");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");if(match(";")){lex()}return node.finishDoWhileStatement(body,test)}function parseWhileStatement(node){var test,body,oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;return node.finishWhileStatement(test,body)}function parseForVariableDeclaration(){var token,declarations,node=new Node;token=lex();declarations=parseVariableDeclarationList();return node.finishVariableDeclaration(declarations,token.value)}function parseForStatement(node){var init,test,update,left,right,body,oldInIteration;init=test=update=null;expectKeyword("for");expect("(");if(match(";")){lex()}else{if(matchKeyword("var")||matchKeyword("let")){state.allowIn=false;init=parseForVariableDeclaration();state.allowIn=true;if(init.declarations.length===1&&matchKeyword("in")){lex();left=init;right=parseExpression();init=null}}else{state.allowIn=false;init=parseExpression();state.allowIn=true;if(matchKeyword("in")){if(!isLeftHandSide(init)){throwErrorTolerant({},Messages.InvalidLHSInForIn)}lex();left=init;right=parseExpression();init=null}}if(typeof left==="undefined"){expect(";")}}if(typeof left==="undefined"){if(!match(";")){test=parseExpression()}expect(";");if(!match(")")){update=parseExpression()}}expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;return typeof left==="undefined"?node.finishForStatement(init,test,update,body):node.finishForInStatement(left,right,body)}function parseContinueStatement(node){var label=null,key;expectKeyword("continue");if(source.charCodeAt(index)===59){lex();if(!state.inIteration){throwError({},Messages.IllegalContinue)}return node.finishContinueStatement(null)}if(peekLineTerminator()){if(!state.inIteration){throwError({},Messages.IllegalContinue)}return node.finishContinueStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!state.inIteration){throwError({},Messages.IllegalContinue)}return node.finishContinueStatement(label)}function parseBreakStatement(node){var label=null,key;expectKeyword("break");if(source.charCodeAt(index)===59){lex();if(!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return node.finishBreakStatement(null)}if(peekLineTerminator()){if(!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return node.finishBreakStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!(state.inIteration||state.inSwitch)){throwError({},Messages.IllegalBreak)}return node.finishBreakStatement(label)}function parseReturnStatement(node){var argument=null;expectKeyword("return");if(!state.inFunctionBody){throwErrorTolerant({},Messages.IllegalReturn)}if(source.charCodeAt(index)===32){if(isIdentifierStart(source.charCodeAt(index+1))){argument=parseExpression();consumeSemicolon();return node.finishReturnStatement(argument)}}if(peekLineTerminator()){return node.finishReturnStatement(null)}if(!match(";")){if(!match("}")&&lookahead.type!==Token.EOF){argument=parseExpression()}}consumeSemicolon();return node.finishReturnStatement(argument)}function parseWithStatement(node){var object,body;if(strict){skipComment();throwErrorTolerant({},Messages.StrictModeWith)}expectKeyword("with");expect("(");object=parseExpression();expect(")");body=parseStatement();return node.finishWithStatement(object,body)}function parseSwitchCase(){var test,consequent=[],statement,node=new Node;if(matchKeyword("default")){lex();test=null}else{expectKeyword("case");test=parseExpression()}expect(":");while(index<length){if(match("}")||matchKeyword("default")||matchKeyword("case")){break}statement=parseStatement();consequent.push(statement)}return node.finishSwitchCase(test,consequent)}function parseSwitchStatement(node){var discriminant,cases,clause,oldInSwitch,defaultFound;expectKeyword("switch");expect("(");discriminant=parseExpression();expect(")");expect("{");cases=[];if(match("}")){lex();return node.finishSwitchStatement(discriminant,cases)}oldInSwitch=state.inSwitch;state.inSwitch=true;defaultFound=false;while(index<length){if(match("}")){break}clause=parseSwitchCase();if(clause.test===null){if(defaultFound){throwError({},Messages.MultipleDefaultsInSwitch)}defaultFound=true}cases.push(clause)}state.inSwitch=oldInSwitch;expect("}");return node.finishSwitchStatement(discriminant,cases)}function parseThrowStatement(node){var argument;expectKeyword("throw");if(peekLineTerminator()){throwError({},Messages.NewlineAfterThrow)}argument=parseExpression();consumeSemicolon();return node.finishThrowStatement(argument)}function parseCatchClause(){var param,body,node=new Node;expectKeyword("catch");expect("(");if(match(")")){throwUnexpected(lookahead)}param=parseVariableIdentifier();if(strict&&isRestrictedWord(param.name)){throwErrorTolerant({},Messages.StrictCatchVariable)}expect(")");body=parseBlock();return node.finishCatchClause(param,body)}function parseTryStatement(node){var block,handlers=[],finalizer=null;expectKeyword("try");block=parseBlock();if(matchKeyword("catch")){handlers.push(parseCatchClause())}if(matchKeyword("finally")){lex();finalizer=parseBlock()}if(handlers.length===0&&!finalizer){throwError({},Messages.NoCatchOrFinally)}return node.finishTryStatement(block,[],handlers,finalizer)}function parseDebuggerStatement(node){expectKeyword("debugger");consumeSemicolon();return node.finishDebuggerStatement()}function parseStatement(){var type=lookahead.type,expr,labeledBody,key,node;if(type===Token.EOF){throwUnexpected(lookahead)}if(type===Token.Punctuator&&lookahead.value==="{"){return parseBlock()}node=new Node;if(type===Token.Punctuator){switch(lookahead.value){case";":return parseEmptyStatement(node);case"(":return parseExpressionStatement(node);default:break}}else if(type===Token.Keyword){switch(lookahead.value){case"break":return parseBreakStatement(node);case"continue":return parseContinueStatement(node);case"debugger":return parseDebuggerStatement(node);case"do":return parseDoWhileStatement(node);case"for":return parseForStatement(node);case"function":return parseFunctionDeclaration(node);case"if":return parseIfStatement(node);case"return":return parseReturnStatement(node);case"switch":return parseSwitchStatement(node);case"throw":return parseThrowStatement(node);case"try":return parseTryStatement(node);case"var":return parseVariableStatement(node);case"while":return parseWhileStatement(node);case"with":return parseWithStatement(node);default:break}}expr=parseExpression();if(expr.type===Syntax.Identifier&&match(":")){lex();key="$"+expr.name;if(Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError({},Messages.Redeclaration,"Label",expr.name)}state.labelSet[key]=true;labeledBody=parseStatement();delete state.labelSet[key];return node.finishLabeledStatement(expr,labeledBody)}consumeSemicolon();return node.finishExpressionStatement(expr)}function parseFunctionSourceElements(){var sourceElement,sourceElements=[],token,directive,firstRestricted,oldLabelSet,oldInIteration,oldInSwitch,oldInFunctionBody,oldParenthesisCount,node=new Node;expect("{");while(index<length){if(lookahead.type!==Token.StringLiteral){break}token=lookahead;sourceElement=parseSourceElement();sourceElements.push(sourceElement);if(sourceElement.expression.type!==Syntax.Literal){break}directive=source.slice(token.start+1,token.end-1);if(directive==="use strict"){strict=true;if(firstRestricted){throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}oldLabelSet=state.labelSet;oldInIteration=state.inIteration;oldInSwitch=state.inSwitch;oldInFunctionBody=state.inFunctionBody;oldParenthesisCount=state.parenthesizedCount;state.labelSet={};state.inIteration=false;state.inSwitch=false;state.inFunctionBody=true;state.parenthesizedCount=0;while(index<length){if(match("}")){break}sourceElement=parseSourceElement();if(typeof sourceElement==="undefined"){break}sourceElements.push(sourceElement)}expect("}");state.labelSet=oldLabelSet;state.inIteration=oldInIteration;state.inSwitch=oldInSwitch;state.inFunctionBody=oldInFunctionBody;state.parenthesizedCount=oldParenthesisCount;return node.finishBlockStatement(sourceElements)}function validateParam(options,param,name){var key="$"+name;if(strict){if(isRestrictedWord(name)){options.stricted=param;options.message=Messages.StrictParamName}if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=Messages.StrictParamDupe}}else if(!options.firstRestricted){if(isRestrictedWord(name)){options.firstRestricted=param;options.message=Messages.StrictParamName}else if(isStrictModeReservedWord(name)){options.firstRestricted=param;options.message=Messages.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.firstRestricted=param;options.message=Messages.StrictParamDupe}}options.paramSet[key]=true}function parseParams(firstRestricted){var param,options,token;options={params:[],firstRestricted:firstRestricted};expect("(");if(!match(")")){options.paramSet={};while(index<length){token=lookahead;param=parseVariableIdentifier();validateParam(options,token,token.value);options.params.push(param);if(match(")")){break}expect(",")}}expect(")");return{params:options.params,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseFunctionDeclaration(){var id,params=[],body,token,stricted,tmp,firstRestricted,message,previousStrict,node=new Node;expectKeyword("function");token=lookahead;id=parseVariableIdentifier();if(strict){if(isRestrictedWord(token.value)){throwErrorTolerant(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}tmp=parseParams(firstRestricted);params=tmp.params;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;body=parseFunctionSourceElements();if(strict&&firstRestricted){throwError(firstRestricted,message)}if(strict&&stricted){throwErrorTolerant(stricted,message)}strict=previousStrict;return node.finishFunctionDeclaration(id,params,[],body)}function parseFunctionExpression(){var token,id=null,stricted,firstRestricted,message,tmp,params=[],body,previousStrict,node=new Node;expectKeyword("function");if(!match("(")){token=lookahead;id=parseVariableIdentifier();if(strict){if(isRestrictedWord(token.value)){throwErrorTolerant(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}}tmp=parseParams(firstRestricted);params=tmp.params;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;body=parseFunctionSourceElements();if(strict&&firstRestricted){throwError(firstRestricted,message)}if(strict&&stricted){throwErrorTolerant(stricted,message)}strict=previousStrict;return node.finishFunctionExpression(id,params,[],body)}function parseSourceElement(){if(lookahead.type===Token.Keyword){switch(lookahead.value){case"const":case"let":return parseConstLetDeclaration(lookahead.value);case"function":return parseFunctionDeclaration();default:return parseStatement()}}if(lookahead.type!==Token.EOF){return parseStatement()}}function parseSourceElements(){var sourceElement,sourceElements=[],token,directive,firstRestricted;while(index<length){token=lookahead;if(token.type!==Token.StringLiteral){break}sourceElement=parseSourceElement();sourceElements.push(sourceElement);if(sourceElement.expression.type!==Syntax.Literal){break}directive=source.slice(token.start+1,token.end-1);if(directive==="use strict"){strict=true;if(firstRestricted){throwErrorTolerant(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}while(index<length){sourceElement=parseSourceElement();if(typeof sourceElement==="undefined"){break}sourceElements.push(sourceElement)}return sourceElements}function parseProgram(){var body,node;skipComment();peek();node=new Node;strict=false;body=parseSourceElements();return node.finishProgram(body)}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i){entry=extra.tokens[i];token={type:entry.type,value:entry.value};if(extra.range){token.range=entry.range}if(extra.loc){token.loc=entry.loc}tokens.push(token)}extra.tokens=tokens}function tokenize(code,options){var toString,token,tokens;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}delegate=SyntaxTreeDelegate;source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1};extra={};options=options||{};options.tokens=true;extra.tokens=[];extra.tokenize=true;extra.openParenToken=-1;extra.openCurlyToken=-1;extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}try{peek();if(lookahead.type===Token.EOF){return extra.tokens}token=lex();while(lookahead.type!==Token.EOF){try{token=lex()}catch(lexError){token=lookahead;if(extra.errors){extra.errors.push(lexError);break}else{throw lexError}}}filterTokenLocation();tokens=extra.tokens;if(typeof extra.comments!=="undefined"){tokens.comments=extra.comments}if(typeof extra.errors!=="undefined"){tokens.errors=extra.errors}}catch(e){throw e}finally{extra={}}return tokens}function parse(code,options){var program,toString;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}delegate=SyntaxTreeDelegate;source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;length=source.length;lookahead=null;state={allowIn:true,labelSet:{},parenthesisCount:0,inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1};extra={};if(typeof options!=="undefined"){extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;extra.attachComment=typeof options.attachComment==="boolean"&&options.attachComment;if(extra.loc&&options.source!==null&&options.source!==undefined){extra.source=toString(options.source)}if(typeof options.tokens==="boolean"&&options.tokens){extra.tokens=[]}if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}if(extra.attachComment){extra.range=true;extra.comments=[];extra.bottomRightStack=[];extra.trailingComments=[];extra.leadingComments=[]}}try{program=parseProgram();if(typeof extra.comments!=="undefined"){program.comments=extra.comments}if(typeof extra.tokens!=="undefined"){filterTokenLocation();program.tokens=extra.tokens}if(typeof extra.errors!=="undefined"){program.errors=extra.errors}}catch(e){throw e}finally{extra={}}return program}exports.version="2.0.0-dev";exports.tokenize=tokenize;exports.parse=parse;exports.Syntax=function(){var name,types={};if(typeof Object.create==="function"){types=Object.create(null)}for(name in Syntax){if(Syntax.hasOwnProperty(name)){types[name]=Syntax[name]}}if(typeof Object.freeze==="function"){Object.freeze(types)}return types}()});(function(global){function require(file,parentModule){if({}.hasOwnProperty.call(require.cache,file))return require.cache[file];var resolved=require.resolve(file);if(!resolved)throw new Error("Failed to resolve module "+file);var module$={id:file,require:require,filename:file,exports:{},loaded:false,parent:parentModule,children:[]};if(parentModule)parentModule.children.push(module$);var dirname=file.slice(0,file.lastIndexOf("/")+1);require.cache[file]=module$.exports;resolved.call(module$.exports,module$,module$.exports,dirname,file);module$.loaded=true;return require.cache[file]=module$.exports}require.modules={};require.cache={};require.resolve=function(file){return{}.hasOwnProperty.call(require.modules,file)?require.modules[file]:void 0};require.define=function(file,fn){require.modules[file]=fn};var process=function(){var cwd="/";return{title:"browser",version:"v0.10.26",browser:true,env:{},argv:[],nextTick:global.setImmediate||function(fn){setTimeout(fn,0)},cwd:function(){return cwd},chdir:function(dir){cwd=dir}}}();require.define("/tools/entry-point.js",function(module,exports,__dirname,__filename){(function(){"use strict";global.escodegen=require("/escodegen.js",module);escodegen.browser=true})()});require.define("/escodegen.js",function(module,exports,__dirname,__filename){(function(){"use strict";var Syntax,Precedence,BinaryPrecedence,SourceNode,estraverse,esutils,isArray,base,indent,json,renumber,hexadecimal,quotes,escapeless,newline,space,parentheses,semicolons,safeConcatenation,directive,extra,parse,sourceMap,FORMAT_MINIFY,FORMAT_DEFAULTS;estraverse=require("/node_modules/estraverse/estraverse.js",module);esutils=require("/node_modules/esutils/lib/utils.js",module);Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportDeclaration:"ExportDeclaration",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};Precedence={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,Member:17,Primary:18};BinaryPrecedence={"||":Precedence.LogicalOR,"&&":Precedence.LogicalAND,"|":Precedence.BitwiseOR,"^":Precedence.BitwiseXOR,"&":Precedence.BitwiseAND,"==":Precedence.Equality,"!=":Precedence.Equality,"===":Precedence.Equality,"!==":Precedence.Equality,is:Precedence.Equality,isnt:Precedence.Equality,"<":Precedence.Relational,">":Precedence.Relational,"<=":Precedence.Relational,">=":Precedence.Relational,"in":Precedence.Relational,"instanceof":Precedence.Relational,"<<":Precedence.BitwiseSHIFT,">>":Precedence.BitwiseSHIFT,">>>":Precedence.BitwiseSHIFT,"+":Precedence.Additive,"-":Precedence.Additive,"*":Precedence.Multiplicative,"%":Precedence.Multiplicative,"/":Precedence.Multiplicative};function getDefaultOptions(){return{indent:null,base:null,parse:null,comment:false,format:{indent:{style:"    ",base:0,adjustMultilineComment:false},newline:"\n",space:" ",json:false,renumber:false,hexadecimal:false,quotes:"single",escapeless:false,compact:false,parentheses:true,semicolons:true,safeConcatenation:false},moz:{comprehensionExpressionStartsWithAssignment:false,starlessGenerator:false,parenthesizedComprehensionBlock:false},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:false,directive:false,raw:true,verbatim:null}}function stringRepeat(str,num){var result="";for(num|=0;num>0;num>>>=1,str+=str){if(num&1){result+=str}}return result}isArray=Array.isArray;if(!isArray){isArray=function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}}function hasLineTerminator(str){return/[\r\n]/g.test(str)}function endsWithLineTerminator(str){var len=str.length;return len&&esutils.code.isLineTerminator(str.charCodeAt(len-1))}function updateDeeply(target,override){var key,val;function isHashObject(target){return typeof target==="object"&&target instanceof Object&&!(target instanceof RegExp)}for(key in override){if(override.hasOwnProperty(key)){val=override[key];if(isHashObject(val)){if(isHashObject(target[key])){updateDeeply(target[key],val)}else{target[key]=updateDeeply({},val)}}else{target[key]=val}}}return target}function generateNumber(value){var result,point,temp,exponent,pos;if(value!==value){throw new Error("Numeric literal whose value is NaN")}if(value<0||value===0&&1/value<0){throw new Error("Numeric literal whose value is negative")}if(value===1/0){return json?"null":renumber?"1e400":"1e+400"}result=""+value;if(!renumber||result.length<3){return result}point=result.indexOf(".");if(!json&&result.charCodeAt(0)===48&&point===1){point=0;result=result.slice(1)}temp=result;result=result.replace("e+","e");exponent=0;if((pos=temp.indexOf("e"))>0){exponent=+temp.slice(pos+1);temp=temp.slice(0,pos)}if(point>=0){exponent-=temp.length-point-1;temp=+(temp.slice(0,point)+temp.slice(point+1))+""}pos=0;while(temp.charCodeAt(temp.length+pos-1)===48){--pos}if(pos!==0){exponent-=pos;temp=temp.slice(0,pos)}if(exponent!==0){temp+="e"+exponent}if((temp.length<result.length||hexadecimal&&value>1e12&&Math.floor(value)===value&&(temp="0x"+value.toString(16)).length<result.length)&&+temp===value){result=temp}return result}function escapeRegExpCharacter(ch,previousIsBackslash){if((ch&~1)===8232){return(previousIsBackslash?"u":"\\u")+(ch===8232?"2028":"2029")}else if(ch===10||ch===13){return(previousIsBackslash?"":"\\")+(ch===10?"n":"r")}return String.fromCharCode(ch)}function generateRegExp(reg){var match,result,flags,i,iz,ch,characterInBrack,previousIsBackslash;result=reg.toString();if(reg.source){match=result.match(/\/([^/]*)$/);if(!match){return result}flags=match[1];result="";characterInBrack=false;previousIsBackslash=false;for(i=0,iz=reg.source.length;i<iz;++i){ch=reg.source.charCodeAt(i);if(!previousIsBackslash){if(characterInBrack){if(ch===93){characterInBrack=false}}else{if(ch===47){result+="\\"}else if(ch===91){characterInBrack=true}}result+=escapeRegExpCharacter(ch,previousIsBackslash);previousIsBackslash=ch===92}else{result+=escapeRegExpCharacter(ch,previousIsBackslash);previousIsBackslash=false}}return"/"+result+"/"+flags}return result}function escapeAllowedCharacter(code,next){var hex,result="\\";switch(code){case 8:result+="b";break;case 12:result+="f";break;case 9:result+="t";break;default:hex=code.toString(16).toUpperCase();if(json||code>255){result+="u"+"0000".slice(hex.length)+hex}else if(code===0&&!esutils.code.isDecimalDigit(next)){result+="0"}else if(code===11){result+="x0B"}else{result+="x"+"00".slice(hex.length)+hex}break}return result}function escapeDisallowedCharacter(code){var result="\\";switch(code){case 92:result+="\\";break;case 10:result+="n";break;case 13:result+="r";break;case 8232:result+="u2028";break;case 8233:result+="u2029";break;default:throw new Error("Incorrectly classified character")}return result}function escapeDirective(str){var i,iz,code,quote;quote=quotes==="double"?'"':"'";for(i=0,iz=str.length;i<iz;++i){code=str.charCodeAt(i);if(code===39){quote='"';break}else if(code===34){quote="'";break}else if(code===92){++i}}return quote+str+quote}function escapeString(str){var result="",i,len,code,singleQuotes=0,doubleQuotes=0,single,quote;for(i=0,len=str.length;i<len;++i){code=str.charCodeAt(i);if(code===39){++singleQuotes}else if(code===34){++doubleQuotes}else if(code===47&&json){result+="\\"}else if(esutils.code.isLineTerminator(code)||code===92){result+=escapeDisallowedCharacter(code);continue}else if(json&&code<32||!(json||escapeless||code>=32&&code<=126)){result+=escapeAllowedCharacter(code,str.charCodeAt(i+1));continue}result+=String.fromCharCode(code)}single=!(quotes==="double"||quotes==="auto"&&doubleQuotes<singleQuotes);quote=single?"'":'"';if(!(single?singleQuotes:doubleQuotes)){return quote+result+quote}str=result;result=quote;for(i=0,len=str.length;i<len;++i){code=str.charCodeAt(i);if(code===39&&single||code===34&&!single){result+="\\"}result+=String.fromCharCode(code)}return result+quote}function flattenToString(arr){var i,iz,elem,result="";for(i=0,iz=arr.length;i<iz;++i){elem=arr[i];result+=isArray(elem)?flattenToString(elem):elem}return result}function toSourceNodeWhenNeeded(generated,node){if(!sourceMap){if(isArray(generated)){return flattenToString(generated)}else{return generated}}if(node==null){if(generated instanceof SourceNode){return generated}else{node={}}}if(node.loc==null){return new SourceNode(null,null,sourceMap,generated,node.name||null)
}return new SourceNode(node.loc.start.line,node.loc.start.column,sourceMap===true?node.loc.source||null:sourceMap,generated,node.name||null)}function noEmptySpace(){return space?space:" "}function join(left,right){var leftSource=toSourceNodeWhenNeeded(left).toString(),rightSource=toSourceNodeWhenNeeded(right).toString(),leftCharCode=leftSource.charCodeAt(leftSource.length-1),rightCharCode=rightSource.charCodeAt(0);if((leftCharCode===43||leftCharCode===45)&&leftCharCode===rightCharCode||esutils.code.isIdentifierPart(leftCharCode)&&esutils.code.isIdentifierPart(rightCharCode)||leftCharCode===47&&rightCharCode===105){return[left,noEmptySpace(),right]}else if(esutils.code.isWhiteSpace(leftCharCode)||esutils.code.isLineTerminator(leftCharCode)||esutils.code.isWhiteSpace(rightCharCode)||esutils.code.isLineTerminator(rightCharCode)){return[left,right]}return[left,space,right]}function addIndent(stmt){return[base,stmt]}function withIndent(fn){var previousBase,result;previousBase=base;base+=indent;result=fn.call(this,base);base=previousBase;return result}function calculateSpaces(str){var i;for(i=str.length-1;i>=0;--i){if(esutils.code.isLineTerminator(str.charCodeAt(i))){break}}return str.length-1-i}function adjustMultilineComment(value,specialBase){var array,i,len,line,j,spaces,previousBase,sn;array=value.split(/\r\n|[\r\n]/);spaces=Number.MAX_VALUE;for(i=1,len=array.length;i<len;++i){line=array[i];j=0;while(j<line.length&&esutils.code.isWhiteSpace(line.charCodeAt(j))){++j}if(spaces>j){spaces=j}}if(typeof specialBase!=="undefined"){previousBase=base;if(array[1][spaces]==="*"){specialBase+=" "}base=specialBase}else{if(spaces&1){--spaces}previousBase=base}for(i=1,len=array.length;i<len;++i){sn=toSourceNodeWhenNeeded(addIndent(array[i].slice(spaces)));array[i]=sourceMap?sn.join(""):sn}base=previousBase;return array.join("\n")}function generateComment(comment,specialBase){if(comment.type==="Line"){if(endsWithLineTerminator(comment.value)){return"//"+comment.value}else{return"//"+comment.value+"\n"}}if(extra.format.indent.adjustMultilineComment&&/[\n\r]/.test(comment.value)){return adjustMultilineComment("/*"+comment.value+"*/",specialBase)}return"/*"+comment.value+"*/"}function addComments(stmt,result){var i,len,comment,save,tailingToStatement,specialBase,fragment;if(stmt.leadingComments&&stmt.leadingComments.length>0){save=result;comment=stmt.leadingComments[0];result=[];if(safeConcatenation&&stmt.type===Syntax.Program&&stmt.body.length===0){result.push("\n")}result.push(generateComment(comment));if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push("\n")}for(i=1,len=stmt.leadingComments.length;i<len;++i){comment=stmt.leadingComments[i];fragment=[generateComment(comment)];if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){fragment.push("\n")}result.push(addIndent(fragment))}result.push(addIndent(save))}if(stmt.trailingComments){tailingToStatement=!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());specialBase=stringRepeat(" ",calculateSpaces(toSourceNodeWhenNeeded([base,result,indent]).toString()));for(i=0,len=stmt.trailingComments.length;i<len;++i){comment=stmt.trailingComments[i];if(tailingToStatement){if(i===0){result=[result,indent]}else{result=[result,specialBase]}result.push(generateComment(comment,specialBase))}else{result=[result,addIndent(generateComment(comment))]}if(i!==len-1&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result=[result,"\n"]}}}return result}function parenthesize(text,current,should){if(current<should){return["(",text,")"]}return text}function maybeBlock(stmt,semicolonOptional,functionBody){var result,noLeadingComment;noLeadingComment=!extra.comment||!stmt.leadingComments;if(stmt.type===Syntax.BlockStatement&&noLeadingComment){return[space,generateStatement(stmt,{functionBody:functionBody})]}if(stmt.type===Syntax.EmptyStatement&&noLeadingComment){return";"}withIndent(function(){result=[newline,addIndent(generateStatement(stmt,{semicolonOptional:semicolonOptional,functionBody:functionBody}))]});return result}function maybeBlockSuffix(stmt,result){var ends=endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString());if(stmt.type===Syntax.BlockStatement&&(!extra.comment||!stmt.leadingComments)&&!ends){return[result,space]}if(ends){return[result,base]}return[result,newline,base]}function generateVerbatimString(string){var i,iz,result;result=string.split(/\r\n|\n/);for(i=1,iz=result.length;i<iz;i++){result[i]=newline+base+result[i]}return result}function generateVerbatim(expr,option){var verbatim,result,prec;verbatim=expr[extra.verbatim];if(typeof verbatim==="string"){result=parenthesize(generateVerbatimString(verbatim),Precedence.Sequence,option.precedence)}else{result=generateVerbatimString(verbatim.content);prec=verbatim.precedence!=null?verbatim.precedence:Precedence.Sequence;result=parenthesize(result,prec,option.precedence)}return toSourceNodeWhenNeeded(result,expr)}function generateIdentifier(node){return toSourceNodeWhenNeeded(node.name,node)}function generatePattern(node,options){var result;if(node.type===Syntax.Identifier){result=generateIdentifier(node)}else{result=generateExpression(node,{precedence:options.precedence,allowIn:options.allowIn,allowCall:true})}return result}function generateFunctionBody(node){var result,i,len,expr,arrow;arrow=node.type===Syntax.ArrowFunctionExpression;if(arrow&&node.params.length===1&&node.params[0].type===Syntax.Identifier){result=[generateIdentifier(node.params[0])]}else{result=["("];for(i=0,len=node.params.length;i<len;++i){result.push(generatePattern(node.params[i],{precedence:Precedence.Assignment,allowIn:true}));if(i+1<len){result.push(","+space)}}result.push(")")}if(arrow){result.push(space);result.push("=>")}if(node.expression){result.push(space);expr=generateExpression(node.body,{precedence:Precedence.Assignment,allowIn:true,allowCall:true});if(expr.toString().charAt(0)==="{"){expr=["(",expr,")"]}result.push(expr)}else{result.push(maybeBlock(node.body,false,true))}return result}function generateIterationForStatement(operator,stmt,semicolonIsNotNeeded){var result=["for"+space+"("];withIndent(function(){if(stmt.left.type===Syntax.VariableDeclaration){withIndent(function(){result.push(stmt.left.kind+noEmptySpace());result.push(generateStatement(stmt.left.declarations[0],{allowIn:false}))})}else{result.push(generateExpression(stmt.left,{precedence:Precedence.Call,allowIn:true,allowCall:true}))}result=join(result,operator);result=[join(result,generateExpression(stmt.right,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})),")"]});result.push(maybeBlock(stmt.body,semicolonIsNotNeeded));return result}function generateExpression(expr,option){var result,precedence,type,currentPrecedence,i,len,raw,fragment,multiline,leftCharCode,leftSource,rightCharCode,allowIn,allowCall,allowUnparenthesizedNew,property,isGenerator;precedence=option.precedence;allowIn=option.allowIn;allowCall=option.allowCall;type=expr.type||option.type;if(extra.verbatim&&expr.hasOwnProperty(extra.verbatim)){return generateVerbatim(expr,option)}switch(type){case Syntax.SequenceExpression:result=[];allowIn|=Precedence.Sequence<precedence;for(i=0,len=expr.expressions.length;i<len;++i){result.push(generateExpression(expr.expressions[i],{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true}));if(i+1<len){result.push(","+space)}}result=parenthesize(result,Precedence.Sequence,precedence);break;case Syntax.AssignmentExpression:allowIn|=Precedence.Assignment<precedence;result=parenthesize([generateExpression(expr.left,{precedence:Precedence.Call,allowIn:allowIn,allowCall:true}),space+expr.operator+space,generateExpression(expr.right,{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true})],Precedence.Assignment,precedence);break;case Syntax.ArrowFunctionExpression:allowIn|=Precedence.ArrowFunction<precedence;result=parenthesize(generateFunctionBody(expr),Precedence.ArrowFunction,precedence);break;case Syntax.ConditionalExpression:allowIn|=Precedence.Conditional<precedence;result=parenthesize([generateExpression(expr.test,{precedence:Precedence.LogicalOR,allowIn:allowIn,allowCall:true}),space+"?"+space,generateExpression(expr.consequent,{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true}),space+":"+space,generateExpression(expr.alternate,{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true})],Precedence.Conditional,precedence);break;case Syntax.LogicalExpression:case Syntax.BinaryExpression:currentPrecedence=BinaryPrecedence[expr.operator];allowIn|=currentPrecedence<precedence;fragment=generateExpression(expr.left,{precedence:currentPrecedence,allowIn:allowIn,allowCall:true});leftSource=fragment.toString();if(leftSource.charCodeAt(leftSource.length-1)===47&&esutils.code.isIdentifierPart(expr.operator.charCodeAt(0))){result=[fragment,noEmptySpace(),expr.operator]}else{result=join(fragment,expr.operator)}fragment=generateExpression(expr.right,{precedence:currentPrecedence+1,allowIn:allowIn,allowCall:true});if(expr.operator==="/"&&fragment.toString().charAt(0)==="/"||expr.operator.slice(-1)==="<"&&fragment.toString().slice(0,3)==="!--"){result.push(noEmptySpace());result.push(fragment)}else{result=join(result,fragment)}if(expr.operator==="in"&&!allowIn){result=["(",result,")"]}else{result=parenthesize(result,currentPrecedence,precedence)}break;case Syntax.CallExpression:result=[generateExpression(expr.callee,{precedence:Precedence.Call,allowIn:true,allowCall:true,allowUnparenthesizedNew:false})];result.push("(");for(i=0,len=expr["arguments"].length;i<len;++i){result.push(generateExpression(expr["arguments"][i],{precedence:Precedence.Assignment,allowIn:true,allowCall:true}));if(i+1<len){result.push(","+space)}}result.push(")");if(!allowCall){result=["(",result,")"]}else{result=parenthesize(result,Precedence.Call,precedence)}break;case Syntax.NewExpression:len=expr["arguments"].length;allowUnparenthesizedNew=option.allowUnparenthesizedNew===undefined||option.allowUnparenthesizedNew;result=join("new",generateExpression(expr.callee,{precedence:Precedence.New,allowIn:true,allowCall:false,allowUnparenthesizedNew:allowUnparenthesizedNew&&!parentheses&&len===0}));if(!allowUnparenthesizedNew||parentheses||len>0){result.push("(");for(i=0;i<len;++i){result.push(generateExpression(expr["arguments"][i],{precedence:Precedence.Assignment,allowIn:true,allowCall:true}));if(i+1<len){result.push(","+space)}}result.push(")")}result=parenthesize(result,Precedence.New,precedence);break;case Syntax.MemberExpression:result=[generateExpression(expr.object,{precedence:Precedence.Call,allowIn:true,allowCall:allowCall,allowUnparenthesizedNew:false})];if(expr.computed){result.push("[");result.push(generateExpression(expr.property,{precedence:Precedence.Sequence,allowIn:true,allowCall:allowCall}));result.push("]")}else{if(expr.object.type===Syntax.Literal&&typeof expr.object.value==="number"){fragment=toSourceNodeWhenNeeded(result).toString();if(fragment.indexOf(".")<0&&!/[eExX]/.test(fragment)&&esutils.code.isDecimalDigit(fragment.charCodeAt(fragment.length-1))&&!(fragment.length>=2&&fragment.charCodeAt(0)===48)){result.push(".")}}result.push(".");result.push(generateIdentifier(expr.property))}result=parenthesize(result,Precedence.Member,precedence);break;case Syntax.UnaryExpression:fragment=generateExpression(expr.argument,{precedence:Precedence.Unary,allowIn:true,allowCall:true});if(space===""){result=join(expr.operator,fragment)}else{result=[expr.operator];if(expr.operator.length>2){result=join(result,fragment)}else{leftSource=toSourceNodeWhenNeeded(result).toString();leftCharCode=leftSource.charCodeAt(leftSource.length-1);rightCharCode=fragment.toString().charCodeAt(0);if((leftCharCode===43||leftCharCode===45)&&leftCharCode===rightCharCode||esutils.code.isIdentifierPart(leftCharCode)&&esutils.code.isIdentifierPart(rightCharCode)){result.push(noEmptySpace());result.push(fragment)}else{result.push(fragment)}}}result=parenthesize(result,Precedence.Unary,precedence);break;case Syntax.YieldExpression:if(expr.delegate){result="yield*"}else{result="yield"}if(expr.argument){result=join(result,generateExpression(expr.argument,{precedence:Precedence.Yield,allowIn:true,allowCall:true}))}result=parenthesize(result,Precedence.Yield,precedence);break;case Syntax.UpdateExpression:if(expr.prefix){result=parenthesize([expr.operator,generateExpression(expr.argument,{precedence:Precedence.Unary,allowIn:true,allowCall:true})],Precedence.Unary,precedence)}else{result=parenthesize([generateExpression(expr.argument,{precedence:Precedence.Postfix,allowIn:true,allowCall:true}),expr.operator],Precedence.Postfix,precedence)}break;case Syntax.FunctionExpression:isGenerator=expr.generator&&!extra.moz.starlessGenerator;result=isGenerator?"function*":"function";if(expr.id){result=[result,isGenerator?space:noEmptySpace(),generateIdentifier(expr.id),generateFunctionBody(expr)]}else{result=[result+space,generateFunctionBody(expr)]}break;case Syntax.ArrayPattern:case Syntax.ArrayExpression:if(!expr.elements.length){result="[]";break}multiline=expr.elements.length>1;result=["[",multiline?newline:""];withIndent(function(indent){for(i=0,len=expr.elements.length;i<len;++i){if(!expr.elements[i]){if(multiline){result.push(indent)}if(i+1===len){result.push(",")}}else{result.push(multiline?indent:"");result.push(generateExpression(expr.elements[i],{precedence:Precedence.Assignment,allowIn:true,allowCall:true}))}if(i+1<len){result.push(","+(multiline?newline:space))}}});if(multiline&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(multiline?base:"");result.push("]");break;case Syntax.Property:if(expr.kind==="get"||expr.kind==="set"){result=[expr.kind,noEmptySpace(),generateExpression(expr.key,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),generateFunctionBody(expr.value)]}else{if(expr.shorthand){result=generateExpression(expr.key,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})}else if(expr.method){result=[];if(expr.value.generator){result.push("*")}result.push(generateExpression(expr.key,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}));result.push(generateFunctionBody(expr.value))}else{result=[generateExpression(expr.key,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),":"+space,generateExpression(expr.value,{precedence:Precedence.Assignment,allowIn:true,allowCall:true})]}}break;case Syntax.ObjectExpression:if(!expr.properties.length){result="{}";break}multiline=expr.properties.length>1;withIndent(function(){fragment=generateExpression(expr.properties[0],{precedence:Precedence.Sequence,allowIn:true,allowCall:true,type:Syntax.Property})});if(!multiline){if(!hasLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result=["{",space,fragment,space,"}"];break}}withIndent(function(indent){result=["{",newline,indent,fragment];if(multiline){result.push(","+newline);for(i=1,len=expr.properties.length;i<len;++i){result.push(indent);result.push(generateExpression(expr.properties[i],{precedence:Precedence.Sequence,allowIn:true,allowCall:true,type:Syntax.Property}));if(i+1<len){result.push(","+newline)}}}});if(!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(base);result.push("}");break;case Syntax.ObjectPattern:if(!expr.properties.length){result="{}";break}multiline=false;if(expr.properties.length===1){property=expr.properties[0];if(property.value.type!==Syntax.Identifier){multiline=true}}else{for(i=0,len=expr.properties.length;i<len;++i){property=expr.properties[i];if(!property.shorthand){multiline=true;break}}}result=["{",multiline?newline:""];withIndent(function(indent){for(i=0,len=expr.properties.length;i<len;++i){result.push(multiline?indent:"");result.push(generateExpression(expr.properties[i],{precedence:Precedence.Sequence,allowIn:true,allowCall:true}));if(i+1<len){result.push(","+(multiline?newline:space))}}});if(multiline&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}result.push(multiline?base:"");result.push("}");break;case Syntax.ThisExpression:result="this";break;case Syntax.Identifier:result=generateIdentifier(expr);break;case Syntax.Literal:if(expr.hasOwnProperty("raw")&&parse&&extra.raw){try{raw=parse(expr.raw).body[0].expression;if(raw.type===Syntax.Literal){if(raw.value===expr.value){result=expr.raw;break}}}catch(e){}}if(expr.value===null){result="null";break}if(typeof expr.value==="string"){result=escapeString(expr.value);break}if(typeof expr.value==="number"){result=generateNumber(expr.value);break}if(typeof expr.value==="boolean"){result=expr.value?"true":"false";break}result=generateRegExp(expr.value);break;case Syntax.GeneratorExpression:case Syntax.ComprehensionExpression:result=type===Syntax.GeneratorExpression?["("]:["["];if(extra.moz.comprehensionExpressionStartsWithAssignment){fragment=generateExpression(expr.body,{precedence:Precedence.Assignment,allowIn:true,allowCall:true});result.push(fragment)}if(expr.blocks){withIndent(function(){for(i=0,len=expr.blocks.length;i<len;++i){fragment=generateExpression(expr.blocks[i],{precedence:Precedence.Sequence,allowIn:true,allowCall:true});if(i>0||extra.moz.comprehensionExpressionStartsWithAssignment){result=join(result,fragment)}else{result.push(fragment)}}})}if(expr.filter){result=join(result,"if"+space);fragment=generateExpression(expr.filter,{precedence:Precedence.Sequence,allowIn:true,allowCall:true});if(extra.moz.parenthesizedComprehensionBlock){result=join(result,["(",fragment,")"])}else{result=join(result,fragment)}}if(!extra.moz.comprehensionExpressionStartsWithAssignment){fragment=generateExpression(expr.body,{precedence:Precedence.Assignment,allowIn:true,allowCall:true});result=join(result,fragment)}result.push(type===Syntax.GeneratorExpression?")":"]");break;case Syntax.ComprehensionBlock:if(expr.left.type===Syntax.VariableDeclaration){fragment=[expr.left.kind,noEmptySpace(),generateStatement(expr.left.declarations[0],{allowIn:false})]}else{fragment=generateExpression(expr.left,{precedence:Precedence.Call,allowIn:true,allowCall:true})}fragment=join(fragment,expr.of?"of":"in");fragment=join(fragment,generateExpression(expr.right,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}));if(extra.moz.parenthesizedComprehensionBlock){result=["for"+space+"(",fragment,")"]}else{result=join("for"+space,fragment)}break;default:throw new Error("Unknown expression type: "+expr.type)}if(extra.comment){result=addComments(expr,result)}return toSourceNodeWhenNeeded(result,expr)}function generateStatement(stmt,option){var i,len,result,node,allowIn,functionBody,directiveContext,fragment,semicolon,isGenerator;allowIn=true;semicolon=";";functionBody=false;directiveContext=false;if(option){allowIn=option.allowIn===undefined||option.allowIn;if(!semicolons&&option.semicolonOptional===true){semicolon=""}functionBody=option.functionBody;directiveContext=option.directiveContext}switch(stmt.type){case Syntax.BlockStatement:result=["{",newline];withIndent(function(){for(i=0,len=stmt.body.length;i<len;++i){fragment=addIndent(generateStatement(stmt.body[i],{semicolonOptional:i===len-1,directiveContext:functionBody}));result.push(fragment);if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}});result.push(addIndent("}"));break;case Syntax.BreakStatement:if(stmt.label){result="break "+stmt.label.name+semicolon}else{result="break"+semicolon}break;case Syntax.ContinueStatement:if(stmt.label){result="continue "+stmt.label.name+semicolon}else{result="continue"+semicolon}break;case Syntax.DirectiveStatement:if(extra.raw&&stmt.raw){result=stmt.raw+semicolon}else{result=escapeDirective(stmt.directive)+semicolon}break;case Syntax.DoWhileStatement:result=join("do",maybeBlock(stmt.body));result=maybeBlockSuffix(stmt.body,result);result=join(result,["while"+space+"(",generateExpression(stmt.test,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"+semicolon]);break;case Syntax.CatchClause:withIndent(function(){var guard;result=["catch"+space+"(",generateExpression(stmt.param,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"];if(stmt.guard){guard=generateExpression(stmt.guard,{precedence:Precedence.Sequence,allowIn:true,allowCall:true});result.splice(2,0," if ",guard)}});result.push(maybeBlock(stmt.body));break;case Syntax.DebuggerStatement:result="debugger"+semicolon;break;case Syntax.EmptyStatement:result=";";break;case Syntax.ExportDeclaration:result="export ";if(stmt.declaration){result=[result,generateStatement(stmt.declaration,{semicolonOptional:semicolon===""})];break}break;case Syntax.ExpressionStatement:result=[generateExpression(stmt.expression,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})];fragment=toSourceNodeWhenNeeded(result).toString();if(fragment.charAt(0)==="{"||fragment.slice(0,8)==="function"&&"* (".indexOf(fragment.charAt(8))>=0||directive&&directiveContext&&stmt.expression.type===Syntax.Literal&&typeof stmt.expression.value==="string"){result=["(",result,")"+semicolon]}else{result.push(semicolon)}break;case Syntax.VariableDeclarator:if(stmt.init){result=[generateExpression(stmt.id,{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true}),space,"=",space,generateExpression(stmt.init,{precedence:Precedence.Assignment,allowIn:allowIn,allowCall:true})]}else{result=generatePattern(stmt.id,{precedence:Precedence.Assignment,allowIn:allowIn})}break;case Syntax.VariableDeclaration:result=[stmt.kind];if(stmt.declarations.length===1&&stmt.declarations[0].init&&stmt.declarations[0].init.type===Syntax.FunctionExpression){result.push(noEmptySpace());result.push(generateStatement(stmt.declarations[0],{allowIn:allowIn}))}else{withIndent(function(){node=stmt.declarations[0];if(extra.comment&&node.leadingComments){result.push("\n");result.push(addIndent(generateStatement(node,{allowIn:allowIn})))}else{result.push(noEmptySpace());result.push(generateStatement(node,{allowIn:allowIn}))}for(i=1,len=stmt.declarations.length;i<len;++i){node=stmt.declarations[i];if(extra.comment&&node.leadingComments){result.push(","+newline);result.push(addIndent(generateStatement(node,{allowIn:allowIn})))}else{result.push(","+space);result.push(generateStatement(node,{allowIn:allowIn}))}}})}result.push(semicolon);break;case Syntax.ThrowStatement:result=[join("throw",generateExpression(stmt.argument,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})),semicolon];break;case Syntax.TryStatement:result=["try",maybeBlock(stmt.block)];result=maybeBlockSuffix(stmt.block,result);if(stmt.handlers){for(i=0,len=stmt.handlers.length;i<len;++i){result=join(result,generateStatement(stmt.handlers[i]));if(stmt.finalizer||i+1!==len){result=maybeBlockSuffix(stmt.handlers[i].body,result)}}}else{stmt.guardedHandlers=stmt.guardedHandlers||[];for(i=0,len=stmt.guardedHandlers.length;i<len;++i){result=join(result,generateStatement(stmt.guardedHandlers[i]));if(stmt.finalizer||i+1!==len){result=maybeBlockSuffix(stmt.guardedHandlers[i].body,result)}}if(stmt.handler){if(isArray(stmt.handler)){for(i=0,len=stmt.handler.length;i<len;++i){result=join(result,generateStatement(stmt.handler[i]));if(stmt.finalizer||i+1!==len){result=maybeBlockSuffix(stmt.handler[i].body,result)}}}else{result=join(result,generateStatement(stmt.handler));if(stmt.finalizer){result=maybeBlockSuffix(stmt.handler.body,result)}}}}if(stmt.finalizer){result=join(result,["finally",maybeBlock(stmt.finalizer)])}break;case Syntax.SwitchStatement:withIndent(function(){result=["switch"+space+"(",generateExpression(stmt.discriminant,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"+space+"{"+newline]});if(stmt.cases){for(i=0,len=stmt.cases.length;i<len;++i){fragment=addIndent(generateStatement(stmt.cases[i],{semicolonOptional:i===len-1}));result.push(fragment);if(!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}}result.push(addIndent("}"));break;case Syntax.SwitchCase:withIndent(function(){if(stmt.test){result=[join("case",generateExpression(stmt.test,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})),":"]}else{result=["default:"]}i=0;len=stmt.consequent.length;if(len&&stmt.consequent[0].type===Syntax.BlockStatement){fragment=maybeBlock(stmt.consequent[0]);result.push(fragment);i=1}if(i!==len&&!endsWithLineTerminator(toSourceNodeWhenNeeded(result).toString())){result.push(newline)}for(;i<len;++i){fragment=addIndent(generateStatement(stmt.consequent[i],{semicolonOptional:i===len-1&&semicolon===""}));result.push(fragment);if(i+1!==len&&!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}});break;case Syntax.IfStatement:withIndent(function(){result=["if"+space+"(",generateExpression(stmt.test,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"]});if(stmt.alternate){result.push(maybeBlock(stmt.consequent));result=maybeBlockSuffix(stmt.consequent,result);if(stmt.alternate.type===Syntax.IfStatement){result=join(result,["else ",generateStatement(stmt.alternate,{semicolonOptional:semicolon===""})])}else{result=join(result,join("else",maybeBlock(stmt.alternate,semicolon==="")))}}else{result.push(maybeBlock(stmt.consequent,semicolon===""))}break;case Syntax.ForStatement:withIndent(function(){result=["for"+space+"("];if(stmt.init){if(stmt.init.type===Syntax.VariableDeclaration){result.push(generateStatement(stmt.init,{allowIn:false}))}else{result.push(generateExpression(stmt.init,{precedence:Precedence.Sequence,allowIn:false,allowCall:true}));result.push(";")}}else{result.push(";")}if(stmt.test){result.push(space);result.push(generateExpression(stmt.test,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}));result.push(";")}else{result.push(";")}if(stmt.update){result.push(space);result.push(generateExpression(stmt.update,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}));result.push(")")}else{result.push(")")}});result.push(maybeBlock(stmt.body,semicolon===""));break;case Syntax.ForInStatement:result=generateIterationForStatement("in",stmt,semicolon==="");break;case Syntax.ForOfStatement:result=generateIterationForStatement("of",stmt,semicolon==="");break;case Syntax.LabeledStatement:result=[stmt.label.name+":",maybeBlock(stmt.body,semicolon==="")];break;case Syntax.Program:len=stmt.body.length;result=[safeConcatenation&&len>0?"\n":""];for(i=0;i<len;++i){fragment=addIndent(generateStatement(stmt.body[i],{semicolonOptional:!safeConcatenation&&i===len-1,directiveContext:true}));result.push(fragment);if(i+1<len&&!endsWithLineTerminator(toSourceNodeWhenNeeded(fragment).toString())){result.push(newline)}}break;case Syntax.FunctionDeclaration:isGenerator=stmt.generator&&!extra.moz.starlessGenerator;result=[isGenerator?"function*":"function",isGenerator?space:noEmptySpace(),generateIdentifier(stmt.id),generateFunctionBody(stmt)];break;case Syntax.ReturnStatement:if(stmt.argument){result=[join("return",generateExpression(stmt.argument,{precedence:Precedence.Sequence,allowIn:true,allowCall:true})),semicolon]}else{result=["return"+semicolon]}break;case Syntax.WhileStatement:withIndent(function(){result=["while"+space+"(",generateExpression(stmt.test,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"]});result.push(maybeBlock(stmt.body,semicolon===""));break;case Syntax.WithStatement:withIndent(function(){result=["with"+space+"(",generateExpression(stmt.object,{precedence:Precedence.Sequence,allowIn:true,allowCall:true}),")"]});result.push(maybeBlock(stmt.body,semicolon===""));break;default:throw new Error("Unknown statement type: "+stmt.type)}if(extra.comment){result=addComments(stmt,result)}fragment=toSourceNodeWhenNeeded(result).toString();if(stmt.type===Syntax.Program&&!safeConcatenation&&newline===""&&fragment.charAt(fragment.length-1)==="\n"){result=sourceMap?toSourceNodeWhenNeeded(result).replaceRight(/\s+$/,""):fragment.replace(/\s+$/,"")}return toSourceNodeWhenNeeded(result,stmt)}function generate(node,options){var defaultOptions=getDefaultOptions(),result,pair;if(options!=null){if(typeof options.indent==="string"){defaultOptions.format.indent.style=options.indent}if(typeof options.base==="number"){defaultOptions.format.indent.base=options.base}options=updateDeeply(defaultOptions,options);indent=options.format.indent.style;if(typeof options.base==="string"){base=options.base}else{base=stringRepeat(indent,options.format.indent.base)}}else{options=defaultOptions;indent=options.format.indent.style;base=stringRepeat(indent,options.format.indent.base)}json=options.format.json;renumber=options.format.renumber;hexadecimal=json?false:options.format.hexadecimal;quotes=json?"double":options.format.quotes;escapeless=options.format.escapeless;newline=options.format.newline;space=options.format.space;if(options.format.compact){newline=space=indent=base=""}parentheses=options.format.parentheses;semicolons=options.format.semicolons;safeConcatenation=options.format.safeConcatenation;directive=options.directive;parse=json?null:options.parse;sourceMap=options.sourceMap;extra=options;if(sourceMap){if(!exports.browser){SourceNode=require("/node_modules/source-map/lib/source-map.js",module).SourceNode}else{SourceNode=global.sourceMap.SourceNode}}switch(node.type){case Syntax.BlockStatement:case Syntax.BreakStatement:case Syntax.CatchClause:case Syntax.ContinueStatement:case Syntax.DirectiveStatement:case Syntax.DoWhileStatement:case Syntax.DebuggerStatement:case Syntax.EmptyStatement:case Syntax.ExpressionStatement:case Syntax.ForStatement:case Syntax.ForInStatement:case Syntax.ForOfStatement:case Syntax.FunctionDeclaration:case Syntax.IfStatement:case Syntax.LabeledStatement:case Syntax.Program:case Syntax.ReturnStatement:case Syntax.SwitchStatement:case Syntax.SwitchCase:case Syntax.ThrowStatement:case Syntax.TryStatement:case Syntax.VariableDeclaration:case Syntax.VariableDeclarator:case Syntax.WhileStatement:case Syntax.WithStatement:result=generateStatement(node);break;case Syntax.AssignmentExpression:case Syntax.ArrayExpression:case Syntax.ArrayPattern:case Syntax.BinaryExpression:case Syntax.CallExpression:case Syntax.ConditionalExpression:case Syntax.FunctionExpression:case Syntax.Identifier:case Syntax.Literal:case Syntax.LogicalExpression:case Syntax.MemberExpression:case Syntax.NewExpression:case Syntax.ObjectExpression:case Syntax.ObjectPattern:case Syntax.Property:case Syntax.SequenceExpression:case Syntax.ThisExpression:case Syntax.UnaryExpression:case Syntax.UpdateExpression:case Syntax.YieldExpression:result=generateExpression(node,{precedence:Precedence.Sequence,allowIn:true,allowCall:true});break;default:throw new Error("Unknown node type: "+node.type)}if(!sourceMap){return result.toString()}pair=result.toStringWithSourceMap({file:options.file,sourceRoot:options.sourceMapRoot});if(options.sourceContent){pair.map.setSourceContent(options.sourceMap,options.sourceContent)}if(options.sourceMapWithCode){return pair}return pair.map.toString()}FORMAT_MINIFY={indent:{style:"",base:0},renumber:true,hexadecimal:true,quotes:"auto",escapeless:true,compact:true,parentheses:false,semicolons:false};FORMAT_DEFAULTS=getDefaultOptions().format;exports.version=require("/package.json",module).version;exports.generate=generate;exports.attachComments=estraverse.attachComments;exports.Precedence=updateDeeply({},Precedence);exports.browser=false;exports.FORMAT_MINIFY=FORMAT_MINIFY;exports.FORMAT_DEFAULTS=FORMAT_DEFAULTS})()});require.define("/package.json",function(module,exports,__dirname,__filename){module.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/Constellation/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},version:"1.3.3-dev",engines:{node:">=0.4.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/Constellation/escodegen.git"},dependencies:{esutils:"~1.0.0",estraverse:"~1.5.0",esprima:"~1.1.1"},optionalDependencies:{"source-map":"~0.1.33"},devDependencies:{"esprima-moz":"*",semver:"*",chai:"~1.7.2",gulp:"~3.5.0","gulp-mocha":"~0.4.1","gulp-eslint":"~0.1.2","jshint-stylish":"~0.1.5","gulp-jshint":"~1.4.0","commonjs-everywhere":"~0.9.6",bluebird:"~1.2.0","bower-registry-client":"~0.2.0"},licenses:[{type:"BSD",url:"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}
});require.define("/node_modules/source-map/lib/source-map.js",function(module,exports,__dirname,__filename){exports.SourceMapGenerator=require("/node_modules/source-map/lib/source-map/source-map-generator.js",module).SourceMapGenerator;exports.SourceMapConsumer=require("/node_modules/source-map/lib/source-map/source-map-consumer.js",module).SourceMapConsumer;exports.SourceNode=require("/node_modules/source-map/lib/source-map/source-node.js",module).SourceNode});require.define("/node_modules/source-map/lib/source-map/source-node.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var SourceMapGenerator=require("/node_modules/source-map/lib/source-map/source-map-generator.js",module).SourceMapGenerator;var util=require("/node_modules/source-map/lib/source-map/util.js",module);function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[];this.sourceContents={};this.line=aLine===undefined?null:aLine;this.column=aColumn===undefined?null:aColumn;this.source=aSource===undefined?null:aSource;this.name=aName===undefined?null:aName;if(aChunks!=null)this.add(aChunks)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(aGeneratedCode,aSourceMapConsumer){var node=new SourceNode;var remainingLines=aGeneratedCode.split("\n");var lastGeneratedLine=1,lastGeneratedColumn=0;var lastMapping=null;aSourceMapConsumer.eachMapping(function(mapping){if(lastMapping!==null){if(lastGeneratedLine<mapping.generatedLine){var code="";addMappingWithCode(lastMapping,remainingLines.shift()+"\n");lastGeneratedLine++;lastGeneratedColumn=0}else{var nextLine=remainingLines[0];var code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn);lastGeneratedColumn=mapping.generatedColumn;addMappingWithCode(lastMapping,code);lastMapping=mapping;return}}while(lastGeneratedLine<mapping.generatedLine){node.add(remainingLines.shift()+"\n");lastGeneratedLine++}if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn));remainingLines[0]=nextLine.substr(mapping.generatedColumn);lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this);if(remainingLines.length>0){if(lastMapping){var lastLine=remainingLines.shift();if(remainingLines.length>0)lastLine+="\n";addMappingWithCode(lastMapping,lastLine)}node.add(remainingLines.join("\n"))}aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content){node.setSourceContent(sourceFile,content)}});return node;function addMappingWithCode(mapping,code){if(mapping===null||mapping.source===undefined){node.add(code)}else{node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,mapping.source,code,mapping.name))}}};SourceNode.prototype.add=function SourceNode_add(aChunk){if(Array.isArray(aChunk)){aChunk.forEach(function(chunk){this.add(chunk)},this)}else if(aChunk instanceof SourceNode||typeof aChunk==="string"){if(aChunk){this.children.push(aChunk)}}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.prepend=function SourceNode_prepend(aChunk){if(Array.isArray(aChunk)){for(var i=aChunk.length-1;i>=0;i--){this.prepend(aChunk[i])}}else if(aChunk instanceof SourceNode||typeof aChunk==="string"){this.children.unshift(aChunk)}else{throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk)}return this};SourceNode.prototype.walk=function SourceNode_walk(aFn){var chunk;for(var i=0,len=this.children.length;i<len;i++){chunk=this.children[i];if(chunk instanceof SourceNode){chunk.walk(aFn)}else{if(chunk!==""){aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})}}}};SourceNode.prototype.join=function SourceNode_join(aSep){var newChildren;var i;var len=this.children.length;if(len>0){newChildren=[];for(i=0;i<len-1;i++){newChildren.push(this.children[i]);newChildren.push(aSep)}newChildren.push(this.children[i]);this.children=newChildren}return this};SourceNode.prototype.replaceRight=function SourceNode_replaceRight(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];if(lastChild instanceof SourceNode){lastChild.replaceRight(aPattern,aReplacement)}else if(typeof lastChild==="string"){this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement)}else{this.children.push("".replace(aPattern,aReplacement))}return this};SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent};SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(aFn){for(var i=0,len=this.children.length;i<len;i++){if(this.children[i]instanceof SourceNode){this.children[i].walkSourceContents(aFn)}}var sources=Object.keys(this.sourceContents);for(var i=0,len=sources.length;i<len;i++){aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])}};SourceNode.prototype.toString=function SourceNode_toString(){var str="";this.walk(function(chunk){str+=chunk});return str};SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(aArgs){var generated={code:"",line:1,column:0};var map=new SourceMapGenerator(aArgs);var sourceMappingActive=false;var lastOriginalSource=null;var lastOriginalLine=null;var lastOriginalColumn=null;var lastOriginalName=null;this.walk(function(chunk,original){generated.code+=chunk;if(original.source!==null&&original.line!==null&&original.column!==null){if(lastOriginalSource!==original.source||lastOriginalLine!==original.line||lastOriginalColumn!==original.column||lastOriginalName!==original.name){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}lastOriginalSource=original.source;lastOriginalLine=original.line;lastOriginalColumn=original.column;lastOriginalName=original.name;sourceMappingActive=true}else if(sourceMappingActive){map.addMapping({generated:{line:generated.line,column:generated.column}});lastOriginalSource=null;sourceMappingActive=false}chunk.split("").forEach(function(ch,idx,array){if(ch==="\n"){generated.line++;generated.column=0;if(idx+1===array.length){lastOriginalSource=null;sourceMappingActive=false}else if(sourceMappingActive){map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})}}else{generated.column++}})});this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)});return{code:generated.code,map:map}};exports.SourceNode=SourceNode})});require.define("/node_modules/source-map/lib/source-map/util.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs){return aArgs[aName]}else if(arguments.length===3){return aDefaultValue}else{throw new Error('"'+aName+'" is a required argument.')}}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/;var dataUrlRegexp=/^data:.+\,.+$/;function urlParse(aUrl){var match=aUrl.match(urlRegexp);if(!match){return null}return{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}}exports.urlParse=urlParse;function urlGenerate(aParsedUrl){var url="";if(aParsedUrl.scheme){url+=aParsedUrl.scheme+":"}url+="//";if(aParsedUrl.auth){url+=aParsedUrl.auth+"@"}if(aParsedUrl.host){url+=aParsedUrl.host}if(aParsedUrl.port){url+=":"+aParsedUrl.port}if(aParsedUrl.path){url+=aParsedUrl.path}return url}exports.urlGenerate=urlGenerate;function normalize(aPath){var path=aPath;var url=urlParse(aPath);if(url){if(!url.path){return aPath}path=url.path}var isAbsolute=path.charAt(0)==="/";var parts=path.split(/\/+/);for(var part,up=0,i=parts.length-1;i>=0;i--){part=parts[i];if(part==="."){parts.splice(i,1)}else if(part===".."){up++}else if(up>0){if(part===""){parts.splice(i+1,up);up=0}else{parts.splice(i,2);up--}}}path=parts.join("/");if(path===""){path=isAbsolute?"/":"."}if(url){url.path=path;return urlGenerate(url)}return path}exports.normalize=normalize;function join(aRoot,aPath){var aPathUrl=urlParse(aPath);var aRootUrl=urlParse(aRoot);if(aRootUrl){aRoot=aRootUrl.path||"/"}if(aPathUrl&&!aPathUrl.scheme){if(aRootUrl){aPathUrl.scheme=aRootUrl.scheme}return urlGenerate(aPathUrl)}if(aPathUrl||aPath.match(dataUrlRegexp)){return aPath}if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path){aRootUrl.host=aPath;return urlGenerate(aRootUrl)}var joined=aPath.charAt(0)==="/"?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);if(aRootUrl){aRootUrl.path=joined;return urlGenerate(aRootUrl)}return joined}exports.join=join;function toSetString(aStr){return"$"+aStr}exports.toSetString=toSetString;function fromSetString(aStr){return aStr.substr(1)}exports.fromSetString=fromSetString;function relative(aRoot,aPath){aRoot=aRoot.replace(/\/$/,"");var url=urlParse(aRoot);if(aPath.charAt(0)=="/"&&url&&url.path=="/"){return aPath.slice(1)}return aPath.indexOf(aRoot+"/")===0?aPath.substr(aRoot.length+1):aPath}exports.relative=relative;function strcmp(aStr1,aStr2){var s1=aStr1||"";var s2=aStr2||"";return(s1>s2)-(s1<s2)}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp;cmp=strcmp(mappingA.source,mappingB.source);if(cmp){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp||onlyCompareOriginal){return cmp}cmp=strcmp(mappingA.name,mappingB.name);if(cmp){return cmp}cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp){return cmp}return mappingA.generatedColumn-mappingB.generatedColumn}exports.compareByOriginalPositions=compareByOriginalPositions;function compareByGeneratedPositions(mappingA,mappingB,onlyCompareGenerated){var cmp;cmp=mappingA.generatedLine-mappingB.generatedLine;if(cmp){return cmp}cmp=mappingA.generatedColumn-mappingB.generatedColumn;if(cmp||onlyCompareGenerated){return cmp}cmp=strcmp(mappingA.source,mappingB.source);if(cmp){return cmp}cmp=mappingA.originalLine-mappingB.originalLine;if(cmp){return cmp}cmp=mappingA.originalColumn-mappingB.originalColumn;if(cmp){return cmp}return strcmp(mappingA.name,mappingB.name)}exports.compareByGeneratedPositions=compareByGeneratedPositions})});require.define("/node_modules/source-map/node_modules/amdefine/amdefine.js",function(module,exports,__dirname,__filename){"use strict";function amdefine(module,requireFn){"use strict";var defineCache={},loaderCache={},alreadyCalled=false,path=require("path",module),makeRequire,stringRequire;function trimDots(ary){var i,part;for(i=0;ary[i];i+=1){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else if(part===".."){if(i===1&&(ary[2]===".."||ary[0]==="..")){break}else if(i>0){ary.splice(i-1,2);i-=2}}}}function normalize(name,baseName){var baseParts;if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseName.split("/");baseParts=baseParts.slice(0,baseParts.length-1);baseParts=baseParts.concat(name.split("/"));trimDots(baseParts);name=baseParts.join("/")}}return name}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(id){function load(value){loaderCache[id]=value}load.fromText=function(id,text){throw new Error("amdefine does not implement load.fromText")};return load}makeRequire=function(systemRequire,exports,module,relId){function amdRequire(deps,callback){if(typeof deps==="string"){return stringRequire(systemRequire,exports,module,deps,relId)}else{deps=deps.map(function(depName){return stringRequire(systemRequire,exports,module,depName,relId)});process.nextTick(function(){callback.apply(null,deps)})}}amdRequire.toUrl=function(filePath){if(filePath.indexOf(".")===0){return normalize(filePath,path.dirname(module.filename))}else{return filePath}};return amdRequire};requireFn=requireFn||function req(){return module.require.apply(module,arguments)};function runFactory(id,deps,factory){var r,e,m,result;if(id){e=loaderCache[id]={};m={id:id,uri:__filename,exports:e};r=makeRequire(requireFn,e,m,id)}else{if(alreadyCalled){throw new Error("amdefine with no module ID cannot be called more than once per file.")}alreadyCalled=true;e=module.exports;m=module;r=makeRequire(requireFn,e,m,module.id)}if(deps){deps=deps.map(function(depName){return r(depName)})}if(typeof factory==="function"){result=factory.apply(m.exports,deps)}else{result=factory}if(result!==undefined){m.exports=result;if(id){loaderCache[id]=m.exports}}}stringRequire=function(systemRequire,exports,module,id,relId){var index=id.indexOf("!"),originalId=id,prefix,plugin;if(index===-1){id=normalize(id,relId);if(id==="require"){return makeRequire(systemRequire,exports,module,relId)}else if(id==="exports"){return exports}else if(id==="module"){return module}else if(loaderCache.hasOwnProperty(id)){return loaderCache[id]}else if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}else{if(systemRequire){return systemRequire(originalId)}else{throw new Error("No module with ID: "+id)}}}else{prefix=id.substring(0,index);id=id.substring(index+1,id.length);plugin=stringRequire(systemRequire,exports,module,prefix,relId);if(plugin.normalize){id=plugin.normalize(id,makeNormalize(relId))}else{id=normalize(id,relId)}if(loaderCache[id]){return loaderCache[id]}else{plugin.load(id,makeRequire(systemRequire,exports,module,relId),makeLoad(id),{});return loaderCache[id]}}};function define(id,deps,factory){if(Array.isArray(id)){factory=deps;deps=id;id=undefined}else if(typeof id!=="string"){factory=id;id=deps=undefined}if(deps&&!Array.isArray(deps)){factory=deps;deps=undefined}if(!deps){deps=["require","exports","module"]}if(id){defineCache[id]=[id,deps,factory]}else{runFactory(id,deps,factory)}}define.require=function(id){if(loaderCache[id]){return loaderCache[id]}if(defineCache[id]){runFactory.apply(null,defineCache[id]);return loaderCache[id]}};define.amd={};return define}module.exports=amdefine});require.define("/node_modules/source-map/lib/source-map/source-map-generator.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var base64VLQ=require("/node_modules/source-map/lib/source-map/base64-vlq.js",module);var util=require("/node_modules/source-map/lib/source-map/util.js",module);var ArraySet=require("/node_modules/source-map/lib/source-map/array-set.js",module).ArraySet;function SourceMapGenerator(aArgs){if(!aArgs){aArgs={}}this._file=util.getArg(aArgs,"file",null);this._sourceRoot=util.getArg(aArgs,"sourceRoot",null);this._sources=new ArraySet;this._names=new ArraySet;this._mappings=[];this._sourcesContents=null}SourceMapGenerator.prototype._version=3;SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot;var generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};if(mapping.source){newMapping.source=mapping.source;if(sourceRoot){newMapping.source=util.relative(sourceRoot,newMapping.source)}newMapping.original={line:mapping.originalLine,column:mapping.originalColumn};if(mapping.name){newMapping.name=mapping.name}}generator.addMapping(newMapping)});aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content){generator.setSourceContent(sourceFile,content)}});return generator};SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(aArgs){var generated=util.getArg(aArgs,"generated");var original=util.getArg(aArgs,"original",null);var source=util.getArg(aArgs,"source",null);var name=util.getArg(aArgs,"name",null);this._validateMapping(generated,original,source,name);if(source&&!this._sources.has(source)){this._sources.add(source)}if(name&&!this._names.has(name)){this._names.add(name)}this._mappings.push({generatedLine:generated.line,generatedColumn:generated.column,originalLine:original!=null&&original.line,originalColumn:original!=null&&original.column,source:source,name:name})};SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(aSourceFile,aSourceContent){var source=aSourceFile;if(this._sourceRoot){source=util.relative(this._sourceRoot,source)}if(aSourceContent!==null){if(!this._sourcesContents){this._sourcesContents={}}this._sourcesContents[util.toSetString(source)]=aSourceContent}else{delete this._sourcesContents[util.toSetString(source)];if(Object.keys(this._sourcesContents).length===0){this._sourcesContents=null}}};SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(aSourceMapConsumer,aSourceFile,aSourceMapPath){if(!aSourceFile){if(!aSourceMapConsumer.file){throw new Error("SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, "+'or the source map\'s "file" property. Both were omitted.')}aSourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;if(sourceRoot){aSourceFile=util.relative(sourceRoot,aSourceFile)}var newSources=new ArraySet;var newNames=new ArraySet;this._mappings.forEach(function(mapping){if(mapping.source===aSourceFile&&mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});if(original.source!==null){mapping.source=original.source;if(aSourceMapPath){mapping.source=util.join(aSourceMapPath,mapping.source)}if(sourceRoot){mapping.source=util.relative(sourceRoot,mapping.source)}mapping.originalLine=original.line;mapping.originalColumn=original.column;if(original.name!==null&&mapping.name!==null){mapping.name=original.name}}}var source=mapping.source;if(source&&!newSources.has(source)){newSources.add(source)}var name=mapping.name;if(name&&!newNames.has(name)){newNames.add(name)}},this);this._sources=newSources;this._names=newNames;aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);if(content){if(sourceRoot){sourceFile=util.relative(sourceRoot,sourceFile)}this.setSourceContent(sourceFile,content)}},this)};SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(aGenerated,aOriginal,aSource,aName){if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0&&!aOriginal&&!aSource&&!aName){return}else if(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource){return}else{throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))}};SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){var previousGeneratedColumn=0;var previousGeneratedLine=1;var previousOriginalColumn=0;var previousOriginalLine=0;var previousName=0;var previousSource=0;var result="";var mapping;this._mappings.sort(util.compareByGeneratedPositions);for(var i=0,len=this._mappings.length;i<len;i++){mapping=this._mappings[i];if(mapping.generatedLine!==previousGeneratedLine){previousGeneratedColumn=0;while(mapping.generatedLine!==previousGeneratedLine){result+=";";previousGeneratedLine++}}else{if(i>0){if(!util.compareByGeneratedPositions(mapping,this._mappings[i-1])){continue}result+=","}}result+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn);previousGeneratedColumn=mapping.generatedColumn;if(mapping.source){result+=base64VLQ.encode(this._sources.indexOf(mapping.source)-previousSource);previousSource=this._sources.indexOf(mapping.source);result+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine);previousOriginalLine=mapping.originalLine-1;result+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn);previousOriginalColumn=mapping.originalColumn;if(mapping.name){result+=base64VLQ.encode(this._names.indexOf(mapping.name)-previousName);previousName=this._names.indexOf(mapping.name)}}}return result};SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents){return null}if(aSourceRoot){source=util.relative(aSourceRoot,source)}var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)};SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var map={version:this._version,file:this._file,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._sourceRoot){map.sourceRoot=this._sourceRoot}if(this._sourcesContents){map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)}return map};SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this)};exports.SourceMapGenerator=SourceMapGenerator})});require.define("/node_modules/source-map/lib/source-map/array-set.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var util=require("/node_modules/source-map/lib/source-map/util.js",module);function ArraySet(){this._array=[];this._set={}}ArraySet.fromArray=function ArraySet_fromArray(aArray,aAllowDuplicates){var set=new ArraySet;for(var i=0,len=aArray.length;i<len;i++){set.add(aArray[i],aAllowDuplicates)}return set};ArraySet.prototype.add=function ArraySet_add(aStr,aAllowDuplicates){var isDuplicate=this.has(aStr);var idx=this._array.length;if(!isDuplicate||aAllowDuplicates){this._array.push(aStr)}if(!isDuplicate){this._set[util.toSetString(aStr)]=idx}};ArraySet.prototype.has=function ArraySet_has(aStr){return Object.prototype.hasOwnProperty.call(this._set,util.toSetString(aStr))};ArraySet.prototype.indexOf=function ArraySet_indexOf(aStr){if(this.has(aStr)){return this._set[util.toSetString(aStr)]}throw new Error('"'+aStr+'" is not in the set.')};ArraySet.prototype.at=function ArraySet_at(aIdx){if(aIdx>=0&&aIdx<this._array.length){return this._array[aIdx]}throw new Error("No element indexed by "+aIdx)};ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()};exports.ArraySet=ArraySet})});require.define("/node_modules/source-map/lib/source-map/base64-vlq.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var base64=require("/node_modules/source-map/lib/source-map/base64.js",module);var VLQ_BASE_SHIFT=5;var VLQ_BASE=1<<VLQ_BASE_SHIFT;var VLQ_BASE_MASK=VLQ_BASE-1;var VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(aValue){return aValue<0?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=(aValue&1)===1;var shifted=aValue>>1;return isNegative?-shifted:shifted}exports.encode=function base64VLQ_encode(aValue){var encoded="";var digit;var vlq=toVLQSigned(aValue);do{digit=vlq&VLQ_BASE_MASK;vlq>>>=VLQ_BASE_SHIFT;if(vlq>0){digit|=VLQ_CONTINUATION_BIT}encoded+=base64.encode(digit)}while(vlq>0);return encoded};exports.decode=function base64VLQ_decode(aStr){var i=0;var strLen=aStr.length;var result=0;var shift=0;var continuation,digit;do{if(i>=strLen){throw new Error("Expected more digits in base 64 VLQ value.")}digit=base64.decode(aStr.charAt(i++));continuation=!!(digit&VLQ_CONTINUATION_BIT);digit&=VLQ_BASE_MASK;result=result+(digit<<shift);shift+=VLQ_BASE_SHIFT}while(continuation);return{value:fromVLQSigned(result),rest:aStr.slice(i)}}})});require.define("/node_modules/source-map/lib/source-map/base64.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var charToIntMap={};var intToCharMap={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(ch,index){charToIntMap[ch]=index;intToCharMap[index]=ch});exports.encode=function base64_encode(aNumber){if(aNumber in intToCharMap){return intToCharMap[aNumber]}throw new TypeError("Must be between 0 and 63: "+aNumber)};exports.decode=function base64_decode(aChar){if(aChar in charToIntMap){return charToIntMap[aChar]}throw new TypeError("Not a valid base 64 digit: "+aChar)}})});require.define("/node_modules/source-map/lib/source-map/source-map-consumer.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){var util=require("/node_modules/source-map/lib/source-map/util.js",module);var binarySearch=require("/node_modules/source-map/lib/source-map/binary-search.js",module);var ArraySet=require("/node_modules/source-map/lib/source-map/array-set.js",module).ArraySet;var base64VLQ=require("/node_modules/source-map/lib/source-map/base64-vlq.js",module);function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;if(typeof aSourceMap==="string"){sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))}var version=util.getArg(sourceMap,"version");var sources=util.getArg(sourceMap,"sources");var names=util.getArg(sourceMap,"names",[]);var sourceRoot=util.getArg(sourceMap,"sourceRoot",null);var sourcesContent=util.getArg(sourceMap,"sourcesContent",null);var mappings=util.getArg(sourceMap,"mappings");var file=util.getArg(sourceMap,"file",null);if(version!=this._version){throw new Error("Unsupported version: "+version)}this._names=ArraySet.fromArray(names,true);this._sources=ArraySet.fromArray(sources,true);this.sourceRoot=sourceRoot;this.sourcesContent=sourcesContent;this._mappings=mappings;this.file=file}SourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(aSourceMap){var smc=Object.create(SourceMapConsumer.prototype);smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),true);smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),true);smc.sourceRoot=aSourceMap._sourceRoot;smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot);smc.file=aSourceMap._file;smc.__generatedMappings=aSourceMap._mappings.slice().sort(util.compareByGeneratedPositions);smc.__originalMappings=aSourceMap._mappings.slice().sort(util.compareByOriginalPositions);return smc};SourceMapConsumer.prototype._version=3;Object.defineProperty(SourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return this.sourceRoot?util.join(this.sourceRoot,s):s},this)}});SourceMapConsumer.prototype.__generatedMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){if(!this.__generatedMappings){this.__generatedMappings=[];this.__originalMappings=[];this._parseMappings(this._mappings,this.sourceRoot)}return this.__generatedMappings}});SourceMapConsumer.prototype.__originalMappings=null;Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){if(!this.__originalMappings){this.__generatedMappings=[];this.__originalMappings=[];this._parseMappings(this._mappings,this.sourceRoot)}return this.__originalMappings}});SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(aStr,aSourceRoot){var generatedLine=1;var previousGeneratedColumn=0;var previousOriginalLine=0;var previousOriginalColumn=0;var previousSource=0;var previousName=0;var mappingSeparator=/^[,;]/;var str=aStr;var mapping;var temp;while(str.length>0){if(str.charAt(0)===";"){generatedLine++;str=str.slice(1);previousGeneratedColumn=0}else if(str.charAt(0)===","){str=str.slice(1)}else{mapping={};mapping.generatedLine=generatedLine;temp=base64VLQ.decode(str);mapping.generatedColumn=previousGeneratedColumn+temp.value;previousGeneratedColumn=mapping.generatedColumn;str=temp.rest;if(str.length>0&&!mappingSeparator.test(str.charAt(0))){temp=base64VLQ.decode(str);mapping.source=this._sources.at(previousSource+temp.value);previousSource+=temp.value;str=temp.rest;if(str.length===0||mappingSeparator.test(str.charAt(0))){throw new Error("Found a source, but no line and column")}temp=base64VLQ.decode(str);mapping.originalLine=previousOriginalLine+temp.value;previousOriginalLine=mapping.originalLine;mapping.originalLine+=1;str=temp.rest;if(str.length===0||mappingSeparator.test(str.charAt(0))){throw new Error("Found a source and line, but no column")}temp=base64VLQ.decode(str);mapping.originalColumn=previousOriginalColumn+temp.value;previousOriginalColumn=mapping.originalColumn;str=temp.rest;if(str.length>0&&!mappingSeparator.test(str.charAt(0))){temp=base64VLQ.decode(str);mapping.name=this._names.at(previousName+temp.value);previousName+=temp.value;str=temp.rest}}this.__generatedMappings.push(mapping);if(typeof mapping.originalLine==="number"){this.__originalMappings.push(mapping)}}}this.__generatedMappings.sort(util.compareByGeneratedPositions);this.__originalMappings.sort(util.compareByOriginalPositions)};SourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(aNeedle,aMappings,aLineName,aColumnName,aComparator){if(aNeedle[aLineName]<=0){throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName])}if(aNeedle[aColumnName]<0){throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName])}return binarySearch.search(aNeedle,aMappings,aComparator)};SourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")};var mapping=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositions);if(mapping&&mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);if(source&&this.sourceRoot){source=util.join(this.sourceRoot,source)}return{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:util.getArg(mapping,"name",null)}}return{source:null,line:null,column:null,name:null}};SourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(aSource){if(!this.sourcesContent){return null}if(this.sourceRoot){aSource=util.relative(this.sourceRoot,aSource)}if(this._sources.has(aSource)){return this.sourcesContent[this._sources.indexOf(aSource)]}var url;if(this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if(url.scheme=="file"&&this._sources.has(fileUriAbsPath)){return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]}if((!url.path||url.path=="/")&&this._sources.has("/"+aSource)){return this.sourcesContent[this._sources.indexOf("/"+aSource)]}}throw new Error('"'+aSource+'" is not in the SourceMap.')};SourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(aArgs){var needle={source:util.getArg(aArgs,"source"),originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")};
if(this.sourceRoot){needle.source=util.relative(this.sourceRoot,needle.source)}var mapping=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions);if(mapping){return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null)}}return{line:null,column:null}};SourceMapConsumer.GENERATED_ORDER=1;SourceMapConsumer.ORIGINAL_ORDER=2;SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(aCallback,aContext,aOrder){var context=aContext||null;var order=aOrder||SourceMapConsumer.GENERATED_ORDER;var mappings;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=mapping.source;if(source&&sourceRoot){source=util.join(sourceRoot,source)}return{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:mapping.name}}).forEach(aCallback,context)};exports.SourceMapConsumer=SourceMapConsumer})});require.define("/node_modules/source-map/lib/source-map/binary-search.js",function(module,exports,__dirname,__filename){if(typeof define!=="function"){var define=require("/node_modules/source-map/node_modules/amdefine/amdefine.js",module)(module,require)}define(function(require,exports,module){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare){var mid=Math.floor((aHigh-aLow)/2)+aLow;var cmp=aCompare(aNeedle,aHaystack[mid],true);if(cmp===0){return aHaystack[mid]}else if(cmp>0){if(aHigh-mid>1){return recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare)}return aHaystack[mid]}else{if(mid-aLow>1){return recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare)}return aLow<0?null:aHaystack[aLow]}}exports.search=function search(aNeedle,aHaystack,aCompare){return aHaystack.length>0?recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare):null}})});require.define("/node_modules/esutils/lib/utils.js",function(module,exports,__dirname,__filename){(function(){"use strict";exports.code=require("/node_modules/esutils/lib/code.js",module);exports.keyword=require("/node_modules/esutils/lib/keyword.js",module)})()});require.define("/node_modules/esutils/lib/keyword.js",function(module,exports,__dirname,__filename){(function(){"use strict";var code=require("/node_modules/esutils/lib/code.js",module);function isStrictModeReservedWordES6(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return true;default:return false}}function isKeywordES5(id,strict){if(!strict&&id==="yield"){return false}return isKeywordES6(id,strict)}function isKeywordES6(id,strict){if(strict&&isStrictModeReservedWordES6(id)){return true}switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isIdentifierName(id){var i,iz,ch;if(id.length===0){return false}ch=id.charCodeAt(0);if(!code.isIdentifierStart(ch)||ch===92){return false}for(i=1,iz=id.length;i<iz;++i){ch=id.charCodeAt(i);if(!code.isIdentifierPart(ch)||ch===92){return false}}return true}module.exports={isKeywordES5:isKeywordES5,isKeywordES6:isKeywordES6,isRestrictedWord:isRestrictedWord,isIdentifierName:isIdentifierName}})()});require.define("/node_modules/esutils/lib/code.js",function(module,exports,__dirname,__filename){(function(){"use strict";var Regex;Regex={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return isDecimalDigit(ch)||97<=ch&&ch<=102||65<=ch&&ch<=70}function isOctalDigit(ch){return ch>=48&&ch<=55}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&Regex.NonAsciiIdentifierStart.test(String.fromCharCode(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&Regex.NonAsciiIdentifierPart.test(String.fromCharCode(ch))}module.exports={isDecimalDigit:isDecimalDigit,isHexDigit:isHexDigit,isOctalDigit:isOctalDigit,isWhiteSpace:isWhiteSpace,isLineTerminator:isLineTerminator,isIdentifierStart:isIdentifierStart,isIdentifierPart:isIdentifierPart}})()});require.define("/node_modules/estraverse/estraverse.js",function(module,exports,__dirname,__filename){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{factory(root.estraverse={})}})(this,function(exports){"use strict";var Syntax,isArray,VisitorOption,VisitorKeys,BREAK,SKIP;Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};function ignoreJSHintError(){}isArray=Array.isArray;if(!isArray){isArray=function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}}function deepCopy(obj){var ret={},key,val;for(key in obj){if(obj.hasOwnProperty(key)){val=obj[key];if(typeof val==="object"&&val!==null){ret[key]=deepCopy(val)}else{ret[key]=val}}}return ret}function shallowCopy(obj){var ret={},key;for(key in obj){if(obj.hasOwnProperty(key)){ret[key]=obj[key]}}return ret}ignoreJSHintError(shallowCopy);function upperBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){len=diff}else{i=current+1;len-=diff+1}}return i}function lowerBound(array,func){var diff,len,i,current;len=array.length;i=0;while(len){diff=len>>>1;current=i+diff;if(func(array[current])){i=current+1;len-=diff+1}else{len=diff}}return i}ignoreJSHintError(lowerBound);VisitorKeys={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]};BREAK={};SKIP={};VisitorOption={Break:BREAK,Skip:SKIP};function Reference(parent,key){this.parent=parent;this.key=key}Reference.prototype.replace=function replace(node){this.parent[this.key]=node};function Element(node,path,wrap,ref){this.node=node;this.path=path;this.wrap=wrap;this.ref=ref}function Controller(){}Controller.prototype.path=function path(){var i,iz,j,jz,result,element;function addToPath(result,path){if(isArray(path)){for(j=0,jz=path.length;j<jz;++j){result.push(path[j])}}else{result.push(path)}}if(!this.__current.path){return null}result=[];for(i=2,iz=this.__leavelist.length;i<iz;++i){element=this.__leavelist[i];addToPath(result,element.path)}addToPath(result,this.__current.path);return result};Controller.prototype.parents=function parents(){var i,iz,result;result=[];for(i=1,iz=this.__leavelist.length;i<iz;++i){result.push(this.__leavelist[i].node)}return result};Controller.prototype.current=function current(){return this.__current.node};Controller.prototype.__execute=function __execute(callback,element){var previous,result;result=undefined;previous=this.__current;this.__current=element;this.__state=null;if(callback){result=callback.call(this,element.node,this.__leavelist[this.__leavelist.length-1].node)}this.__current=previous;return result};Controller.prototype.notify=function notify(flag){this.__state=flag};Controller.prototype.skip=function(){this.notify(SKIP)};Controller.prototype["break"]=function(){this.notify(BREAK)};Controller.prototype.__initialize=function(root,visitor){this.visitor=visitor;this.root=root;this.__worklist=[];this.__leavelist=[];this.__current=null;this.__state=null};Controller.prototype.traverse=function traverse(root,visitor){var worklist,leavelist,element,node,nodeType,ret,key,current,current2,candidates,candidate,sentinel;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;worklist.push(new Element(root,null,null,null));leavelist.push(new Element(null,null,null,null));while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();ret=this.__execute(visitor.leave,element);if(this.__state===BREAK||ret===BREAK){return}continue}if(element.node){ret=this.__execute(visitor.enter,element);if(this.__state===BREAK||ret===BREAK){return}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||ret===SKIP){continue}node=element.node;nodeType=element.wrap||node.type;candidates=VisitorKeys[nodeType];current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(!isArray(candidate)){worklist.push(new Element(candidate,key,null,null));continue}current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if((nodeType===Syntax.ObjectExpression||nodeType===Syntax.ObjectPattern)&&"properties"===candidates[current]){element=new Element(candidate[current2],[key,current2],"Property",null)}else{element=new Element(candidate[current2],[key,current2],null,null)}worklist.push(element)}}}}};Controller.prototype.replace=function replace(root,visitor){var worklist,leavelist,node,nodeType,target,element,current,current2,candidates,candidate,sentinel,outer,key;this.__initialize(root,visitor);sentinel={};worklist=this.__worklist;leavelist=this.__leavelist;outer={root:root};element=new Element(root,null,null,new Reference(outer,"root"));worklist.push(element);leavelist.push(element);while(worklist.length){element=worklist.pop();if(element===sentinel){element=leavelist.pop();target=this.__execute(visitor.leave,element);if(target!==undefined&&target!==BREAK&&target!==SKIP){element.ref.replace(target)}if(this.__state===BREAK||target===BREAK){return outer.root}continue}target=this.__execute(visitor.enter,element);if(target!==undefined&&target!==BREAK&&target!==SKIP){element.ref.replace(target);element.node=target}if(this.__state===BREAK||target===BREAK){return outer.root}node=element.node;if(!node){continue}worklist.push(sentinel);leavelist.push(element);if(this.__state===SKIP||target===SKIP){continue}nodeType=element.wrap||node.type;candidates=VisitorKeys[nodeType];current=candidates.length;while((current-=1)>=0){key=candidates[current];candidate=node[key];if(!candidate){continue}if(!isArray(candidate)){worklist.push(new Element(candidate,key,null,new Reference(node,key)));continue}current2=candidate.length;while((current2-=1)>=0){if(!candidate[current2]){continue}if(nodeType===Syntax.ObjectExpression&&"properties"===candidates[current]){element=new Element(candidate[current2],[key,current2],"Property",new Reference(candidate,current2))}else{element=new Element(candidate[current2],[key,current2],null,new Reference(candidate,current2))}worklist.push(element)}}}return outer.root};function traverse(root,visitor){var controller=new Controller;return controller.traverse(root,visitor)}function replace(root,visitor){var controller=new Controller;return controller.replace(root,visitor)}function extendCommentRange(comment,tokens){var target;target=upperBound(tokens,function search(token){return token.range[0]>comment.range[0]});comment.extendedRange=[comment.range[0],comment.range[1]];if(target!==tokens.length){comment.extendedRange[1]=tokens[target].range[0]}target-=1;if(target>=0){comment.extendedRange[0]=tokens[target].range[1]}return comment}function attachComments(tree,providedComments,tokens){var comments=[],comment,len,i,cursor;if(!tree.range){throw new Error("attachComments needs range information")}if(!tokens.length){if(providedComments.length){for(i=0,len=providedComments.length;i<len;i+=1){comment=deepCopy(providedComments[i]);comment.extendedRange=[0,tree.range[0]];comments.push(comment)}tree.leadingComments=comments}return tree}for(i=0,len=providedComments.length;i<len;i+=1){comments.push(extendCommentRange(deepCopy(providedComments[i]),tokens))}cursor=0;traverse(tree,{enter:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(comment.extendedRange[1]>node.range[0]){break}if(comment.extendedRange[1]===node.range[0]){if(!node.leadingComments){node.leadingComments=[]}node.leadingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});cursor=0;traverse(tree,{leave:function(node){var comment;while(cursor<comments.length){comment=comments[cursor];if(node.range[1]<comment.extendedRange[0]){break}if(node.range[1]===comment.extendedRange[0]){if(!node.trailingComments){node.trailingComments=[]}node.trailingComments.push(comment);comments.splice(cursor,1)}else{cursor+=1}}if(cursor===comments.length){return VisitorOption.Break}if(comments[cursor].extendedRange[0]>node.range[1]){return VisitorOption.Skip}}});return tree}exports.version="1.3.3-dev";exports.Syntax=Syntax;exports.traverse=traverse;exports.replace=replace;exports.attachComments=attachComments;exports.VisitorKeys=VisitorKeys;exports.VisitorOption=VisitorOption;exports.Controller=Controller})});require("/tools/entry-point.js")}).call(this,this);(function(root,factory){if(typeof define==="function"&&define.amd){define("loopProtect",["esprima","escodegen"],function(esprima,escodegen){return root.loopProtect=factory(esprima,escodegen)})}else if(typeof exports==="object"){module.exports=factory(require("esprima"),require("escodegen"))}else{root.loopProtect=factory(esprima,escodegen)}})(this,function(esprima,escodegen){if(!esprima&&!escodegen){return}var clone=function(obj){return JSON.parse(JSON.stringify(obj))};var loopProtect={counters:{},method:"loopProtect.protect",rewriteLoops:function(code){if(~code.indexOf("// noprotect")){return code}else{var ast=esprima.parse(code);process(ast);return escodegen.generate(ast)}},protect:function(state){this.counters[state.line]=this.counters[state.line]||{};var line=this.counters[state.line];var now=(new Date).getTime();if(state.reset){line.time=now;line.hit=0;line.last=0}line.hit++;if(now-line.time>100){var msg="Exiting potential infinite loop at line "+state.line+'. To disable loop protection: add "// noprotect" to your code';console.error(msg);return true}line.last++;return false},reset:function(){this.counters={}}};var inline=esprima.parse("while (1) { if ("+loopProtect.method+"({ line: 1 })) { break; } }").body[0].body.body[0];function processInline(object,counter){var inlinefn=clone(inline);inlinefn.test.arguments[0].properties[0].value={type:"Literal",value:counter,raw:counter+""};if(object.body.type!="BlockStatement"){var cache=object.body;object.body={type:"BlockStatement",body:[]};object.body.body.push(cache)}object.body.body.unshift(inlinefn)}var before=esprima.parse(loopProtect.method+"({ line: 1, reset: true })").body[0];function processBefore(object,counter){var beforefn=clone(before);beforefn.expression.arguments[0].properties[0].value={type:"Literal",value:counter,raw:counter+""};Array("body","consequent","alternate").forEach(function(location){if(!object.parent[location]){return}if(object.parent[location]instanceof Array){var index=object.parent[location].indexOf(object);if(~index){object.parent[location].splice(index,0,beforefn)}}else if(object.parent[location]==object){switch(object.parent.type){case"IfStatement":object.parent[location]={type:"BlockStatement",body:[beforefn,object]};break;case"LabeledStatement":processBefore(object.parent,counter);break;default:throw new Error("Unknown statement type.");break}}})}var counter=0;function process(object){if(!object||!object.type||object.processed){return}if(~["ForStatement","ForInStatement","WhileStatement","DoWhileStatement"].indexOf(object.type)){counter++;processInline(object,counter);processBefore(object,counter);object.processed=true}for(var x in object){if(!object[x]){continue}if(x=="parent"){continue}if(typeof object[x]!="object"){continue}if(object[x]instanceof Array){object[x].forEach(function(item){if(item&&item.type){item.parent=object}});object[x].forEach(process)}else{object[x].parent=object;process(object[x])}}}return loopProtect});